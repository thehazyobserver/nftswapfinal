var Hb=Object.defineProperty;var Hm=t=>{throw TypeError(t)};var Gb=(t,e,n)=>e in t?Hb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var T=(t,e,n)=>Gb(t,typeof e!="symbol"?e+"":e,n),Kd=(t,e,n)=>e.has(t)||Hm("Cannot "+n);var f=(t,e,n)=>(Kd(t,e,"read from private field"),n?n.call(t):e.get(t)),P=(t,e,n)=>e.has(t)?Hm("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),b=(t,e,n,r)=>(Kd(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),U=(t,e,n)=>(Kd(t,e,"access private method"),n);var Qo=(t,e,n,r)=>({set _(s){b(t,e,s,n)},get _(){return f(t,e,r)}});function Qb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var TP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function NP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var A0={exports:{}},pd={},k0={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cu=Symbol.for("react.element"),Wb=Symbol.for("react.portal"),Kb=Symbol.for("react.fragment"),Jb=Symbol.for("react.strict_mode"),$b=Symbol.for("react.profiler"),Yb=Symbol.for("react.provider"),Zb=Symbol.for("react.context"),Xb=Symbol.for("react.forward_ref"),qb=Symbol.for("react.suspense"),eA=Symbol.for("react.memo"),tA=Symbol.for("react.lazy"),Gm=Symbol.iterator;function nA(t){return t===null||typeof t!="object"?null:(t=Gm&&t[Gm]||t["@@iterator"],typeof t=="function"?t:null)}var E0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T0=Object.assign,N0={};function Lo(t,e,n){this.props=t,this.context=e,this.refs=N0,this.updater=n||E0}Lo.prototype.isReactComponent={};Lo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Lo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function S0(){}S0.prototype=Lo.prototype;function Ah(t,e,n){this.props=t,this.context=e,this.refs=N0,this.updater=n||E0}var kh=Ah.prototype=new S0;kh.constructor=Ah;T0(kh,Lo.prototype);kh.isPureReactComponent=!0;var Qm=Array.isArray,P0=Object.prototype.hasOwnProperty,Eh={current:null},C0={key:!0,ref:!0,__self:!0,__source:!0};function I0(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)P0.call(e,r)&&!C0.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:cu,type:t,key:i,ref:a,props:s,_owner:Eh.current}}function rA(t,e){return{$$typeof:cu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Th(t){return typeof t=="object"&&t!==null&&t.$$typeof===cu}function sA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vm=/\/+/g;function Jd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sA(""+t.key):e.toString(36)}function qu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case cu:case Wb:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Jd(a,0):r,Qm(s)?(n="",t!=null&&(n=t.replace(Vm,"$&/")+"/"),qu(s,e,n,"",function(u){return u})):s!=null&&(Th(s)&&(s=rA(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Vm,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Qm(t))for(var o=0;o<t.length;o++){i=t[o];var l=r+Jd(i,o);a+=qu(i,e,n,l,s)}else if(l=nA(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=r+Jd(i,o++),a+=qu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Su(t,e,n){if(t==null)return t;var r=[],s=0;return qu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function iA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bt={current:null},ec={transition:null},aA={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:ec,ReactCurrentOwner:Eh};function R0(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Su,forEach:function(t,e,n){Su(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Su(t,function(){e++}),e},toArray:function(t){return Su(t,function(e){return e})||[]},only:function(t){if(!Th(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=Lo;he.Fragment=Kb;he.Profiler=$b;he.PureComponent=Ah;he.StrictMode=Jb;he.Suspense=qb;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aA;he.act=R0;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=T0({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Eh.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)P0.call(e,l)&&!C0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:cu,type:t.type,key:s,ref:i,props:r,_owner:a}};he.createContext=function(t){return t={$$typeof:Zb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Yb,_context:t},t.Consumer=t};he.createElement=I0;he.createFactory=function(t){var e=I0.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:Xb,render:t}};he.isValidElement=Th;he.lazy=function(t){return{$$typeof:tA,_payload:{_status:-1,_result:t},_init:iA}};he.memo=function(t,e){return{$$typeof:eA,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=ec.transition;ec.transition={};try{t()}finally{ec.transition=e}};he.unstable_act=R0;he.useCallback=function(t,e){return Bt.current.useCallback(t,e)};he.useContext=function(t){return Bt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Bt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Bt.current.useEffect(t,e)};he.useId=function(){return Bt.current.useId()};he.useImperativeHandle=function(t,e,n){return Bt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Bt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Bt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Bt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Bt.current.useReducer(t,e,n)};he.useRef=function(t){return Bt.current.useRef(t)};he.useState=function(t){return Bt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Bt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Bt.current.useTransition()};he.version="18.3.1";k0.exports=he;var O=k0.exports;const xo=Vb(O),oA=Qb({__proto__:null,default:xo},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lA=O,uA=Symbol.for("react.element"),cA=Symbol.for("react.fragment"),dA=Object.prototype.hasOwnProperty,fA=lA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pA={key:!0,ref:!0,__self:!0,__source:!0};function O0(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)dA.call(e,r)&&!pA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:uA,type:t,key:i,ref:a,props:s,_owner:fA.current}}pd.Fragment=cA;pd.jsx=O0;pd.jsxs=O0;A0.exports=pd;var h=A0.exports,B0={exports:{}},an={},F0={exports:{}},M0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,H){var V=B.length;B.push(H);e:for(;0<V;){var ne=V-1>>>1,se=B[ne];if(0<s(se,H))B[ne]=H,B[V]=se,V=ne;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var H=B[0],V=B.pop();if(V!==H){B[0]=V;e:for(var ne=0,se=B.length,Ee=se>>>1;ne<Ee;){var be=2*(ne+1)-1,Ze=B[be],pe=be+1,me=B[pe];if(0>s(Ze,V))pe<se&&0>s(me,Ze)?(B[ne]=me,B[pe]=V,ne=pe):(B[ne]=Ze,B[be]=V,ne=be);else if(pe<se&&0>s(me,V))B[ne]=me,B[pe]=V,ne=pe;else break e}}return H}function s(B,H){var V=B.sortIndex-H.sortIndex;return V!==0?V:B.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,p=3,y=!1,x=!1,v=!1,A=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=B)r(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(u)}}function E(B){if(v=!1,w(B),!x)if(n(l)!==null)x=!0,D(N);else{var H=n(u);H!==null&&G(E,H.startTime-B)}}function N(B,H){x=!1,v&&(v=!1,m(R),R=-1),y=!0;var V=p;try{for(w(H),d=n(l);d!==null&&(!(d.expirationTime>H)||B&&!L());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,p=d.priorityLevel;var se=ne(d.expirationTime<=H);H=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(l)&&r(l),w(H)}else r(l);d=n(l)}if(d!==null)var Ee=!0;else{var be=n(u);be!==null&&G(E,be.startTime-H),Ee=!1}return Ee}finally{d=null,p=V,y=!1}}var C=!1,I=null,R=-1,j=5,_=-1;function L(){return!(t.unstable_now()-_<j)}function ie(){if(I!==null){var B=t.unstable_now();_=B;var H=!0;try{H=I(!0,B)}finally{H?q():(C=!1,I=null)}}else C=!1}var q;if(typeof g=="function")q=function(){g(ie)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,S=Fe.port2;Fe.port1.onmessage=ie,q=function(){S.postMessage(null)}}else q=function(){A(ie,0)};function D(B){I=B,C||(C=!0,q())}function G(B,H){R=A(function(){B(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,D(N))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var V=p;p=H;try{return B()}finally{p=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var V=p;p=B;try{return H()}finally{p=V}},t.unstable_scheduleCallback=function(B,H,V){var ne=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ne+V:ne):V=ne,B){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=V+se,B={id:c++,callback:H,priorityLevel:B,startTime:V,expirationTime:se,sortIndex:-1},V>ne?(B.sortIndex=V,e(u,B),n(l)===null&&B===n(u)&&(v?(m(R),R=-1):v=!0,G(E,V-ne))):(B.sortIndex=se,e(l,B),x||y||(x=!0,D(N))),B},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(B){var H=p;return function(){var V=p;p=H;try{return B.apply(this,arguments)}finally{p=V}}}})(M0);F0.exports=M0;var hA=F0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mA=O,sn=hA;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L0=new Set,Al={};function Hi(t,e){bo(t,e),bo(t+"Capture",e)}function bo(t,e){for(Al[t]=e,t=0;t<e.length;t++)L0.add(e[t])}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qf=Object.prototype.hasOwnProperty,yA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wm={},Km={};function gA(t){return Qf.call(Km,t)?!0:Qf.call(Wm,t)?!1:yA.test(t)?Km[t]=!0:(Wm[t]=!0,!1)}function wA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vA(t,e,n,r){if(e===null||typeof e>"u"||wA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ft(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ht[t]=new Ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ht[e]=new Ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ht[t]=new Ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ht[t]=new Ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ht[t]=new Ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ht[t]=new Ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ht[t]=new Ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ht[t]=new Ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ht[t]=new Ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nh=/[\-:]([a-z])/g;function Sh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nh,Sh);ht[e]=new Ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nh,Sh);ht[e]=new Ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nh,Sh);ht[e]=new Ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ht[t]=new Ft(t,1,!1,t.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ht[t]=new Ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ph(t,e,n,r){var s=ht.hasOwnProperty(e)?ht[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vA(e,n,s,r)&&(n=null),r||s===null?gA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gr=mA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pu=Symbol.for("react.element"),na=Symbol.for("react.portal"),ra=Symbol.for("react.fragment"),Ch=Symbol.for("react.strict_mode"),Vf=Symbol.for("react.profiler"),U0=Symbol.for("react.provider"),D0=Symbol.for("react.context"),Ih=Symbol.for("react.forward_ref"),Wf=Symbol.for("react.suspense"),Kf=Symbol.for("react.suspense_list"),Rh=Symbol.for("react.memo"),qr=Symbol.for("react.lazy"),j0=Symbol.for("react.offscreen"),Jm=Symbol.iterator;function Vo(t){return t===null||typeof t!="object"?null:(t=Jm&&t[Jm]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Object.assign,$d;function nl(t){if($d===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$d=e&&e[1]||""}return`
`+$d+t}var Yd=!1;function Zd(t,e){if(!t||Yd)return"";Yd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Yd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?nl(t):""}function xA(t){switch(t.tag){case 5:return nl(t.type);case 16:return nl("Lazy");case 13:return nl("Suspense");case 19:return nl("SuspenseList");case 0:case 2:case 15:return t=Zd(t.type,!1),t;case 11:return t=Zd(t.type.render,!1),t;case 1:return t=Zd(t.type,!0),t;default:return""}}function Jf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ra:return"Fragment";case na:return"Portal";case Vf:return"Profiler";case Ch:return"StrictMode";case Wf:return"Suspense";case Kf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D0:return(t.displayName||"Context")+".Consumer";case U0:return(t._context.displayName||"Context")+".Provider";case Ih:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rh:return e=t.displayName||null,e!==null?e:Jf(t.type)||"Memo";case qr:e=t._payload,t=t._init;try{return Jf(t(e))}catch{}}return null}function bA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jf(e);case 8:return e===Ch?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AA(t){var e=_0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cu(t){t._valueTracker||(t._valueTracker=AA(t))}function z0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $f(t,e){var n=e.checked;return _e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $m(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function H0(t,e){e=e.checked,e!=null&&Ph(t,"checked",e,!1)}function Yf(t,e){H0(t,e);var n=Fs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zf(t,e.type,Fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ym(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zf(t,e,n){(e!=="number"||bc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var rl=Array.isArray;function Aa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Xf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return _e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(rl(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fs(n)}}function G0(t,e){var n=Fs(e.value),r=Fs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Xm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Q0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Q0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Iu,V0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Iu=Iu||document.createElement("div"),Iu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Iu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var dl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kA=["Webkit","ms","Moz","O"];Object.keys(dl).forEach(function(t){kA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dl[e]=dl[t]})});function W0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||dl.hasOwnProperty(t)&&dl[t]?(""+e).trim():e+"px"}function K0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=W0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var EA=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ep(t,e){if(e){if(EA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function tp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var np=null;function Oh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rp=null,ka=null,Ea=null;function qm(t){if(t=pu(t)){if(typeof rp!="function")throw Error(z(280));var e=t.stateNode;e&&(e=wd(e),rp(t.stateNode,t.type,e))}}function J0(t){ka?Ea?Ea.push(t):Ea=[t]:ka=t}function $0(){if(ka){var t=ka,e=Ea;if(Ea=ka=null,qm(t),e)for(t=0;t<e.length;t++)qm(e[t])}}function Y0(t,e){return t(e)}function Z0(){}var Xd=!1;function X0(t,e,n){if(Xd)return t(e,n);Xd=!0;try{return Y0(t,e,n)}finally{Xd=!1,(ka!==null||Ea!==null)&&(Z0(),$0())}}function El(t,e){var n=t.stateNode;if(n===null)return null;var r=wd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var sp=!1;if(Lr)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){sp=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{sp=!1}function TA(t,e,n,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var fl=!1,Ac=null,kc=!1,ip=null,NA={onError:function(t){fl=!0,Ac=t}};function SA(t,e,n,r,s,i,a,o,l){fl=!1,Ac=null,TA.apply(NA,arguments)}function PA(t,e,n,r,s,i,a,o,l){if(SA.apply(this,arguments),fl){if(fl){var u=Ac;fl=!1,Ac=null}else throw Error(z(198));kc||(kc=!0,ip=u)}}function Gi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function q0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ey(t){if(Gi(t)!==t)throw Error(z(188))}function CA(t){var e=t.alternate;if(!e){if(e=Gi(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ey(s),t;if(i===r)return ey(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function ew(t){return t=CA(t),t!==null?tw(t):null}function tw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tw(t);if(e!==null)return e;t=t.sibling}return null}var nw=sn.unstable_scheduleCallback,ty=sn.unstable_cancelCallback,IA=sn.unstable_shouldYield,RA=sn.unstable_requestPaint,Ve=sn.unstable_now,OA=sn.unstable_getCurrentPriorityLevel,Bh=sn.unstable_ImmediatePriority,rw=sn.unstable_UserBlockingPriority,Ec=sn.unstable_NormalPriority,BA=sn.unstable_LowPriority,sw=sn.unstable_IdlePriority,hd=null,or=null;function FA(t){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(hd,t,void 0,(t.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:UA,MA=Math.log,LA=Math.LN2;function UA(t){return t>>>=0,t===0?32:31-(MA(t)/LA|0)|0}var Ru=64,Ou=4194304;function sl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=sl(o):(i&=a,i!==0&&(r=sl(i)))}else a=n&~s,a!==0?r=sl(a):i!==0&&(r=sl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jn(e),s=1<<n,r|=t[n],e&=~s;return r}function DA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-jn(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=DA(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function ap(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iw(){var t=Ru;return Ru<<=1,!(Ru&4194240)&&(Ru=64),t}function qd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function du(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jn(e),t[e]=n}function _A(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-jn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Fh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Te=0;function aw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ow,Mh,lw,uw,cw,op=!1,Bu=[],Es=null,Ts=null,Ns=null,Tl=new Map,Nl=new Map,ns=[],zA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ny(t,e){switch(t){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":Tl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(e.pointerId)}}function Ko(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=pu(e),e!==null&&Mh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function HA(t,e,n,r,s){switch(e){case"focusin":return Es=Ko(Es,t,e,n,r,s),!0;case"dragenter":return Ts=Ko(Ts,t,e,n,r,s),!0;case"mouseover":return Ns=Ko(Ns,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Tl.set(i,Ko(Tl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Nl.set(i,Ko(Nl.get(i)||null,t,e,n,r,s)),!0}return!1}function dw(t){var e=ti(t.target);if(e!==null){var n=Gi(e);if(n!==null){if(e=n.tag,e===13){if(e=q0(n),e!==null){t.blockedOn=e,cw(t.priority,function(){lw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);np=r,n.target.dispatchEvent(r),np=null}else return e=pu(n),e!==null&&Mh(e),t.blockedOn=n,!1;e.shift()}return!0}function ry(t,e,n){tc(t)&&n.delete(e)}function GA(){op=!1,Es!==null&&tc(Es)&&(Es=null),Ts!==null&&tc(Ts)&&(Ts=null),Ns!==null&&tc(Ns)&&(Ns=null),Tl.forEach(ry),Nl.forEach(ry)}function Jo(t,e){t.blockedOn===e&&(t.blockedOn=null,op||(op=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,GA)))}function Sl(t){function e(s){return Jo(s,t)}if(0<Bu.length){Jo(Bu[0],t);for(var n=1;n<Bu.length;n++){var r=Bu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Es!==null&&Jo(Es,t),Ts!==null&&Jo(Ts,t),Ns!==null&&Jo(Ns,t),Tl.forEach(e),Nl.forEach(e),n=0;n<ns.length;n++)r=ns[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ns.length&&(n=ns[0],n.blockedOn===null);)dw(n),n.blockedOn===null&&ns.shift()}var Ta=Gr.ReactCurrentBatchConfig,Nc=!0;function QA(t,e,n,r){var s=Te,i=Ta.transition;Ta.transition=null;try{Te=1,Lh(t,e,n,r)}finally{Te=s,Ta.transition=i}}function VA(t,e,n,r){var s=Te,i=Ta.transition;Ta.transition=null;try{Te=4,Lh(t,e,n,r)}finally{Te=s,Ta.transition=i}}function Lh(t,e,n,r){if(Nc){var s=lp(t,e,n,r);if(s===null)cf(t,e,r,Sc,n),ny(t,r);else if(HA(s,t,e,n,r))r.stopPropagation();else if(ny(t,r),e&4&&-1<zA.indexOf(t)){for(;s!==null;){var i=pu(s);if(i!==null&&ow(i),i=lp(t,e,n,r),i===null&&cf(t,e,r,Sc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else cf(t,e,r,null,n)}}var Sc=null;function lp(t,e,n,r){if(Sc=null,t=Oh(r),t=ti(t),t!==null)if(e=Gi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=q0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sc=t,null}function fw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OA()){case Bh:return 1;case rw:return 4;case Ec:case BA:return 16;case sw:return 536870912;default:return 16}default:return 16}}var bs=null,Uh=null,nc=null;function pw(){if(nc)return nc;var t,e=Uh,n=e.length,r,s="value"in bs?bs.value:bs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return nc=s.slice(t,1<r?1-r:void 0)}function rc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fu(){return!0}function sy(){return!1}function on(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fu:sy,this.isPropagationStopped=sy,this}return _e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fu)},persist:function(){},isPersistent:Fu}),e}var Uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dh=on(Uo),fu=_e({},Uo,{view:0,detail:0}),WA=on(fu),ef,tf,$o,md=_e({},fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$o&&($o&&t.type==="mousemove"?(ef=t.screenX-$o.screenX,tf=t.screenY-$o.screenY):tf=ef=0,$o=t),ef)},movementY:function(t){return"movementY"in t?t.movementY:tf}}),iy=on(md),KA=_e({},md,{dataTransfer:0}),JA=on(KA),$A=_e({},fu,{relatedTarget:0}),nf=on($A),YA=_e({},Uo,{animationName:0,elapsedTime:0,pseudoElement:0}),ZA=on(YA),XA=_e({},Uo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qA=on(XA),e1=_e({},Uo,{data:0}),ay=on(e1),t1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=r1[t])?!!e[t]:!1}function jh(){return s1}var i1=_e({},fu,{key:function(t){if(t.key){var e=t1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?n1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jh,charCode:function(t){return t.type==="keypress"?rc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),a1=on(i1),o1=_e({},md,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oy=on(o1),l1=_e({},fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jh}),u1=on(l1),c1=_e({},Uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),d1=on(c1),f1=_e({},md,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),p1=on(f1),h1=[9,13,27,32],_h=Lr&&"CompositionEvent"in window,pl=null;Lr&&"documentMode"in document&&(pl=document.documentMode);var m1=Lr&&"TextEvent"in window&&!pl,hw=Lr&&(!_h||pl&&8<pl&&11>=pl),ly=" ",uy=!1;function mw(t,e){switch(t){case"keyup":return h1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sa=!1;function y1(t,e){switch(t){case"compositionend":return yw(e);case"keypress":return e.which!==32?null:(uy=!0,ly);case"textInput":return t=e.data,t===ly&&uy?null:t;default:return null}}function g1(t,e){if(sa)return t==="compositionend"||!_h&&mw(t,e)?(t=pw(),nc=Uh=bs=null,sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hw&&e.locale!=="ko"?null:e.data;default:return null}}var w1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!w1[t.type]:e==="textarea"}function gw(t,e,n,r){J0(r),e=Pc(e,"onChange"),0<e.length&&(n=new Dh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hl=null,Pl=null;function v1(t){Pw(t,0)}function yd(t){var e=oa(t);if(z0(e))return t}function x1(t,e){if(t==="change")return e}var ww=!1;if(Lr){var rf;if(Lr){var sf="oninput"in document;if(!sf){var dy=document.createElement("div");dy.setAttribute("oninput","return;"),sf=typeof dy.oninput=="function"}rf=sf}else rf=!1;ww=rf&&(!document.documentMode||9<document.documentMode)}function fy(){hl&&(hl.detachEvent("onpropertychange",vw),Pl=hl=null)}function vw(t){if(t.propertyName==="value"&&yd(Pl)){var e=[];gw(e,Pl,t,Oh(t)),X0(v1,e)}}function b1(t,e,n){t==="focusin"?(fy(),hl=e,Pl=n,hl.attachEvent("onpropertychange",vw)):t==="focusout"&&fy()}function A1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yd(Pl)}function k1(t,e){if(t==="click")return yd(e)}function E1(t,e){if(t==="input"||t==="change")return yd(e)}function T1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zn=typeof Object.is=="function"?Object.is:T1;function Cl(t,e){if(zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Qf.call(e,s)||!zn(t[s],e[s]))return!1}return!0}function py(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hy(t,e){var n=py(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=py(n)}}function xw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bw(){for(var t=window,e=bc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bc(t.document)}return e}function zh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function N1(t){var e=bw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xw(n.ownerDocument.documentElement,n)){if(r!==null&&zh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=hy(n,i);var a=hy(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var S1=Lr&&"documentMode"in document&&11>=document.documentMode,ia=null,up=null,ml=null,cp=!1;function my(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cp||ia==null||ia!==bc(r)||(r=ia,"selectionStart"in r&&zh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ml&&Cl(ml,r)||(ml=r,r=Pc(up,"onSelect"),0<r.length&&(e=new Dh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ia)))}function Mu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var aa={animationend:Mu("Animation","AnimationEnd"),animationiteration:Mu("Animation","AnimationIteration"),animationstart:Mu("Animation","AnimationStart"),transitionend:Mu("Transition","TransitionEnd")},af={},Aw={};Lr&&(Aw=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function gd(t){if(af[t])return af[t];if(!aa[t])return t;var e=aa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Aw)return af[t]=e[n];return t}var kw=gd("animationend"),Ew=gd("animationiteration"),Tw=gd("animationstart"),Nw=gd("transitionend"),Sw=new Map,yy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(t,e){Sw.set(t,e),Hi(e,[t])}for(var of=0;of<yy.length;of++){var lf=yy[of],P1=lf.toLowerCase(),C1=lf[0].toUpperCase()+lf.slice(1);js(P1,"on"+C1)}js(kw,"onAnimationEnd");js(Ew,"onAnimationIteration");js(Tw,"onAnimationStart");js("dblclick","onDoubleClick");js("focusin","onFocus");js("focusout","onBlur");js(Nw,"onTransitionEnd");bo("onMouseEnter",["mouseout","mouseover"]);bo("onMouseLeave",["mouseout","mouseover"]);bo("onPointerEnter",["pointerout","pointerover"]);bo("onPointerLeave",["pointerout","pointerover"]);Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I1=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function gy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,PA(r,e,void 0,t),t.currentTarget=null}function Pw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;gy(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;gy(s,o,u),i=l}}}if(kc)throw t=ip,kc=!1,ip=null,t}function Oe(t,e){var n=e[mp];n===void 0&&(n=e[mp]=new Set);var r=t+"__bubble";n.has(r)||(Cw(e,t,2,!1),n.add(r))}function uf(t,e,n){var r=0;e&&(r|=4),Cw(n,t,r,e)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function Il(t){if(!t[Lu]){t[Lu]=!0,L0.forEach(function(n){n!=="selectionchange"&&(I1.has(n)||uf(n,!1,t),uf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lu]||(e[Lu]=!0,uf("selectionchange",!1,e))}}function Cw(t,e,n,r){switch(fw(e)){case 1:var s=QA;break;case 4:s=VA;break;default:s=Lh}n=s.bind(null,e,n,t),s=void 0,!sp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function cf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=ti(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}X0(function(){var u=i,c=Oh(n),d=[];e:{var p=Sw.get(t);if(p!==void 0){var y=Dh,x=t;switch(t){case"keypress":if(rc(n)===0)break e;case"keydown":case"keyup":y=a1;break;case"focusin":x="focus",y=nf;break;case"focusout":x="blur",y=nf;break;case"beforeblur":case"afterblur":y=nf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=JA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=u1;break;case kw:case Ew:case Tw:y=ZA;break;case Nw:y=d1;break;case"scroll":y=WA;break;case"wheel":y=p1;break;case"copy":case"cut":case"paste":y=qA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=oy}var v=(e&4)!==0,A=!v&&t==="scroll",m=v?p!==null?p+"Capture":null:p;v=[];for(var g=u,w;g!==null;){w=g;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,m!==null&&(E=El(g,m),E!=null&&v.push(Rl(g,E,w)))),A)break;g=g.return}0<v.length&&(p=new y(p,x,null,n,c),d.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==np&&(x=n.relatedTarget||n.fromElement)&&(ti(x)||x[Ur]))break e;if((y||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=u,x=x?ti(x):null,x!==null&&(A=Gi(x),x!==A||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(v=iy,E="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=oy,E="onPointerLeave",m="onPointerEnter",g="pointer"),A=y==null?p:oa(y),w=x==null?p:oa(x),p=new v(E,g+"leave",y,n,c),p.target=A,p.relatedTarget=w,E=null,ti(c)===u&&(v=new v(m,g+"enter",x,n,c),v.target=w,v.relatedTarget=A,E=v),A=E,y&&x)t:{for(v=y,m=x,g=0,w=v;w;w=Ji(w))g++;for(w=0,E=m;E;E=Ji(E))w++;for(;0<g-w;)v=Ji(v),g--;for(;0<w-g;)m=Ji(m),w--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=Ji(v),m=Ji(m)}v=null}else v=null;y!==null&&wy(d,p,y,v,!1),x!==null&&A!==null&&wy(d,A,x,v,!0)}}e:{if(p=u?oa(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var N=x1;else if(cy(p))if(ww)N=E1;else{N=A1;var C=b1}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=k1);if(N&&(N=N(t,u))){gw(d,N,n,c);break e}C&&C(t,p,u),t==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Zf(p,"number",p.value)}switch(C=u?oa(u):window,t){case"focusin":(cy(C)||C.contentEditable==="true")&&(ia=C,up=u,ml=null);break;case"focusout":ml=up=ia=null;break;case"mousedown":cp=!0;break;case"contextmenu":case"mouseup":case"dragend":cp=!1,my(d,n,c);break;case"selectionchange":if(S1)break;case"keydown":case"keyup":my(d,n,c)}var I;if(_h)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else sa?mw(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(hw&&n.locale!=="ko"&&(sa||R!=="onCompositionStart"?R==="onCompositionEnd"&&sa&&(I=pw()):(bs=c,Uh="value"in bs?bs.value:bs.textContent,sa=!0)),C=Pc(u,R),0<C.length&&(R=new ay(R,t,null,n,c),d.push({event:R,listeners:C}),I?R.data=I:(I=yw(n),I!==null&&(R.data=I)))),(I=m1?y1(t,n):g1(t,n))&&(u=Pc(u,"onBeforeInput"),0<u.length&&(c=new ay("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=I))}Pw(d,e)})}function Rl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=El(t,n),i!=null&&r.unshift(Rl(t,i,s)),i=El(t,e),i!=null&&r.push(Rl(t,i,s))),t=t.return}return r}function Ji(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wy(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=El(n,i),l!=null&&a.unshift(Rl(n,l,o))):s||(l=El(n,i),l!=null&&a.push(Rl(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var R1=/\r\n?/g,O1=/\u0000|\uFFFD/g;function vy(t){return(typeof t=="string"?t:""+t).replace(R1,`
`).replace(O1,"")}function Uu(t,e,n){if(e=vy(e),vy(t)!==e&&n)throw Error(z(425))}function Cc(){}var dp=null,fp=null;function pp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hp=typeof setTimeout=="function"?setTimeout:void 0,B1=typeof clearTimeout=="function"?clearTimeout:void 0,xy=typeof Promise=="function"?Promise:void 0,F1=typeof queueMicrotask=="function"?queueMicrotask:typeof xy<"u"?function(t){return xy.resolve(null).then(t).catch(M1)}:hp;function M1(t){setTimeout(function(){throw t})}function df(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Sl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Sl(e)}function Ss(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function by(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Do=Math.random().toString(36).slice(2),rr="__reactFiber$"+Do,Ol="__reactProps$"+Do,Ur="__reactContainer$"+Do,mp="__reactEvents$"+Do,L1="__reactListeners$"+Do,U1="__reactHandles$"+Do;function ti(t){var e=t[rr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ur]||n[rr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=by(t);t!==null;){if(n=t[rr])return n;t=by(t)}return e}t=n,n=t.parentNode}return null}function pu(t){return t=t[rr]||t[Ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function oa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function wd(t){return t[Ol]||null}var yp=[],la=-1;function _s(t){return{current:t}}function Be(t){0>la||(t.current=yp[la],yp[la]=null,la--)}function Ce(t,e){la++,yp[la]=t.current,t.current=e}var Ms={},At=_s(Ms),Gt=_s(!1),Oi=Ms;function Ao(t,e){var n=t.type.contextTypes;if(!n)return Ms;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Qt(t){return t=t.childContextTypes,t!=null}function Ic(){Be(Gt),Be(At)}function Ay(t,e,n){if(At.current!==Ms)throw Error(z(168));Ce(At,e),Ce(Gt,n)}function Iw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,bA(t)||"Unknown",s));return _e({},n,r)}function Rc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ms,Oi=At.current,Ce(At,t),Ce(Gt,Gt.current),!0}function ky(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=Iw(t,e,Oi),r.__reactInternalMemoizedMergedChildContext=t,Be(Gt),Be(At),Ce(At,t)):Be(Gt),Ce(Gt,n)}var yr=null,vd=!1,ff=!1;function Rw(t){yr===null?yr=[t]:yr.push(t)}function D1(t){vd=!0,Rw(t)}function zs(){if(!ff&&yr!==null){ff=!0;var t=0,e=Te;try{var n=yr;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yr=null,vd=!1}catch(s){throw yr!==null&&(yr=yr.slice(t+1)),nw(Bh,zs),s}finally{Te=e,ff=!1}}return null}var ua=[],ca=0,Oc=null,Bc=0,yn=[],gn=0,Bi=null,Ir=1,Rr="";function Ws(t,e){ua[ca++]=Bc,ua[ca++]=Oc,Oc=t,Bc=e}function Ow(t,e,n){yn[gn++]=Ir,yn[gn++]=Rr,yn[gn++]=Bi,Bi=t;var r=Ir;t=Rr;var s=32-jn(r)-1;r&=~(1<<s),n+=1;var i=32-jn(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Ir=1<<32-jn(e)+s|n<<s|r,Rr=i+t}else Ir=1<<i|n<<s|r,Rr=t}function Hh(t){t.return!==null&&(Ws(t,1),Ow(t,1,0))}function Gh(t){for(;t===Oc;)Oc=ua[--ca],ua[ca]=null,Bc=ua[--ca],ua[ca]=null;for(;t===Bi;)Bi=yn[--gn],yn[gn]=null,Rr=yn[--gn],yn[gn]=null,Ir=yn[--gn],yn[gn]=null}var rn=null,nn=null,Le=!1,Ln=null;function Bw(t,e){var n=wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ey(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rn=t,nn=Ss(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rn=t,nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Bi!==null?{id:Ir,overflow:Rr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rn=t,nn=null,!0):!1;default:return!1}}function gp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wp(t){if(Le){var e=nn;if(e){var n=e;if(!Ey(t,e)){if(gp(t))throw Error(z(418));e=Ss(n.nextSibling);var r=rn;e&&Ey(t,e)?Bw(r,n):(t.flags=t.flags&-4097|2,Le=!1,rn=t)}}else{if(gp(t))throw Error(z(418));t.flags=t.flags&-4097|2,Le=!1,rn=t}}}function Ty(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function Du(t){if(t!==rn)return!1;if(!Le)return Ty(t),Le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pp(t.type,t.memoizedProps)),e&&(e=nn)){if(gp(t))throw Fw(),Error(z(418));for(;e;)Bw(t,e),e=Ss(e.nextSibling)}if(Ty(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nn=Ss(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nn=null}}else nn=rn?Ss(t.stateNode.nextSibling):null;return!0}function Fw(){for(var t=nn;t;)t=Ss(t.nextSibling)}function ko(){nn=rn=null,Le=!1}function Qh(t){Ln===null?Ln=[t]:Ln.push(t)}var j1=Gr.ReactCurrentBatchConfig;function Yo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function ju(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ny(t){var e=t._init;return e(t._payload)}function Mw(t){function e(m,g){if(t){var w=m.deletions;w===null?(m.deletions=[g],m.flags|=16):w.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function s(m,g){return m=Rs(m,g),m.index=0,m.sibling=null,m}function i(m,g,w){return m.index=w,t?(w=m.alternate,w!==null?(w=w.index,w<g?(m.flags|=2,g):w):(m.flags|=2,g)):(m.flags|=1048576,g)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,g,w,E){return g===null||g.tag!==6?(g=vf(w,m.mode,E),g.return=m,g):(g=s(g,w),g.return=m,g)}function l(m,g,w,E){var N=w.type;return N===ra?c(m,g,w.props.children,E,w.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===qr&&Ny(N)===g.type)?(E=s(g,w.props),E.ref=Yo(m,g,w),E.return=m,E):(E=cc(w.type,w.key,w.props,null,m.mode,E),E.ref=Yo(m,g,w),E.return=m,E)}function u(m,g,w,E){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=xf(w,m.mode,E),g.return=m,g):(g=s(g,w.children||[]),g.return=m,g)}function c(m,g,w,E,N){return g===null||g.tag!==7?(g=Ci(w,m.mode,E,N),g.return=m,g):(g=s(g,w),g.return=m,g)}function d(m,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=vf(""+g,m.mode,w),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Pu:return w=cc(g.type,g.key,g.props,null,m.mode,w),w.ref=Yo(m,null,g),w.return=m,w;case na:return g=xf(g,m.mode,w),g.return=m,g;case qr:var E=g._init;return d(m,E(g._payload),w)}if(rl(g)||Vo(g))return g=Ci(g,m.mode,w,null),g.return=m,g;ju(m,g)}return null}function p(m,g,w,E){var N=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:o(m,g,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pu:return w.key===N?l(m,g,w,E):null;case na:return w.key===N?u(m,g,w,E):null;case qr:return N=w._init,p(m,g,N(w._payload),E)}if(rl(w)||Vo(w))return N!==null?null:c(m,g,w,E,null);ju(m,w)}return null}function y(m,g,w,E,N){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(w)||null,o(g,m,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pu:return m=m.get(E.key===null?w:E.key)||null,l(g,m,E,N);case na:return m=m.get(E.key===null?w:E.key)||null,u(g,m,E,N);case qr:var C=E._init;return y(m,g,w,C(E._payload),N)}if(rl(E)||Vo(E))return m=m.get(w)||null,c(g,m,E,N,null);ju(g,E)}return null}function x(m,g,w,E){for(var N=null,C=null,I=g,R=g=0,j=null;I!==null&&R<w.length;R++){I.index>R?(j=I,I=null):j=I.sibling;var _=p(m,I,w[R],E);if(_===null){I===null&&(I=j);break}t&&I&&_.alternate===null&&e(m,I),g=i(_,g,R),C===null?N=_:C.sibling=_,C=_,I=j}if(R===w.length)return n(m,I),Le&&Ws(m,R),N;if(I===null){for(;R<w.length;R++)I=d(m,w[R],E),I!==null&&(g=i(I,g,R),C===null?N=I:C.sibling=I,C=I);return Le&&Ws(m,R),N}for(I=r(m,I);R<w.length;R++)j=y(I,m,R,w[R],E),j!==null&&(t&&j.alternate!==null&&I.delete(j.key===null?R:j.key),g=i(j,g,R),C===null?N=j:C.sibling=j,C=j);return t&&I.forEach(function(L){return e(m,L)}),Le&&Ws(m,R),N}function v(m,g,w,E){var N=Vo(w);if(typeof N!="function")throw Error(z(150));if(w=N.call(w),w==null)throw Error(z(151));for(var C=N=null,I=g,R=g=0,j=null,_=w.next();I!==null&&!_.done;R++,_=w.next()){I.index>R?(j=I,I=null):j=I.sibling;var L=p(m,I,_.value,E);if(L===null){I===null&&(I=j);break}t&&I&&L.alternate===null&&e(m,I),g=i(L,g,R),C===null?N=L:C.sibling=L,C=L,I=j}if(_.done)return n(m,I),Le&&Ws(m,R),N;if(I===null){for(;!_.done;R++,_=w.next())_=d(m,_.value,E),_!==null&&(g=i(_,g,R),C===null?N=_:C.sibling=_,C=_);return Le&&Ws(m,R),N}for(I=r(m,I);!_.done;R++,_=w.next())_=y(I,m,R,_.value,E),_!==null&&(t&&_.alternate!==null&&I.delete(_.key===null?R:_.key),g=i(_,g,R),C===null?N=_:C.sibling=_,C=_);return t&&I.forEach(function(ie){return e(m,ie)}),Le&&Ws(m,R),N}function A(m,g,w,E){if(typeof w=="object"&&w!==null&&w.type===ra&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Pu:e:{for(var N=w.key,C=g;C!==null;){if(C.key===N){if(N=w.type,N===ra){if(C.tag===7){n(m,C.sibling),g=s(C,w.props.children),g.return=m,m=g;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===qr&&Ny(N)===C.type){n(m,C.sibling),g=s(C,w.props),g.ref=Yo(m,C,w),g.return=m,m=g;break e}n(m,C);break}else e(m,C);C=C.sibling}w.type===ra?(g=Ci(w.props.children,m.mode,E,w.key),g.return=m,m=g):(E=cc(w.type,w.key,w.props,null,m.mode,E),E.ref=Yo(m,g,w),E.return=m,m=E)}return a(m);case na:e:{for(C=w.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(m,g.sibling),g=s(g,w.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=xf(w,m.mode,E),g.return=m,m=g}return a(m);case qr:return C=w._init,A(m,g,C(w._payload),E)}if(rl(w))return x(m,g,w,E);if(Vo(w))return v(m,g,w,E);ju(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(m,g.sibling),g=s(g,w),g.return=m,m=g):(n(m,g),g=vf(w,m.mode,E),g.return=m,m=g),a(m)):n(m,g)}return A}var Eo=Mw(!0),Lw=Mw(!1),Fc=_s(null),Mc=null,da=null,Vh=null;function Wh(){Vh=da=Mc=null}function Kh(t){var e=Fc.current;Be(Fc),t._currentValue=e}function vp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Na(t,e){Mc=t,Vh=da=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function xn(t){var e=t._currentValue;if(Vh!==t)if(t={context:t,memoizedValue:e,next:null},da===null){if(Mc===null)throw Error(z(308));da=t,Mc.dependencies={lanes:0,firstContext:t}}else da=da.next=t;return e}var ni=null;function Jh(t){ni===null?ni=[t]:ni.push(t)}function Uw(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Jh(e)):(n.next=s.next,s.next=n),e.interleaved=n,Dr(t,r)}function Dr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var es=!1;function $h(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Br(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Dr(t,n)}return s=r.interleaved,s===null?(e.next=e,Jh(r)):(e.next=s.next,s.next=e),r.interleaved=e,Dr(t,n)}function sc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fh(t,n)}}function Sy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lc(t,e,n,r){var s=t.updateQueue;es=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,c=u=l=null,o=i;do{var p=o.lane,y=o.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=t,v=o;switch(p=e,y=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){d=x.call(y,d,p);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,p=typeof x=="function"?x.call(y,d,p):x,p==null)break e;d=_e({},d,p);break e;case 2:es=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else y={eventTime:y,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=y,l=d):c=c.next=y,a|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Mi|=a,t.lanes=a,t.memoizedState=d}}function Py(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var hu={},lr=_s(hu),Bl=_s(hu),Fl=_s(hu);function ri(t){if(t===hu)throw Error(z(174));return t}function Yh(t,e){switch(Ce(Fl,e),Ce(Bl,t),Ce(lr,hu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qf(e,t)}Be(lr),Ce(lr,e)}function To(){Be(lr),Be(Bl),Be(Fl)}function jw(t){ri(Fl.current);var e=ri(lr.current),n=qf(e,t.type);e!==n&&(Ce(Bl,t),Ce(lr,n))}function Zh(t){Bl.current===t&&(Be(lr),Be(Bl))}var Ue=_s(0);function Uc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pf=[];function Xh(){for(var t=0;t<pf.length;t++)pf[t]._workInProgressVersionPrimary=null;pf.length=0}var ic=Gr.ReactCurrentDispatcher,hf=Gr.ReactCurrentBatchConfig,Fi=0,je=null,qe=null,st=null,Dc=!1,yl=!1,Ml=0,_1=0;function mt(){throw Error(z(321))}function qh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zn(t[n],e[n]))return!1;return!0}function em(t,e,n,r,s,i){if(Fi=i,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ic.current=t===null||t.memoizedState===null?Q1:V1,t=n(r,s),yl){i=0;do{if(yl=!1,Ml=0,25<=i)throw Error(z(301));i+=1,st=qe=null,e.updateQueue=null,ic.current=W1,t=n(r,s)}while(yl)}if(ic.current=jc,e=qe!==null&&qe.next!==null,Fi=0,st=qe=je=null,Dc=!1,e)throw Error(z(300));return t}function tm(){var t=Ml!==0;return Ml=0,t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?je.memoizedState=st=t:st=st.next=t,st}function bn(){if(qe===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var e=st===null?je.memoizedState:st.next;if(e!==null)st=e,qe=t;else{if(t===null)throw Error(z(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},st===null?je.memoizedState=st=t:st=st.next=t}return st}function Ll(t,e){return typeof e=="function"?e(t):e}function mf(t){var e=bn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=qe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var c=u.lane;if((Fi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,je.lanes|=c,Mi|=c}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,zn(r,e.memoizedState)||(Ht=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,je.lanes|=i,Mi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yf(t){var e=bn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);zn(i,e.memoizedState)||(Ht=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function _w(){}function zw(t,e){var n=je,r=bn(),s=e(),i=!zn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ht=!0),r=r.queue,nm(Qw.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,Ul(9,Gw.bind(null,n,r,s,e),void 0,null),ot===null)throw Error(z(349));Fi&30||Hw(n,e,s)}return s}function Hw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Gw(t,e,n,r){e.value=n,e.getSnapshot=r,Vw(e)&&Ww(t)}function Qw(t,e,n){return n(function(){Vw(e)&&Ww(t)})}function Vw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zn(t,n)}catch{return!0}}function Ww(t){var e=Dr(t,1);e!==null&&_n(e,t,1,-1)}function Cy(t){var e=Wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:t},e.queue=t,t=t.dispatch=G1.bind(null,je,t),[e.memoizedState,t]}function Ul(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Kw(){return bn().memoizedState}function ac(t,e,n,r){var s=Wn();je.flags|=t,s.memoizedState=Ul(1|e,n,void 0,r===void 0?null:r)}function xd(t,e,n,r){var s=bn();r=r===void 0?null:r;var i=void 0;if(qe!==null){var a=qe.memoizedState;if(i=a.destroy,r!==null&&qh(r,a.deps)){s.memoizedState=Ul(e,n,i,r);return}}je.flags|=t,s.memoizedState=Ul(1|e,n,i,r)}function Iy(t,e){return ac(8390656,8,t,e)}function nm(t,e){return xd(2048,8,t,e)}function Jw(t,e){return xd(4,2,t,e)}function $w(t,e){return xd(4,4,t,e)}function Yw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Zw(t,e,n){return n=n!=null?n.concat([t]):null,xd(4,4,Yw.bind(null,e,t),n)}function rm(){}function Xw(t,e){var n=bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qw(t,e){var n=bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ev(t,e,n){return Fi&21?(zn(n,e)||(n=iw(),je.lanes|=n,Mi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=n)}function z1(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=hf.transition;hf.transition={};try{t(!1),e()}finally{Te=n,hf.transition=r}}function tv(){return bn().memoizedState}function H1(t,e,n){var r=Is(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nv(t))rv(e,n);else if(n=Uw(t,e,n,r),n!==null){var s=Ot();_n(n,t,r,s),sv(n,e,r)}}function G1(t,e,n){var r=Is(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nv(t))rv(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,zn(o,a)){var l=e.interleaved;l===null?(s.next=s,Jh(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Uw(t,e,s,r),n!==null&&(s=Ot(),_n(n,t,r,s),sv(n,e,r))}}function nv(t){var e=t.alternate;return t===je||e!==null&&e===je}function rv(t,e){yl=Dc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fh(t,n)}}var jc={readContext:xn,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},Q1={readContext:xn,useCallback:function(t,e){return Wn().memoizedState=[t,e===void 0?null:e],t},useContext:xn,useEffect:Iy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ac(4194308,4,Yw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ac(4194308,4,t,e)},useInsertionEffect:function(t,e){return ac(4,2,t,e)},useMemo:function(t,e){var n=Wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=H1.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=Wn();return t={current:t},e.memoizedState=t},useState:Cy,useDebugValue:rm,useDeferredValue:function(t){return Wn().memoizedState=t},useTransition:function(){var t=Cy(!1),e=t[0];return t=z1.bind(null,t[1]),Wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,s=Wn();if(Le){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),ot===null)throw Error(z(349));Fi&30||Hw(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Iy(Qw.bind(null,r,i,t),[t]),r.flags|=2048,Ul(9,Gw.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Wn(),e=ot.identifierPrefix;if(Le){var n=Rr,r=Ir;n=(r&~(1<<32-jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ml++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},V1={readContext:xn,useCallback:Xw,useContext:xn,useEffect:nm,useImperativeHandle:Zw,useInsertionEffect:Jw,useLayoutEffect:$w,useMemo:qw,useReducer:mf,useRef:Kw,useState:function(){return mf(Ll)},useDebugValue:rm,useDeferredValue:function(t){var e=bn();return ev(e,qe.memoizedState,t)},useTransition:function(){var t=mf(Ll)[0],e=bn().memoizedState;return[t,e]},useMutableSource:_w,useSyncExternalStore:zw,useId:tv,unstable_isNewReconciler:!1},W1={readContext:xn,useCallback:Xw,useContext:xn,useEffect:nm,useImperativeHandle:Zw,useInsertionEffect:Jw,useLayoutEffect:$w,useMemo:qw,useReducer:yf,useRef:Kw,useState:function(){return yf(Ll)},useDebugValue:rm,useDeferredValue:function(t){var e=bn();return qe===null?e.memoizedState=t:ev(e,qe.memoizedState,t)},useTransition:function(){var t=yf(Ll)[0],e=bn().memoizedState;return[t,e]},useMutableSource:_w,useSyncExternalStore:zw,useId:tv,unstable_isNewReconciler:!1};function Sn(t,e){if(t&&t.defaultProps){e=_e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bd={isMounted:function(t){return(t=t._reactInternals)?Gi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ot(),s=Is(t),i=Br(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ps(t,i,s),e!==null&&(_n(e,t,s,r),sc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ot(),s=Is(t),i=Br(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ps(t,i,s),e!==null&&(_n(e,t,s,r),sc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ot(),r=Is(t),s=Br(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ps(t,s,r),e!==null&&(_n(e,t,r,n),sc(e,t,r))}};function Ry(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Cl(n,r)||!Cl(s,i):!0}function iv(t,e,n){var r=!1,s=Ms,i=e.contextType;return typeof i=="object"&&i!==null?i=xn(i):(s=Qt(e)?Oi:At.current,r=e.contextTypes,i=(r=r!=null)?Ao(t,s):Ms),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Oy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bd.enqueueReplaceState(e,e.state,null)}function bp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},$h(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=xn(i):(i=Qt(e)?Oi:At.current,s.context=Ao(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(xp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&bd.enqueueReplaceState(s,s.state,null),Lc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function No(t,e){try{var n="",r=e;do n+=xA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function gf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ap(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var K1=typeof WeakMap=="function"?WeakMap:Map;function av(t,e,n){n=Br(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zc||(zc=!0,Op=r),Ap(t,e)},n}function ov(t,e,n){n=Br(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ap(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ap(t,e),typeof r!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function By(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new K1;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=o2.bind(null,t,e,n),e.then(t,t))}function Fy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function My(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Br(-1,1),e.tag=2,Ps(n,e,1))),n.lanes|=1),t)}var J1=Gr.ReactCurrentOwner,Ht=!1;function Tt(t,e,n,r){e.child=t===null?Lw(e,null,n,r):Eo(e,t.child,n,r)}function Ly(t,e,n,r,s){n=n.render;var i=e.ref;return Na(e,s),r=em(t,e,n,r,i,s),n=tm(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jr(t,e,s)):(Le&&n&&Hh(e),e.flags|=1,Tt(t,e,r,s),e.child)}function Uy(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!dm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,lv(t,e,i,r,s)):(t=cc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Cl,n(a,r)&&t.ref===e.ref)return jr(t,e,s)}return e.flags|=1,t=Rs(i,r),t.ref=e.ref,t.return=e,e.child=t}function lv(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Cl(i,r)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,jr(t,e,s)}return kp(t,e,n,r,s)}function uv(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(pa,tn),tn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(pa,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ce(pa,tn),tn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ce(pa,tn),tn|=r;return Tt(t,e,s,n),e.child}function cv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kp(t,e,n,r,s){var i=Qt(n)?Oi:At.current;return i=Ao(e,i),Na(e,s),n=em(t,e,n,r,i,s),r=tm(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jr(t,e,s)):(Le&&r&&Hh(e),e.flags|=1,Tt(t,e,n,s),e.child)}function Dy(t,e,n,r,s){if(Qt(n)){var i=!0;Rc(e)}else i=!1;if(Na(e,s),e.stateNode===null)oc(t,e),iv(e,n,r),bp(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=xn(u):(u=Qt(n)?Oi:At.current,u=Ao(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&Oy(e,a,r,u),es=!1;var p=e.memoizedState;a.state=p,Lc(e,r,a,s),l=e.memoizedState,o!==r||p!==l||Gt.current||es?(typeof c=="function"&&(xp(e,n,c,r),l=e.memoizedState),(o=es||Ry(e,n,o,r,p,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Dw(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Sn(e.type,o),a.props=u,d=e.pendingProps,p=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=xn(l):(l=Qt(n)?Oi:At.current,l=Ao(e,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||p!==l)&&Oy(e,a,r,l),es=!1,p=e.memoizedState,a.state=p,Lc(e,r,a,s);var x=e.memoizedState;o!==d||p!==x||Gt.current||es?(typeof y=="function"&&(xp(e,n,y,r),x=e.memoizedState),(u=es||Ry(e,n,u,r,p,x,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),a.props=r,a.state=x,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Ep(t,e,n,r,i,s)}function Ep(t,e,n,r,s,i){cv(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&ky(e,n,!1),jr(t,e,i);r=e.stateNode,J1.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Eo(e,t.child,null,i),e.child=Eo(e,null,o,i)):Tt(t,e,o,i),e.memoizedState=r.state,s&&ky(e,n,!0),e.child}function dv(t){var e=t.stateNode;e.pendingContext?Ay(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ay(t,e.context,!1),Yh(t,e.containerInfo)}function jy(t,e,n,r,s){return ko(),Qh(s),e.flags|=256,Tt(t,e,n,r),e.child}var Tp={dehydrated:null,treeContext:null,retryLane:0};function Np(t){return{baseLanes:t,cachePool:null,transitions:null}}function fv(t,e,n){var r=e.pendingProps,s=Ue.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ce(Ue,s&1),t===null)return wp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ed(a,r,0,null),t=Ci(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Np(n),e.memoizedState=Tp,t):sm(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return $1(t,e,a,r,o,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Rs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Rs(o,i):(i=Ci(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Np(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Tp,r}return i=t.child,t=i.sibling,r=Rs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sm(t,e){return e=Ed({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _u(t,e,n,r){return r!==null&&Qh(r),Eo(e,t.child,null,n),t=sm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $1(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=gf(Error(z(422))),_u(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ed({mode:"visible",children:r.children},s,0,null),i=Ci(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Eo(e,t.child,null,a),e.child.memoizedState=Np(a),e.memoizedState=Tp,i);if(!(e.mode&1))return _u(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(z(419)),r=gf(i,r,void 0),_u(t,e,a,r)}if(o=(a&t.childLanes)!==0,Ht||o){if(r=ot,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Dr(t,s),_n(r,t,s,-1))}return cm(),r=gf(Error(z(421))),_u(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=l2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,nn=Ss(s.nextSibling),rn=e,Le=!0,Ln=null,t!==null&&(yn[gn++]=Ir,yn[gn++]=Rr,yn[gn++]=Bi,Ir=t.id,Rr=t.overflow,Bi=e),e=sm(e,r.children),e.flags|=4096,e)}function _y(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vp(t.return,e,n)}function wf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function pv(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Tt(t,e,r.children,n),r=Ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_y(t,n,e);else if(t.tag===19)_y(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Ue,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Uc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),wf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Uc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}wf(e,!0,n,null,i);break;case"together":wf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function oc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Rs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Y1(t,e,n){switch(e.tag){case 3:dv(e),ko();break;case 5:jw(e);break;case 1:Qt(e.type)&&Rc(e);break;case 4:Yh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ce(Fc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Ue,Ue.current&1),e.flags|=128,null):n&e.child.childLanes?fv(t,e,n):(Ce(Ue,Ue.current&1),t=jr(t,e,n),t!==null?t.sibling:null);Ce(Ue,Ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return pv(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Ue,Ue.current),r)break;return null;case 22:case 23:return e.lanes=0,uv(t,e,n)}return jr(t,e,n)}var hv,Sp,mv,yv;hv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sp=function(){};mv=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ri(lr.current);var i=null;switch(n){case"input":s=$f(t,s),r=$f(t,r),i=[];break;case"select":s=_e({},s,{value:void 0}),r=_e({},r,{value:void 0}),i=[];break;case"textarea":s=Xf(t,s),r=Xf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cc)}ep(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Al.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Al.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Oe("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};yv=function(t,e,n,r){n!==r&&(e.flags|=4)};function Zo(t,e){if(!Le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Z1(t,e,n){var r=e.pendingProps;switch(Gh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(e),null;case 1:return Qt(e.type)&&Ic(),yt(e),null;case 3:return r=e.stateNode,To(),Be(Gt),Be(At),Xh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Du(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ln!==null&&(Mp(Ln),Ln=null))),Sp(t,e),yt(e),null;case 5:Zh(e);var s=ri(Fl.current);if(n=e.type,t!==null&&e.stateNode!=null)mv(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return yt(e),null}if(t=ri(lr.current),Du(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[rr]=e,r[Ol]=i,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(s=0;s<il.length;s++)Oe(il[s],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":$m(r,i),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Oe("invalid",r);break;case"textarea":Zm(r,i),Oe("invalid",r)}ep(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Uu(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Uu(r.textContent,o,t),s=["children",""+o]):Al.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Oe("scroll",r)}switch(n){case"input":Cu(r),Ym(r,i,!0);break;case"textarea":Cu(r),Xm(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Cc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Q0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[rr]=e,t[Ol]=r,hv(t,e,!1,!1),e.stateNode=t;e:{switch(a=tp(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),s=r;break;case"iframe":case"object":case"embed":Oe("load",t),s=r;break;case"video":case"audio":for(s=0;s<il.length;s++)Oe(il[s],t);s=r;break;case"source":Oe("error",t),s=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),s=r;break;case"details":Oe("toggle",t),s=r;break;case"input":$m(t,r),s=$f(t,r),Oe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=_e({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":Zm(t,r),s=Xf(t,r),Oe("invalid",t);break;default:s=r}ep(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?K0(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&V0(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kl(t,l):typeof l=="number"&&kl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Al.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Oe("scroll",t):l!=null&&Ph(t,i,l,a))}switch(n){case"input":Cu(t),Ym(t,r,!1);break;case"textarea":Cu(t),Xm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Aa(t,!!r.multiple,i,!1):r.defaultValue!=null&&Aa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Cc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yt(e),null;case 6:if(t&&e.stateNode!=null)yv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=ri(Fl.current),ri(lr.current),Du(e)){if(r=e.stateNode,n=e.memoizedProps,r[rr]=e,(i=r.nodeValue!==n)&&(t=rn,t!==null))switch(t.tag){case 3:Uu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rr]=e,e.stateNode=r}return yt(e),null;case 13:if(Be(Ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Le&&nn!==null&&e.mode&1&&!(e.flags&128))Fw(),ko(),e.flags|=98560,i=!1;else if(i=Du(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[rr]=e}else ko(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yt(e),i=!1}else Ln!==null&&(Mp(Ln),Ln=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ue.current&1?et===0&&(et=3):cm())),e.updateQueue!==null&&(e.flags|=4),yt(e),null);case 4:return To(),Sp(t,e),t===null&&Il(e.stateNode.containerInfo),yt(e),null;case 10:return Kh(e.type._context),yt(e),null;case 17:return Qt(e.type)&&Ic(),yt(e),null;case 19:if(Be(Ue),i=e.memoizedState,i===null)return yt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Zo(i,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Uc(t),a!==null){for(e.flags|=128,Zo(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Ue,Ue.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ve()>So&&(e.flags|=128,r=!0,Zo(i,!1),e.lanes=4194304)}else{if(!r)if(t=Uc(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Le)return yt(e),null}else 2*Ve()-i.renderingStartTime>So&&n!==1073741824&&(e.flags|=128,r=!0,Zo(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ve(),e.sibling=null,n=Ue.current,Ce(Ue,r?n&1|2:n&1),e):(yt(e),null);case 22:case 23:return um(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tn&1073741824&&(yt(e),e.subtreeFlags&6&&(e.flags|=8192)):yt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function X1(t,e){switch(Gh(e),e.tag){case 1:return Qt(e.type)&&Ic(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return To(),Be(Gt),Be(At),Xh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zh(e),null;case 13:if(Be(Ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));ko()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(Ue),null;case 4:return To(),null;case 10:return Kh(e.type._context),null;case 22:case 23:return um(),null;case 24:return null;default:return null}}var zu=!1,xt=!1,q1=typeof WeakSet=="function"?WeakSet:Set,$=null;function fa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function Pp(t,e,n){try{n()}catch(r){He(t,e,r)}}var zy=!1;function e2(t,e){if(dp=Nc,t=bw(),zh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=t,p=null;t:for(;;){for(var y;d!==n||s!==0&&d.nodeType!==3||(o=a+s),d!==i||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(y=d.firstChild)!==null;)p=d,d=y;for(;;){if(d===t)break t;if(p===n&&++u===s&&(o=a),p===i&&++c===r&&(l=a),(y=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=y}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(fp={focusedElem:t,selectionRange:n},Nc=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,A=x.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:Sn(e.type,v),A);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(E){He(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return x=zy,zy=!1,x}function gl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Pp(e,n,i)}s=s.next}while(s!==r)}}function Ad(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Cp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gv(t){var e=t.alternate;e!==null&&(t.alternate=null,gv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rr],delete e[Ol],delete e[mp],delete e[L1],delete e[U1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wv(t){return t.tag===5||t.tag===3||t.tag===4}function Hy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ip(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cc));else if(r!==4&&(t=t.child,t!==null))for(Ip(t,e,n),t=t.sibling;t!==null;)Ip(t,e,n),t=t.sibling}function Rp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rp(t,e,n),t=t.sibling;t!==null;)Rp(t,e,n),t=t.sibling}var ut=null,Mn=!1;function Wr(t,e,n){for(n=n.child;n!==null;)vv(t,e,n),n=n.sibling}function vv(t,e,n){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(hd,n)}catch{}switch(n.tag){case 5:xt||fa(n,e);case 6:var r=ut,s=Mn;ut=null,Wr(t,e,n),ut=r,Mn=s,ut!==null&&(Mn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(Mn?(t=ut,n=n.stateNode,t.nodeType===8?df(t.parentNode,n):t.nodeType===1&&df(t,n),Sl(t)):df(ut,n.stateNode));break;case 4:r=ut,s=Mn,ut=n.stateNode.containerInfo,Mn=!0,Wr(t,e,n),ut=r,Mn=s;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Pp(n,e,a),s=s.next}while(s!==r)}Wr(t,e,n);break;case 1:if(!xt&&(fa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){He(n,e,o)}Wr(t,e,n);break;case 21:Wr(t,e,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,Wr(t,e,n),xt=r):Wr(t,e,n);break;default:Wr(t,e,n)}}function Gy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new q1),e.forEach(function(r){var s=u2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function En(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:ut=o.stateNode,Mn=!1;break e;case 3:ut=o.stateNode.containerInfo,Mn=!0;break e;case 4:ut=o.stateNode.containerInfo,Mn=!0;break e}o=o.return}if(ut===null)throw Error(z(160));vv(i,a,s),ut=null,Mn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){He(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xv(e,t),e=e.sibling}function xv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(En(e,t),Qn(t),r&4){try{gl(3,t,t.return),Ad(3,t)}catch(v){He(t,t.return,v)}try{gl(5,t,t.return)}catch(v){He(t,t.return,v)}}break;case 1:En(e,t),Qn(t),r&512&&n!==null&&fa(n,n.return);break;case 5:if(En(e,t),Qn(t),r&512&&n!==null&&fa(n,n.return),t.flags&32){var s=t.stateNode;try{kl(s,"")}catch(v){He(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&H0(s,i),tp(o,a);var u=tp(o,i);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?K0(s,d):c==="dangerouslySetInnerHTML"?V0(s,d):c==="children"?kl(s,d):Ph(s,c,d,u)}switch(o){case"input":Yf(s,i);break;case"textarea":G0(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Aa(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Aa(s,!!i.multiple,i.defaultValue,!0):Aa(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ol]=i}catch(v){He(t,t.return,v)}}break;case 6:if(En(e,t),Qn(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){He(t,t.return,v)}}break;case 3:if(En(e,t),Qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sl(e.containerInfo)}catch(v){He(t,t.return,v)}break;case 4:En(e,t),Qn(t);break;case 13:En(e,t),Qn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(om=Ve())),r&4&&Gy(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(xt=(u=xt)||c,En(e,t),xt=u):En(e,t),Qn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for($=t,c=t.child;c!==null;){for(d=$=c;$!==null;){switch(p=$,y=p.child,p.tag){case 0:case 11:case 14:case 15:gl(4,p,p.return);break;case 1:fa(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(v){He(r,n,v)}}break;case 5:fa(p,p.return);break;case 22:if(p.memoizedState!==null){Vy(d);continue}}y!==null?(y.return=p,$=y):Vy(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=W0("display",a))}catch(v){He(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){He(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:En(e,t),Qn(t),r&4&&Gy(t);break;case 21:break;default:En(e,t),Qn(t)}}function Qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wv(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(kl(s,""),r.flags&=-33);var i=Hy(t);Rp(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Hy(t);Ip(t,o,a);break;default:throw Error(z(161))}}catch(l){He(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function t2(t,e,n){$=t,bv(t)}function bv(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||zu;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||xt;o=zu;var u=xt;if(zu=a,(xt=l)&&!u)for($=s;$!==null;)a=$,l=a.child,a.tag===22&&a.memoizedState!==null?Wy(s):l!==null?(l.return=a,$=l):Wy(s);for(;i!==null;)$=i,bv(i),i=i.sibling;$=s,zu=o,xt=u}Qy(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):Qy(t)}}function Qy(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xt||Ad(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Sn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Py(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Py(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Sl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}xt||e.flags&512&&Cp(e)}catch(p){He(e,e.return,p)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function Vy(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function Wy(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ad(4,e)}catch(l){He(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){He(e,s,l)}}var i=e.return;try{Cp(e)}catch(l){He(e,i,l)}break;case 5:var a=e.return;try{Cp(e)}catch(l){He(e,a,l)}}}catch(l){He(e,e.return,l)}if(e===t){$=null;break}var o=e.sibling;if(o!==null){o.return=e.return,$=o;break}$=e.return}}var n2=Math.ceil,_c=Gr.ReactCurrentDispatcher,im=Gr.ReactCurrentOwner,vn=Gr.ReactCurrentBatchConfig,we=0,ot=null,Je=null,ft=0,tn=0,pa=_s(0),et=0,Dl=null,Mi=0,kd=0,am=0,wl=null,_t=null,om=0,So=1/0,fr=null,zc=!1,Op=null,Cs=null,Hu=!1,As=null,Hc=0,vl=0,Bp=null,lc=-1,uc=0;function Ot(){return we&6?Ve():lc!==-1?lc:lc=Ve()}function Is(t){return t.mode&1?we&2&&ft!==0?ft&-ft:j1.transition!==null?(uc===0&&(uc=iw()),uc):(t=Te,t!==0||(t=window.event,t=t===void 0?16:fw(t.type)),t):1}function _n(t,e,n,r){if(50<vl)throw vl=0,Bp=null,Error(z(185));du(t,n,r),(!(we&2)||t!==ot)&&(t===ot&&(!(we&2)&&(kd|=n),et===4&&rs(t,ft)),Vt(t,r),n===1&&we===0&&!(e.mode&1)&&(So=Ve()+500,vd&&zs()))}function Vt(t,e){var n=t.callbackNode;jA(t,e);var r=Tc(t,t===ot?ft:0);if(r===0)n!==null&&ty(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ty(n),e===1)t.tag===0?D1(Ky.bind(null,t)):Rw(Ky.bind(null,t)),F1(function(){!(we&6)&&zs()}),n=null;else{switch(aw(r)){case 1:n=Bh;break;case 4:n=rw;break;case 16:n=Ec;break;case 536870912:n=sw;break;default:n=Ec}n=Cv(n,Av.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Av(t,e){if(lc=-1,uc=0,we&6)throw Error(z(327));var n=t.callbackNode;if(Sa()&&t.callbackNode!==n)return null;var r=Tc(t,t===ot?ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gc(t,r);else{e=r;var s=we;we|=2;var i=Ev();(ot!==t||ft!==e)&&(fr=null,So=Ve()+500,Pi(t,e));do try{i2();break}catch(o){kv(t,o)}while(!0);Wh(),_c.current=i,we=s,Je!==null?e=0:(ot=null,ft=0,e=et)}if(e!==0){if(e===2&&(s=ap(t),s!==0&&(r=s,e=Fp(t,s))),e===1)throw n=Dl,Pi(t,0),rs(t,r),Vt(t,Ve()),n;if(e===6)rs(t,r);else{if(s=t.current.alternate,!(r&30)&&!r2(s)&&(e=Gc(t,r),e===2&&(i=ap(t),i!==0&&(r=i,e=Fp(t,i))),e===1))throw n=Dl,Pi(t,0),rs(t,r),Vt(t,Ve()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Ks(t,_t,fr);break;case 3:if(rs(t,r),(r&130023424)===r&&(e=om+500-Ve(),10<e)){if(Tc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ot(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=hp(Ks.bind(null,t,_t,fr),e);break}Ks(t,_t,fr);break;case 4:if(rs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-jn(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*n2(r/1960))-r,10<r){t.timeoutHandle=hp(Ks.bind(null,t,_t,fr),r);break}Ks(t,_t,fr);break;case 5:Ks(t,_t,fr);break;default:throw Error(z(329))}}}return Vt(t,Ve()),t.callbackNode===n?Av.bind(null,t):null}function Fp(t,e){var n=wl;return t.current.memoizedState.isDehydrated&&(Pi(t,e).flags|=256),t=Gc(t,e),t!==2&&(e=_t,_t=n,e!==null&&Mp(e)),t}function Mp(t){_t===null?_t=t:_t.push.apply(_t,t)}function r2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!zn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rs(t,e){for(e&=~am,e&=~kd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jn(e),r=1<<n;t[n]=-1,e&=~r}}function Ky(t){if(we&6)throw Error(z(327));Sa();var e=Tc(t,0);if(!(e&1))return Vt(t,Ve()),null;var n=Gc(t,e);if(t.tag!==0&&n===2){var r=ap(t);r!==0&&(e=r,n=Fp(t,r))}if(n===1)throw n=Dl,Pi(t,0),rs(t,e),Vt(t,Ve()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ks(t,_t,fr),Vt(t,Ve()),null}function lm(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(So=Ve()+500,vd&&zs())}}function Li(t){As!==null&&As.tag===0&&!(we&6)&&Sa();var e=we;we|=1;var n=vn.transition,r=Te;try{if(vn.transition=null,Te=1,t)return t()}finally{Te=r,vn.transition=n,we=e,!(we&6)&&zs()}}function um(){tn=pa.current,Be(pa)}function Pi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,B1(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Gh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ic();break;case 3:To(),Be(Gt),Be(At),Xh();break;case 5:Zh(r);break;case 4:To();break;case 13:Be(Ue);break;case 19:Be(Ue);break;case 10:Kh(r.type._context);break;case 22:case 23:um()}n=n.return}if(ot=t,Je=t=Rs(t.current,null),ft=tn=e,et=0,Dl=null,am=kd=Mi=0,_t=wl=null,ni!==null){for(e=0;e<ni.length;e++)if(n=ni[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}ni=null}return t}function kv(t,e){do{var n=Je;try{if(Wh(),ic.current=jc,Dc){for(var r=je.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Dc=!1}if(Fi=0,st=qe=je=null,yl=!1,Ml=0,im.current=null,n===null||n.return===null){et=1,Dl=e,Je=null;break}e:{var i=t,a=n.return,o=n,l=e;if(e=ft,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=Fy(a);if(y!==null){y.flags&=-257,My(y,a,o,i,e),y.mode&1&&By(i,u,e),e=y,l=u;var x=e.updateQueue;if(x===null){var v=new Set;v.add(l),e.updateQueue=v}else x.add(l);break e}else{if(!(e&1)){By(i,u,e),cm();break e}l=Error(z(426))}}else if(Le&&o.mode&1){var A=Fy(a);if(A!==null){!(A.flags&65536)&&(A.flags|=256),My(A,a,o,i,e),Qh(No(l,o));break e}}i=l=No(l,o),et!==4&&(et=2),wl===null?wl=[i]:wl.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=av(i,l,e);Sy(i,m);break e;case 1:o=l;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Cs===null||!Cs.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=ov(i,o,e);Sy(i,E);break e}}i=i.return}while(i!==null)}Nv(n)}catch(N){e=N,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function Ev(){var t=_c.current;return _c.current=jc,t===null?jc:t}function cm(){(et===0||et===3||et===2)&&(et=4),ot===null||!(Mi&268435455)&&!(kd&268435455)||rs(ot,ft)}function Gc(t,e){var n=we;we|=2;var r=Ev();(ot!==t||ft!==e)&&(fr=null,Pi(t,e));do try{s2();break}catch(s){kv(t,s)}while(!0);if(Wh(),we=n,_c.current=r,Je!==null)throw Error(z(261));return ot=null,ft=0,et}function s2(){for(;Je!==null;)Tv(Je)}function i2(){for(;Je!==null&&!IA();)Tv(Je)}function Tv(t){var e=Pv(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?Nv(t):Je=e,im.current=null}function Nv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=X1(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Je=null;return}}else if(n=Z1(n,e,tn),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);et===0&&(et=5)}function Ks(t,e,n){var r=Te,s=vn.transition;try{vn.transition=null,Te=1,a2(t,e,n,r)}finally{vn.transition=s,Te=r}return null}function a2(t,e,n,r){do Sa();while(As!==null);if(we&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(_A(t,i),t===ot&&(Je=ot=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hu||(Hu=!0,Cv(Ec,function(){return Sa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=vn.transition,vn.transition=null;var a=Te;Te=1;var o=we;we|=4,im.current=null,e2(t,n),xv(n,t),N1(fp),Nc=!!dp,fp=dp=null,t.current=n,t2(n),RA(),we=o,Te=a,vn.transition=i}else t.current=n;if(Hu&&(Hu=!1,As=t,Hc=s),i=t.pendingLanes,i===0&&(Cs=null),FA(n.stateNode),Vt(t,Ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(zc)throw zc=!1,t=Op,Op=null,t;return Hc&1&&t.tag!==0&&Sa(),i=t.pendingLanes,i&1?t===Bp?vl++:(vl=0,Bp=t):vl=0,zs(),null}function Sa(){if(As!==null){var t=aw(Hc),e=vn.transition,n=Te;try{if(vn.transition=null,Te=16>t?16:t,As===null)var r=!1;else{if(t=As,As=null,Hc=0,we&6)throw Error(z(331));var s=we;for(we|=4,$=t.current;$!==null;){var i=$,a=i.child;if($.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for($=u;$!==null;){var c=$;switch(c.tag){case 0:case 11:case 15:gl(8,c,i)}var d=c.child;if(d!==null)d.return=c,$=d;else for(;$!==null;){c=$;var p=c.sibling,y=c.return;if(gv(c),c===u){$=null;break}if(p!==null){p.return=y,$=p;break}$=y}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var A=v.sibling;v.sibling=null,v=A}while(v!==null)}}$=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,$=a;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gl(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,$=m;break e}$=i.return}}var g=t.current;for($=g;$!==null;){a=$;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,$=w;else e:for(a=g;$!==null;){if(o=$,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ad(9,o)}}catch(N){He(o,o.return,N)}if(o===a){$=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,$=E;break e}$=o.return}}if(we=s,zs(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(hd,t)}catch{}r=!0}return r}finally{Te=n,vn.transition=e}}return!1}function Jy(t,e,n){e=No(n,e),e=av(t,e,1),t=Ps(t,e,1),e=Ot(),t!==null&&(du(t,1,e),Vt(t,e))}function He(t,e,n){if(t.tag===3)Jy(t,t,n);else for(;e!==null;){if(e.tag===3){Jy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cs===null||!Cs.has(r))){t=No(n,t),t=ov(e,t,1),e=Ps(e,t,1),t=Ot(),e!==null&&(du(e,1,t),Vt(e,t));break}}e=e.return}}function o2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ot(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(ft&n)===n&&(et===4||et===3&&(ft&130023424)===ft&&500>Ve()-om?Pi(t,0):am|=n),Vt(t,e)}function Sv(t,e){e===0&&(t.mode&1?(e=Ou,Ou<<=1,!(Ou&130023424)&&(Ou=4194304)):e=1);var n=Ot();t=Dr(t,e),t!==null&&(du(t,e,n),Vt(t,n))}function l2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Sv(t,n)}function u2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),Sv(t,n)}var Pv;Pv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gt.current)Ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ht=!1,Y1(t,e,n);Ht=!!(t.flags&131072)}else Ht=!1,Le&&e.flags&1048576&&Ow(e,Bc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;oc(t,e),t=e.pendingProps;var s=Ao(e,At.current);Na(e,n),s=em(null,e,r,t,s,n);var i=tm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qt(r)?(i=!0,Rc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$h(e),s.updater=bd,e.stateNode=s,s._reactInternals=e,bp(e,r,t,n),e=Ep(null,e,r,!0,i,n)):(e.tag=0,Le&&i&&Hh(e),Tt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(oc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=d2(r),t=Sn(r,t),s){case 0:e=kp(null,e,r,t,n);break e;case 1:e=Dy(null,e,r,t,n);break e;case 11:e=Ly(null,e,r,t,n);break e;case 14:e=Uy(null,e,r,Sn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sn(r,s),kp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sn(r,s),Dy(t,e,r,s,n);case 3:e:{if(dv(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Dw(t,e),Lc(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=No(Error(z(423)),e),e=jy(t,e,r,n,s);break e}else if(r!==s){s=No(Error(z(424)),e),e=jy(t,e,r,n,s);break e}else for(nn=Ss(e.stateNode.containerInfo.firstChild),rn=e,Le=!0,Ln=null,n=Lw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ko(),r===s){e=jr(t,e,n);break e}Tt(t,e,r,n)}e=e.child}return e;case 5:return jw(e),t===null&&wp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,pp(r,s)?a=null:i!==null&&pp(r,i)&&(e.flags|=32),cv(t,e),Tt(t,e,a,n),e.child;case 6:return t===null&&wp(e),null;case 13:return fv(t,e,n);case 4:return Yh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Eo(e,null,r,n):Tt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sn(r,s),Ly(t,e,r,s,n);case 7:return Tt(t,e,e.pendingProps,n),e.child;case 8:return Tt(t,e,e.pendingProps.children,n),e.child;case 12:return Tt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Ce(Fc,r._currentValue),r._currentValue=a,i!==null)if(zn(i.value,a)){if(i.children===s.children&&!Gt.current){e=jr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Br(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),vp(i.return,n,e),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(z(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),vp(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Tt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Na(e,n),s=xn(s),r=r(s),e.flags|=1,Tt(t,e,r,n),e.child;case 14:return r=e.type,s=Sn(r,e.pendingProps),s=Sn(r.type,s),Uy(t,e,r,s,n);case 15:return lv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sn(r,s),oc(t,e),e.tag=1,Qt(r)?(t=!0,Rc(e)):t=!1,Na(e,n),iv(e,r,s),bp(e,r,s,n),Ep(null,e,r,!0,t,n);case 19:return pv(t,e,n);case 22:return uv(t,e,n)}throw Error(z(156,e.tag))};function Cv(t,e){return nw(t,e)}function c2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,e,n,r){return new c2(t,e,n,r)}function dm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function d2(t){if(typeof t=="function")return dm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ih)return 11;if(t===Rh)return 14}return 2}function Rs(t,e){var n=t.alternate;return n===null?(n=wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function cc(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")dm(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ra:return Ci(n.children,s,i,e);case Ch:a=8,s|=8;break;case Vf:return t=wn(12,n,e,s|2),t.elementType=Vf,t.lanes=i,t;case Wf:return t=wn(13,n,e,s),t.elementType=Wf,t.lanes=i,t;case Kf:return t=wn(19,n,e,s),t.elementType=Kf,t.lanes=i,t;case j0:return Ed(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U0:a=10;break e;case D0:a=9;break e;case Ih:a=11;break e;case Rh:a=14;break e;case qr:a=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=wn(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ci(t,e,n,r){return t=wn(7,t,r,e),t.lanes=n,t}function Ed(t,e,n,r){return t=wn(22,t,r,e),t.elementType=j0,t.lanes=n,t.stateNode={isHidden:!1},t}function vf(t,e,n){return t=wn(6,t,null,e),t.lanes=n,t}function xf(t,e,n){return e=wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function f2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qd(0),this.expirationTimes=qd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fm(t,e,n,r,s,i,a,o,l){return t=new f2(t,e,n,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=wn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$h(i),t}function p2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:na,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Iv(t){if(!t)return Ms;t=t._reactInternals;e:{if(Gi(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Qt(n))return Iw(t,n,e)}return e}function Rv(t,e,n,r,s,i,a,o,l){return t=fm(n,r,!0,t,s,i,a,o,l),t.context=Iv(null),n=t.current,r=Ot(),s=Is(n),i=Br(r,s),i.callback=e??null,Ps(n,i,s),t.current.lanes=s,du(t,s,r),Vt(t,r),t}function Td(t,e,n,r){var s=e.current,i=Ot(),a=Is(s);return n=Iv(n),e.context===null?e.context=n:e.pendingContext=n,e=Br(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ps(s,e,a),t!==null&&(_n(t,s,a,i),sc(t,s,a)),a}function Qc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $y(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pm(t,e){$y(t,e),(t=t.alternate)&&$y(t,e)}function h2(){return null}var Ov=typeof reportError=="function"?reportError:function(t){console.error(t)};function hm(t){this._internalRoot=t}Nd.prototype.render=hm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Td(t,e,null,null)};Nd.prototype.unmount=hm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Li(function(){Td(null,t,null,null)}),e[Ur]=null}};function Nd(t){this._internalRoot=t}Nd.prototype.unstable_scheduleHydration=function(t){if(t){var e=uw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ns.length&&e!==0&&e<ns[n].priority;n++);ns.splice(n,0,t),n===0&&dw(t)}};function mm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yy(){}function m2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Qc(a);i.call(u)}}var a=Rv(e,r,t,0,null,!1,!1,"",Yy);return t._reactRootContainer=a,t[Ur]=a.current,Il(t.nodeType===8?t.parentNode:t),Li(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=Qc(l);o.call(u)}}var l=fm(t,0,!1,null,null,!1,!1,"",Yy);return t._reactRootContainer=l,t[Ur]=l.current,Il(t.nodeType===8?t.parentNode:t),Li(function(){Td(e,l,n,r)}),l}function Pd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Qc(a);o.call(l)}}Td(e,a,t,s)}else a=m2(n,e,t,s,r);return Qc(a)}ow=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sl(e.pendingLanes);n!==0&&(Fh(e,n|1),Vt(e,Ve()),!(we&6)&&(So=Ve()+500,zs()))}break;case 13:Li(function(){var r=Dr(t,1);if(r!==null){var s=Ot();_n(r,t,1,s)}}),pm(t,1)}};Mh=function(t){if(t.tag===13){var e=Dr(t,134217728);if(e!==null){var n=Ot();_n(e,t,134217728,n)}pm(t,134217728)}};lw=function(t){if(t.tag===13){var e=Is(t),n=Dr(t,e);if(n!==null){var r=Ot();_n(n,t,e,r)}pm(t,e)}};uw=function(){return Te};cw=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};rp=function(t,e,n){switch(e){case"input":if(Yf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=wd(r);if(!s)throw Error(z(90));z0(r),Yf(r,s)}}}break;case"textarea":G0(t,n);break;case"select":e=n.value,e!=null&&Aa(t,!!n.multiple,e,!1)}};Y0=lm;Z0=Li;var y2={usingClientEntryPoint:!1,Events:[pu,oa,wd,J0,$0,lm]},Xo={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g2={bundleType:Xo.bundleType,version:Xo.version,rendererPackageName:Xo.rendererPackageName,rendererConfig:Xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ew(t),t===null?null:t.stateNode},findFiberByHostInstance:Xo.findFiberByHostInstance||h2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{hd=Gu.inject(g2),or=Gu}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y2;an.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mm(e))throw Error(z(200));return p2(t,e,null,n)};an.createRoot=function(t,e){if(!mm(t))throw Error(z(299));var n=!1,r="",s=Ov;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=fm(t,1,!1,null,null,n,!1,r,s),t[Ur]=e.current,Il(t.nodeType===8?t.parentNode:t),new hm(e)};an.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=ew(e),t=t===null?null:t.stateNode,t};an.flushSync=function(t){return Li(t)};an.hydrate=function(t,e,n){if(!Sd(e))throw Error(z(200));return Pd(null,t,e,!0,n)};an.hydrateRoot=function(t,e,n){if(!mm(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Ov;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Rv(e,null,t,1,n??null,s,!1,i,a),t[Ur]=e.current,Il(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Nd(e)};an.render=function(t,e,n){if(!Sd(e))throw Error(z(200));return Pd(null,t,e,!1,n)};an.unmountComponentAtNode=function(t){if(!Sd(t))throw Error(z(40));return t._reactRootContainer?(Li(function(){Pd(null,null,t,!1,function(){t._reactRootContainer=null,t[Ur]=null})}),!0):!1};an.unstable_batchedUpdates=lm;an.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sd(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Pd(t,e,n,!1,r)};an.version="18.3.1-next-f1338f8080-20240426";function Bv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bv)}catch(t){console.error(t)}}Bv(),B0.exports=an;var w2=B0.exports,Fv,Zy=w2;Fv=Zy.createRoot,Zy.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jl.apply(this,arguments)}var ks;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ks||(ks={}));const Xy="popstate";function v2(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:o}=r.location;return Lp("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Vc(s)}return b2(e,n,null,t)}function Ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function x2(){return Math.random().toString(36).substr(2,8)}function qy(t,e){return{usr:t.state,key:t.key,idx:e}}function Lp(t,e,n,r){return n===void 0&&(n=null),jl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?jo(e):e,{state:n,key:e&&e.key||r||x2()})}function Vc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function jo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function b2(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=ks.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(jl({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){o=ks.Pop;let A=c(),m=A==null?null:A-u;u=A,l&&l({action:o,location:v.location,delta:m})}function p(A,m){o=ks.Push;let g=Lp(v.location,A,m);u=c()+1;let w=qy(g,u),E=v.createHref(g);try{a.pushState(w,"",E)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(E)}i&&l&&l({action:o,location:v.location,delta:1})}function y(A,m){o=ks.Replace;let g=Lp(v.location,A,m);u=c();let w=qy(g,u),E=v.createHref(g);a.replaceState(w,"",E),i&&l&&l({action:o,location:v.location,delta:0})}function x(A){let m=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof A=="string"?A:Vc(A);return g=g.replace(/ $/,"%20"),Ye(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let v={get action(){return o},get location(){return t(s,a)},listen(A){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Xy,d),l=A,()=>{s.removeEventListener(Xy,d),l=null}},createHref(A){return e(s,A)},createURL:x,encodeLocation(A){let m=x(A);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:y,go(A){return a.go(A)}};return v}var eg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(eg||(eg={}));function A2(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?jo(e):e,s=ym(r.pathname||"/",n);if(s==null)return null;let i=Lv(t);k2(i);let a=null;for(let o=0;a==null&&o<i.length;++o){let l=M2(s);a=O2(i[o],l)}return a}function Lv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Ye(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Os([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(Ye(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Lv(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:I2(u,i.index),routesMeta:c})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of Uv(i.path))s(i,a,l)}),e}function Uv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=Uv(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function k2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:R2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const E2=/^:[\w-]+$/,T2=3,N2=2,S2=1,P2=10,C2=-2,tg=t=>t==="*";function I2(t,e){let n=t.split("/"),r=n.length;return n.some(tg)&&(r+=C2),e&&(r+=N2),n.filter(s=>!tg(s)).reduce((s,i)=>s+(E2.test(i)?T2:i===""?S2:P2),r)}function R2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function O2(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let a=0;a<n.length;++a){let o=n[a],l=a===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",c=B2({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=o.route;i.push({params:r,pathname:Os([s,c.pathname]),pathnameBase:j2(Os([s,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(s=Os([s,c.pathnameBase]))}return i}function B2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=F2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:p,isOptional:y}=c;if(p==="*"){let v=o[d]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=o[d];return y&&!x?u[p]=void 0:u[p]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function F2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Mv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function M2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ym(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function L2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?jo(t):t;return{pathname:n?n.startsWith("/")?n:U2(n,e):e,search:_2(r),hash:z2(s)}}function U2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function bf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function D2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dv(t,e){let n=D2(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function jv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=jo(t):(s=jl({},t),Ye(!s.pathname||!s.pathname.includes("?"),bf("?","pathname","search",s)),Ye(!s.pathname||!s.pathname.includes("#"),bf("#","pathname","hash",s)),Ye(!s.search||!s.search.includes("#"),bf("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let d=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),d-=1;s.pathname=p.join("/")}o=d>=0?e[d]:"/"}let l=L2(s,o),u=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Os=t=>t.join("/").replace(/\/\/+/g,"/"),j2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,z2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function H2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _v=["post","put","patch","delete"];new Set(_v);const G2=["get",..._v];new Set(G2);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _l(){return _l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_l.apply(this,arguments)}const gm=O.createContext(null),Q2=O.createContext(null),Qi=O.createContext(null),Cd=O.createContext(null),Vi=O.createContext({outlet:null,matches:[],isDataRoute:!1}),zv=O.createContext(null);function V2(t,e){let{relative:n}=e===void 0?{}:e;mu()||Ye(!1);let{basename:r,navigator:s}=O.useContext(Qi),{hash:i,pathname:a,search:o}=Gv(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Os([r,a])),s.createHref({pathname:l,search:o,hash:i})}function mu(){return O.useContext(Cd)!=null}function Id(){return mu()||Ye(!1),O.useContext(Cd).location}function Hv(t){O.useContext(Qi).static||O.useLayoutEffect(t)}function W2(){let{isDataRoute:t}=O.useContext(Vi);return t?ik():K2()}function K2(){mu()||Ye(!1);let t=O.useContext(gm),{basename:e,future:n,navigator:r}=O.useContext(Qi),{matches:s}=O.useContext(Vi),{pathname:i}=Id(),a=JSON.stringify(Dv(s,n.v7_relativeSplatPath)),o=O.useRef(!1);return Hv(()=>{o.current=!0}),O.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let d=jv(u,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Os([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,a,i,t])}function Gv(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=O.useContext(Qi),{matches:s}=O.useContext(Vi),{pathname:i}=Id(),a=JSON.stringify(Dv(s,r.v7_relativeSplatPath));return O.useMemo(()=>jv(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function J2(t,e){return $2(t,e)}function $2(t,e,n,r){mu()||Ye(!1);let{navigator:s}=O.useContext(Qi),{matches:i}=O.useContext(Vi),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Id(),c;if(e){var d;let A=typeof e=="string"?jo(e):e;l==="/"||(d=A.pathname)!=null&&d.startsWith(l)||Ye(!1),c=A}else c=u;let p=c.pathname||"/",y=p;if(l!=="/"){let A=l.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(A.length).join("/")}let x=A2(t,{pathname:y}),v=ek(x&&x.map(A=>Object.assign({},A,{params:Object.assign({},o,A.params),pathname:Os([l,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?l:Os([l,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),i,n,r);return e&&v?O.createElement(Cd.Provider,{value:{location:_l({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ks.Pop}},v):v}function Y2(){let t=sk(),e=H2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:s},n):null,null)}const Z2=O.createElement(Y2,null);class X2 extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(Vi.Provider,{value:this.props.routeContext},O.createElement(zv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function q2(t){let{routeContext:e,match:n,children:r}=t,s=O.useContext(gm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Vi.Provider,{value:e},r)}function ek(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let a=t,o=(s=n)==null?void 0:s.errors;if(o!=null){let c=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id]));c>=0||Ye(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:p,errors:y}=n,x=d.route.loader&&p[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||x){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,p)=>{let y,x=!1,v=null,A=null;n&&(y=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||Z2,l&&(u<0&&p===0?(ak("route-fallback"),x=!0,A=null):u===p&&(x=!0,A=d.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,p+1)),g=()=>{let w;return y?w=v:x?w=A:d.route.Component?w=O.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=c,O.createElement(q2,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?O.createElement(X2,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var Qv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Qv||{}),Vv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vv||{});function tk(t){let e=O.useContext(gm);return e||Ye(!1),e}function nk(t){let e=O.useContext(Q2);return e||Ye(!1),e}function rk(t){let e=O.useContext(Vi);return e||Ye(!1),e}function Wv(t){let e=rk(),n=e.matches[e.matches.length-1];return n.route.id||Ye(!1),n.route.id}function sk(){var t;let e=O.useContext(zv),n=nk(),r=Wv();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ik(){let{router:t}=tk(Qv.UseNavigateStable),e=Wv(Vv.UseNavigateStable),n=O.useRef(!1);return Hv(()=>{n.current=!0}),O.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,_l({fromRouteId:e},i)))},[t,e])}const ng={};function ak(t,e,n){ng[t]||(ng[t]=!0)}function Up(t){Ye(!1)}function ok(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ks.Pop,navigator:i,static:a=!1,future:o}=t;mu()&&Ye(!1);let l=e.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:l,navigator:i,static:a,future:_l({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof r=="string"&&(r=jo(r));let{pathname:c="/",search:d="",hash:p="",state:y=null,key:x="default"}=r,v=O.useMemo(()=>{let A=ym(c,l);return A==null?null:{location:{pathname:A,search:d,hash:p,state:y,key:x},navigationType:s}},[l,c,d,p,y,x,s]);return v==null?null:O.createElement(Qi.Provider,{value:u},O.createElement(Cd.Provider,{children:n,value:v}))}function lk(t){let{children:e,location:n}=t;return J2(Dp(e),n)}new Promise(()=>{});function Dp(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(r,s)=>{if(!O.isValidElement(r))return;let i=[...e,s];if(r.type===O.Fragment){n.push.apply(n,Dp(r.props.children,i));return}r.type!==Up&&Ye(!1),!r.props.index||!r.props.children||Ye(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Dp(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jp(){return jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jp.apply(this,arguments)}function uk(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function ck(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dk(t,e){return t.button===0&&(!e||e==="_self")&&!ck(t)}const fk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],pk="6";try{window.__reactRouterVersion=pk}catch{}const hk="startTransition",rg=oA[hk];function mk(t){let{basename:e,children:n,future:r,window:s}=t,i=O.useRef();i.current==null&&(i.current=v2({window:s,v5Compat:!0}));let a=i.current,[o,l]=O.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=O.useCallback(d=>{u&&rg?rg(()=>l(d)):l(d)},[l,u]);return O.useLayoutEffect(()=>a.listen(c),[a,c]),O.createElement(ok,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const yk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wk=O.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,p=uk(e,fk),{basename:y}=O.useContext(Qi),x,v=!1;if(typeof u=="string"&&gk.test(u)&&(x=u,yk))try{let w=new URL(window.location.href),E=u.startsWith("//")?new URL(w.protocol+u):new URL(u),N=ym(E.pathname,y);E.origin===w.origin&&N!=null?u=N+E.search+E.hash:v=!0}catch{}let A=V2(u,{relative:s}),m=vk(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:s,unstable_viewTransition:d});function g(w){r&&r(w),w.defaultPrevented||m(w)}return O.createElement("a",jp({},p,{href:x||A,onClick:v||i?r:g,ref:n,target:l}))});var sg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sg||(sg={}));var ig;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ig||(ig={}));function vk(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,unstable_viewTransition:o}=e===void 0?{}:e,l=W2(),u=Id(),c=Gv(t,{relative:a});return O.useCallback(d=>{if(dk(d,n)){d.preventDefault();let p=r!==void 0?r:Vc(u)===Vc(c);l(t,{replace:p,state:s,preventScrollReset:i,relative:a,unstable_viewTransition:o})}},[u,l,c,r,s,n,t,i,a,o])}const xk="6.15.0";function bk(t,e,n){const r=e.split("|").map(i=>i.trim());for(let i=0;i<r.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${n}`,s.value=t,s}async function Nt(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,s,i)=>(r[e[i]]=s,r),{})}function te(t,e,n){for(let r in e){let s=e[r];const i=n?n[r]:null;i&&bk(s,i,r),Object.defineProperty(t,r,{enumerable:!0,value:s,writable:!1})}}function ha(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>ha(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let s=0;s<t.length;s++)r+=n[t[s]>>4],r+=n[t[s]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return ha(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${ha(r,e)}: ${ha(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function dt(t,e){return t&&t.code===e}function wm(t){return dt(t,"CALL_EXCEPTION")}function Me(t,e,n){let r=t;{const i=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${ha(n)}`);for(const a in n){if(a==="shortMessage")continue;const o=n[a];i.push(a+"="+ha(o))}}i.push(`code=${e}`),i.push(`version=${xk}`),i.length&&(t+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return te(s,{code:e}),n&&Object.assign(s,n),s.shortMessage==null&&te(s,{shortMessage:r}),s}function M(t,e,n,r){if(!t)throw Me(e,n,r)}function k(t,e,n,r){M(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function Kv(t,e,n){n==null&&(n=""),n&&(n=": "+n),M(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),M(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function yu(t,e,n){if(n==null&&(n=""),t!==e){let r=n,s="new";n&&(r+=".",s+=" "+n),M(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function Jv(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let s=2;for(let i=0;i<r.length;i++)r[i]=parseInt(t.substring(s,s+2),16),s+=2;return r}k(!1,"invalid BytesLike value",e||"value",t)}function ce(t,e){return Jv(t,e,!1)}function St(t,e){return Jv(t,e,!0)}function Ie(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function vm(t){return Ie(t,!0)||t instanceof Uint8Array}const ag="0123456789abcdef";function Q(t){const e=ce(t);let n="0x";for(let r=0;r<e.length;r++){const s=e[r];n+=ag[(s&240)>>4]+ag[s&15]}return n}function Ge(t){return"0x"+t.map(e=>Q(e).substring(2)).join("")}function Pa(t){return Ie(t,!0)?(t.length-2)/2:ce(t).length}function ze(t,e,n){const r=ce(t);return n!=null&&n>r.length&&M(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),Q(r.slice(e??0,n??r.length))}function $v(t,e,n){const r=ce(t);M(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),n?s.set(r,e-r.length):s.set(r,0),Q(s)}function _r(t,e){return $v(t,e,!0)}function Ak(t,e){return $v(t,e,!1)}const Rd=BigInt(0),Dn=BigInt(1),ma=9007199254740991;function Wc(t,e){const n=Od(t,"value"),r=BigInt(ae(e,"width"));if(M(n>>r===Rd,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-Dn){const s=(Dn<<r)-Dn;return-((~n&s)+Dn)}return n}function Yv(t,e){let n=Y(t,"value");const r=BigInt(ae(e,"width")),s=Dn<<r-Dn;if(n<Rd){n=-n,M(n<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const i=(Dn<<r)-Dn;return(~n&i)+Dn}else M(n<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function si(t,e){const n=Od(t,"value"),r=BigInt(ae(e,"bits"));return n&(Dn<<r)-Dn}function Y(t,e){switch(typeof t){case"bigint":return t;case"number":return k(Number.isInteger(t),"underflow",e||"value",t),k(t>=-ma&&t<=ma,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){k(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}k(!1,"invalid BigNumberish value",e||"value",t)}function Od(t,e){const n=Y(t,e);return M(n>=Rd,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const og="0123456789abcdef";function Bd(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=og[n>>4],e+=og[n&15];return BigInt(e)}return Y(t)}function ae(t,e){switch(typeof t){case"bigint":return k(t>=-ma&&t<=ma,"overflow",e||"value",t),Number(t);case"number":return k(Number.isInteger(t),"underflow",e||"value",t),k(t>=-ma&&t<=ma,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return ae(BigInt(t),e)}catch(n){k(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}k(!1,"invalid numeric value",e||"value",t)}function kk(t){return ae(Bd(t))}function Ls(t,e){let r=Od(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const s=ae(e,"width");for(M(s*2>=r.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<s*2;)r="0"+r}return"0x"+r}function tt(t){const e=Od(t,"value");if(e===Rd)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let s=0;s<r.length;s++){const i=s*2;r[s]=parseInt(n.substring(i,i+2),16)}return r}function Un(t){let e=Q(vm(t)?t:tt(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const lg="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const ug=BigInt(58);function Ek(t){const e=ce(t);let n=Bd(e),r="";for(;n;)r=lg[Number(n%ug)]+r,n/=ug;for(let s=0;s<e.length&&!e[s];s++)r=lg[0]+r;return r}function Tk(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return ce(e)}function Nk(t){const e=ce(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var Oa;class Zv{constructor(e,n,r){T(this,"filter");T(this,"emitter");P(this,Oa);b(this,Oa,n),te(this,{emitter:e,filter:r})}async removeListener(){f(this,Oa)!=null&&await this.emitter.off(this.filter,f(this,Oa))}}Oa=new WeakMap;function Sk(t,e,n,r,s){k(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function Xv(t,e,n,r,s){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let a=e+1;a<n.length&&n[a]>>6===2;a++)i++;return i}return t==="OVERRUN"?n.length-e-1:0}function Pk(t,e,n,r,s){return t==="OVERLONG"?(k(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),Xv(t,e,n))}const Ck=Object.freeze({error:Sk,ignore:Xv,replace:Pk});function Ik(t,e){e==null&&(e=Ck.error);const n=ce(t,"bytes"),r=[];let s=0;for(;s<n.length;){const i=n[s++];if(!(i>>7)){r.push(i);continue}let a=null,o=null;if((i&224)===192)a=1,o=127;else if((i&240)===224)a=2,o=2047;else if((i&248)===240)a=3,o=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,n,r):s+=e("BAD_PREFIX",s-1,n,r);continue}if(s-1+a>=n.length){s+=e("OVERRUN",s-1,n,r);continue}let l=i&(1<<8-a-1)-1;for(let u=0;u<a;u++){let c=n[s];if((c&192)!=128){s+=e("MISSING_CONTINUE",s,n,r),l=null;break}l=l<<6|c&63,s++}if(l!==null){if(l>1114111){s+=e("OUT_OF_RANGE",s-1-a,n,r,l);continue}if(l>=55296&&l<=57343){s+=e("UTF16_SURROGATE",s-1-a,n,r,l);continue}if(l<=o){s+=e("OVERLONG",s-1-a,n,r,l);continue}r.push(l)}}return r}function Fr(t,e){k(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192),n.push(s&63|128);else if((s&64512)==55296){r++;const i=t.charCodeAt(r);k(r<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);const a=65536+((s&1023)<<10)+(i&1023);n.push(a>>18|240),n.push(a>>12&63|128),n.push(a>>6&63|128),n.push(a&63|128)}else n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128)}return new Uint8Array(n)}function Rk(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Kc(t,e){return Rk(Ik(t,e))}function qv(t){async function e(n,r){M(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const s=n.url.split(":")[0].toLowerCase();M(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),M(s==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const a=new AbortController,o=setTimeout(()=>{i=Me("request timeout","TIMEOUT"),a.abort()},n.timeout);r&&r.addListener(()=>{i=Me("request cancelled","CANCELLED"),a.abort()});const l=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:a.signal});let u;try{u=await fetch(n.url,l)}catch(y){throw clearTimeout(o),i||y}clearTimeout(o);const c={};u.headers.forEach((y,x)=>{c[x.toLowerCase()]=y});const d=await u.arrayBuffer(),p=d==null?null:new Uint8Array(d);return{statusCode:u.status,statusMessage:u.statusText,headers:c,body:p}}return e}const Ok=12,Bk=250;let cg=qv();const Fk=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Mk=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Af=!1;async function ex(t,e){try{const n=t.match(Fk);if(!n)throw new Error("invalid data");return new Bs(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?Tk(n[3]):Uk(n[3]))}catch{return new Bs(599,"BAD REQUEST (invalid data: URI)",{},null,new zr(t))}}function tx(t){async function e(n,r){try{const s=n.match(Mk);if(!s)throw new Error("invalid link");return new zr(`${t}${s[2]}`)}catch{return new Bs(599,"BAD REQUEST (invalid IPFS URI)",{},null,new zr(n))}}return e}const Qu={data:ex,ipfs:tx("https://gateway.ipfs.io/ipfs/")},nx=new WeakMap;var li,ss;class Lk{constructor(e){P(this,li);P(this,ss);b(this,li,[]),b(this,ss,!1),nx.set(e,()=>{if(!f(this,ss)){b(this,ss,!0);for(const n of f(this,li))setTimeout(()=>{n()},0);b(this,li,[])}})}addListener(e){M(!f(this,ss),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),f(this,li).push(e)}get cancelled(){return f(this,ss)}checkSignal(){M(!this.cancelled,"cancelled","CANCELLED",{})}}li=new WeakMap,ss=new WeakMap;function Vu(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Ba,Fa,Cn,wr,Ma,La,rt,Zt,vr,ui,ci,di,Jn,In,is,fi,al;const ad=class ad{constructor(e){P(this,fi);P(this,Ba);P(this,Fa);P(this,Cn);P(this,wr);P(this,Ma);P(this,La);P(this,rt);P(this,Zt);P(this,vr);P(this,ui);P(this,ci);P(this,di);P(this,Jn);P(this,In);P(this,is);b(this,La,String(e)),b(this,Ba,!1),b(this,Fa,!0),b(this,Cn,{}),b(this,wr,""),b(this,Ma,3e5),b(this,In,{slotInterval:Bk,maxAttempts:Ok}),b(this,is,null)}get url(){return f(this,La)}set url(e){b(this,La,String(e))}get body(){return f(this,rt)==null?null:new Uint8Array(f(this,rt))}set body(e){if(e==null)b(this,rt,void 0),b(this,Zt,void 0);else if(typeof e=="string")b(this,rt,Fr(e)),b(this,Zt,"text/plain");else if(e instanceof Uint8Array)b(this,rt,e),b(this,Zt,"application/octet-stream");else if(typeof e=="object")b(this,rt,Fr(JSON.stringify(e))),b(this,Zt,"application/json");else throw new Error("invalid body")}hasBody(){return f(this,rt)!=null}get method(){return f(this,wr)?f(this,wr):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),b(this,wr,String(e).toUpperCase())}get headers(){const e=Object.assign({},f(this,Cn));return f(this,vr)&&(e.authorization=`Basic ${Nk(Fr(f(this,vr)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&f(this,Zt)&&(e["content-type"]=f(this,Zt)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){f(this,Cn)[String(e).toLowerCase()]=String(n)}clearHeaders(){b(this,Cn,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const s=n[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return f(this,vr)||null}setCredentials(e,n){k(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),b(this,vr,`${e}:${n}`)}get allowGzip(){return f(this,Fa)}set allowGzip(e){b(this,Fa,!!e)}get allowInsecureAuthentication(){return!!f(this,Ba)}set allowInsecureAuthentication(e){b(this,Ba,!!e)}get timeout(){return f(this,Ma)}set timeout(e){k(e>=0,"timeout must be non-zero","timeout",e),b(this,Ma,e)}get preflightFunc(){return f(this,ui)||null}set preflightFunc(e){b(this,ui,e)}get processFunc(){return f(this,ci)||null}set processFunc(e){b(this,ci,e)}get retryFunc(){return f(this,di)||null}set retryFunc(e){b(this,di,e)}get getUrlFunc(){return f(this,is)||cg}set getUrlFunc(e){b(this,is,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${f(this,rt)?Q(f(this,rt)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(f(this,In).slotInterval=e.slotInterval),e.maxAttempts!=null&&(f(this,In).maxAttempts=e.maxAttempts)}send(){return M(f(this,Jn)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),b(this,Jn,new Lk(this)),U(this,fi,al).call(this,0,dg()+this.timeout,0,this,new Bs(0,"",{},null,this))}cancel(){M(f(this,Jn)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=nx.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();M(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new ad(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,b(s,Cn,Object.assign({},f(this,Cn))),f(this,rt)&&b(s,rt,new Uint8Array(f(this,rt))),b(s,Zt,f(this,Zt)),s}clone(){const e=new ad(this.url);return b(e,wr,f(this,wr)),f(this,rt)&&b(e,rt,f(this,rt)),b(e,Zt,f(this,Zt)),b(e,Cn,Object.assign({},f(this,Cn))),b(e,vr,f(this,vr)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),b(e,ui,f(this,ui)),b(e,ci,f(this,ci)),b(e,di,f(this,di)),b(e,In,Object.assign({},f(this,In))),b(e,is,f(this,is)),e}static lockConfig(){Af=!0}static getGateway(e){return Qu[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Af)throw new Error("gateways locked");Qu[e]=n}static registerGetUrl(e){if(Af)throw new Error("gateways locked");cg=e}static createGetUrlFunc(e){return qv(e)}static createDataGateway(){return ex}static createIpfsGatewayFunc(e){return tx(e)}};Ba=new WeakMap,Fa=new WeakMap,Cn=new WeakMap,wr=new WeakMap,Ma=new WeakMap,La=new WeakMap,rt=new WeakMap,Zt=new WeakMap,vr=new WeakMap,ui=new WeakMap,ci=new WeakMap,di=new WeakMap,Jn=new WeakMap,In=new WeakMap,is=new WeakMap,fi=new WeakSet,al=async function(e,n,r,s,i){var c,d,p;if(e>=f(this,In).maxAttempts)return i.makeServerError("exceeded maximum retry limit");M(dg()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),r>0&&await Dk(r);let a=this.clone();const o=(a.url.split(":")[0]||"").toLowerCase();if(o in Qu){const y=await Qu[o](a.url,Vu(f(s,Jn)));if(y instanceof Bs){let x=y;if(this.processFunc){Vu(f(s,Jn));try{x=await this.processFunc(a,x)}catch(v){(v.throttle==null||typeof v.stall!="number")&&x.makeServerError("error in post-processing function",v).assertOk()}}return x}a=y}this.preflightFunc&&(a=await this.preflightFunc(a));const l=await this.getUrlFunc(a,Vu(f(s,Jn)));let u=new Bs(l.statusCode,l.statusMessage,l.headers,l.body,s);if(u.statusCode===301||u.statusCode===302){try{const y=u.headers.location||"";return U(c=a.redirect(y),fi,al).call(c,e+1,n,0,s,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(a,u,e))){const y=u.headers["retry-after"];let x=f(this,In).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof y=="string"&&y.match(/^[1-9][0-9]*$/)&&(x=parseInt(y)),U(d=a.clone(),fi,al).call(d,e+1,n,x,s,u)}if(this.processFunc){Vu(f(s,Jn));try{u=await this.processFunc(a,u)}catch(y){(y.throttle==null||typeof y.stall!="number")&&u.makeServerError("error in post-processing function",y).assertOk();let x=f(this,In).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return y.stall>=0&&(x=y.stall),U(p=a.clone(),fi,al).call(p,e+1,n,x,s,u)}}return u};let zr=ad;var Xl,ql,eu,Xt,Ua,pi;const Um=class Um{constructor(e,n,r,s,i){P(this,Xl);P(this,ql);P(this,eu);P(this,Xt);P(this,Ua);P(this,pi);b(this,Xl,e),b(this,ql,n),b(this,eu,Object.keys(r).reduce((a,o)=>(a[o.toLowerCase()]=String(r[o]),a),{})),b(this,Xt,s==null?null:new Uint8Array(s)),b(this,Ua,i||null),b(this,pi,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${f(this,Xt)?Q(f(this,Xt)):"null"}>`}get statusCode(){return f(this,Xl)}get statusMessage(){return f(this,ql)}get headers(){return Object.assign({},f(this,eu))}get body(){return f(this,Xt)==null?null:new Uint8Array(f(this,Xt))}get bodyText(){try{return f(this,Xt)==null?"":Kc(f(this,Xt))}catch{M(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{M(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const s=n[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new Um(599,r,this.headers,this.body,f(this,Ua)||void 0);return b(s,pi,{message:e,error:n}),s}throwThrottleError(e,n){n==null?n=-1:k(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw te(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return f(this,Xt)!=null}get request(){return f(this,Ua)}ok(){return f(this,pi).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=f(this,pi);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let s=null;try{f(this,Xt)&&(s=Kc(f(this,Xt)))}catch{}M(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Xl=new WeakMap,ql=new WeakMap,eu=new WeakMap,Xt=new WeakMap,Ua=new WeakMap,pi=new WeakMap;let Bs=Um;function dg(){return new Date().getTime()}function Uk(t){return Fr(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function Dk(t){return new Promise(e=>setTimeout(e,t))}const jk=BigInt(-1),Tn=BigInt(0),ya=BigInt(1),_k=BigInt(5),$i={};let Ca="0000";for(;Ca.length<80;)Ca+=Ca;function Gs(t){let e=Ca;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function qo(t,e,n){const r=BigInt(e.width);if(e.signed){const s=ya<<r-ya;M(n==null||t>=-s&&t<s,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>Tn?t=Wc(si(t,r),r):t=-Wc(si(-t,r),r)}else{const s=ya<<r;M(n==null||t>=0&&t<s,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%s+s)%s&s-ya}return t}function kf(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);k(i,"invalid fixed format","format",t),e=i[1]!=="u",n=parseInt(i[2]),r=parseInt(i[3])}}else if(t){const i=t,a=(o,l,u)=>i[o]==null?u:(k(typeof i[o]===l,"invalid fixed format ("+o+" not "+l+")","format."+o,i[o]),i[o]);e=a("signed","boolean",e),n=a("width","number",n),r=a("decimals","number",r)}k(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),k(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const s=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:s}}function zk(t,e){let n="";t<Tn&&(n="-",t*=jk);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=Ca+r;const s=r.length-e;for(r=r.substring(0,s)+"."+r.substring(s);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var Rn,Se,kt,Ae,Js,dr,_p,zp,Hp,Gp;const ts=class ts{constructor(e,n,r){P(this,Ae);T(this,"format");P(this,Rn);P(this,Se);P(this,kt);T(this,"_value");yu(e,$i,"FixedNumber"),b(this,Se,n),b(this,Rn,r);const s=zk(n,r.decimals);te(this,{format:r.name,_value:s}),b(this,kt,Gs(r.decimals))}get signed(){return f(this,Rn).signed}get width(){return f(this,Rn).width}get decimals(){return f(this,Rn).decimals}get value(){return f(this,Se)}addUnsafe(e){return U(this,Ae,_p).call(this,e)}add(e){return U(this,Ae,_p).call(this,e,"add")}subUnsafe(e){return U(this,Ae,zp).call(this,e)}sub(e){return U(this,Ae,zp).call(this,e,"sub")}mulUnsafe(e){return U(this,Ae,Hp).call(this,e)}mul(e){return U(this,Ae,Hp).call(this,e,"mul")}mulSignal(e){U(this,Ae,Js).call(this,e);const n=f(this,Se)*f(e,Se);return M(n%f(this,kt)===Tn,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),U(this,Ae,dr).call(this,n/f(this,kt),"mulSignal")}divUnsafe(e){return U(this,Ae,Gp).call(this,e)}div(e){return U(this,Ae,Gp).call(this,e,"div")}divSignal(e){M(f(e,Se)!==Tn,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),U(this,Ae,Js).call(this,e);const n=f(this,Se)*f(this,kt);return M(n%f(e,Se)===Tn,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),U(this,Ae,dr).call(this,n/f(e,Se),"divSignal")}cmp(e){let n=this.value,r=e.value;const s=this.decimals-e.decimals;return s>0?r*=Gs(s):s<0&&(n*=Gs(-s)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=f(this,Se);return f(this,Se)<Tn&&(e-=f(this,kt)-ya),e=f(this,Se)/f(this,kt)*f(this,kt),U(this,Ae,dr).call(this,e,"floor")}ceiling(){let e=f(this,Se);return f(this,Se)>Tn&&(e+=f(this,kt)-ya),e=f(this,Se)/f(this,kt)*f(this,kt),U(this,Ae,dr).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=_k*Gs(n-1);let s=this.value+r;const i=Gs(n);return s=s/i*i,qo(s,f(this,Rn),"round"),new ts($i,s,f(this,Rn))}isZero(){return f(this,Se)===Tn}isNegative(){return f(this,Se)<Tn}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return ts.fromString(this.toString(),e)}static fromValue(e,n,r){const s=n==null?0:ae(n),i=kf(r);let a=Y(e,"value");const o=s-i.decimals;if(o>0){const l=Gs(o);M(a%l===Tn,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),a/=l}else o<0&&(a*=Gs(-o));return qo(a,i,"fromValue"),new ts($i,a,i)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);k(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const s=kf(n);let i=r[2]||"0",a=r[3]||"";for(;a.length<s.decimals;)a+=Ca;M(a.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),a=a.substring(0,s.decimals);const o=BigInt(r[1]+i+a);return qo(o,s,"fromString"),new ts($i,o,s)}static fromBytes(e,n){let r=Bd(ce(e,"value"));const s=kf(n);return s.signed&&(r=Wc(r,s.width)),qo(r,s,"fromBytes"),new ts($i,r,s)}};Rn=new WeakMap,Se=new WeakMap,kt=new WeakMap,Ae=new WeakSet,Js=function(e){k(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},dr=function(e,n){return e=qo(e,f(this,Rn),n),new ts($i,e,f(this,Rn))},_p=function(e,n){return U(this,Ae,Js).call(this,e),U(this,Ae,dr).call(this,f(this,Se)+f(e,Se),n)},zp=function(e,n){return U(this,Ae,Js).call(this,e),U(this,Ae,dr).call(this,f(this,Se)-f(e,Se),n)},Hp=function(e,n){return U(this,Ae,Js).call(this,e),U(this,Ae,dr).call(this,f(this,Se)*f(e,Se)/f(this,kt),n)},Gp=function(e,n){return M(f(e,Se)!==Tn,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),U(this,Ae,Js).call(this,e),U(this,Ae,dr).call(this,f(this,Se)*f(this,kt)/f(e,Se),n)};let Jc=ts;function Hk(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function fg(t,e,n){let r=0;for(let s=0;s<n;s++)r=r*256+t[e+s];return r}function pg(t,e,n,r){const s=[];for(;n<e+1+r;){const i=rx(t,n);s.push(i.result),n+=i.consumed,M(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:s}}function rx(t,e){M(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{M(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const s=fg(t,e+1,r);return n(e+1+r+s),pg(t,e,e+1+r,r+s)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),pg(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const s=fg(t,e+1,r);n(e+1+r+s);const i=Q(t.slice(e+1+r,e+1+r+s));return{consumed:1+r+s,result:i}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const s=Q(t.slice(e+1,e+1+r));return{consumed:1+r,result:s}}return{consumed:1,result:Hk(t[e])}}function gu(t){const e=ce(t,"data"),n=rx(e,0);return k(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function hg(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function sx(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(i){r=r.concat(sx(i))}),r.length<=55)return r.unshift(192+r.length),r;const s=hg(r.length);return s.unshift(247+s.length),s.concat(r)}const e=Array.prototype.slice.call(ce(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=hg(e.length);return n.unshift(183+n.length),n.concat(e)}const mg="0123456789abcdef";function Us(t){let e="0x";for(const n of sx(t))e+=mg[n>>4],e+=mg[n&15];return e}const Gk=["wei","kwei","mwei","gwei","szabo","finney","ether"];function pr(t,e){let n=18;if(typeof e=="string"){const r=Gk.indexOf(e);k(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=ae(e,"unit"));return Jc.fromValue(t,n,{decimals:n,width:512}).toString()}function Qk(t,e){k(typeof t=="string","value must be a string","value",t);let n=18;return n=ae(e,"unit"),Jc.fromString(t,{decimals:n,width:512}).value}function ga(t){return pr(t,18)}function Ef(t){return Qk(t,18)}const Pt=32,Qp=new Uint8Array(Pt),Vk=["then"],Wu={},ix=new WeakMap;function Ys(t){return ix.get(t)}function yg(t,e){ix.set(t,e)}function el(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function Vp(t,e,n){return t.indexOf(null)>=0?e.map((r,s)=>r instanceof Po?Vp(Ys(r),r,n):r):t.reduce((r,s,i)=>{let a=e.getValue(s);return s in r||(n&&a instanceof Po&&(a=Vp(Ys(a),a,n)),r[s]=a),r},{})}var Da;const va=class va extends Array{constructor(...n){const r=n[0];let s=n[1],i=(n[2]||[]).slice(),a=!0;r!==Wu&&(s=n,i=[],a=!1);super(s.length);P(this,Da);s.forEach((u,c)=>{this[c]=u});const o=i.reduce((u,c)=>(typeof c=="string"&&u.set(c,(u.get(c)||0)+1),u),new Map);if(yg(this,Object.freeze(s.map((u,c)=>{const d=i[c];return d!=null&&o.get(d)===1?d:null}))),b(this,Da,[]),f(this,Da)==null&&f(this,Da),!a)return;Object.freeze(this);const l=new Proxy(this,{get:(u,c,d)=>{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){const y=ae(c,"%index");if(y<0||y>=this.length)throw new RangeError("out of result range");const x=u[y];return x instanceof Error&&el(`index ${y}`,x),x}if(Vk.indexOf(c)>=0)return Reflect.get(u,c,d);const p=u[c];if(p instanceof Function)return function(...y){return p.apply(this===d?u:this,y)};if(!(c in u))return u.getValue.apply(this===d?u:this,[c])}return Reflect.get(u,c,d)}});return yg(l,Ys(this)),l}toArray(n){const r=[];return this.forEach((s,i)=>{s instanceof Error&&el(`index ${i}`,s),n&&s instanceof va&&(s=s.toArray(n)),r.push(s)}),r}toObject(n){const r=Ys(this);return r.reduce((s,i,a)=>(M(i!=null,`value at index ${a} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Vp(r,this,n)),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const s=Ys(this),i=[],a=[];for(let o=n;o<r;o++)i.push(this[o]),a.push(s[o]);return new va(Wu,i,a)}filter(n,r){const s=Ys(this),i=[],a=[];for(let o=0;o<this.length;o++){const l=this[o];l instanceof Error&&el(`index ${o}`,l),n.call(r,l,o,this)&&(i.push(l),a.push(s[o]))}return new va(Wu,i,a)}map(n,r){const s=[];for(let i=0;i<this.length;i++){const a=this[i];a instanceof Error&&el(`index ${i}`,a),s.push(n.call(r,a,i,this))}return s}getValue(n){const r=Ys(this).indexOf(n);if(r===-1)return;const s=this[r];return s instanceof Error&&el(`property ${JSON.stringify(n)}`,s.error),s}static fromItems(n,r){return new va(Wu,n,r)}};Da=new WeakMap;let Po=va;function gg(t){let e=tt(t);return M(e.length<=Pt,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Pt,offset:e.length}),e.length!==Pt&&(e=St(Ge([Qp.slice(e.length%Pt),e]))),e}class Qr{constructor(e,n,r,s){T(this,"name");T(this,"type");T(this,"localName");T(this,"dynamic");te(this,{name:e,type:n,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){k(!1,e,this.localName,n)}}var xr,hi,ja,dc;class Wp{constructor(){P(this,ja);P(this,xr);P(this,hi);b(this,xr,[]),b(this,hi,0)}get data(){return Ge(f(this,xr))}get length(){return f(this,hi)}appendWriter(e){return U(this,ja,dc).call(this,St(e.data))}writeBytes(e){let n=St(e);const r=n.length%Pt;return r&&(n=St(Ge([n,Qp.slice(r)]))),U(this,ja,dc).call(this,n)}writeValue(e){return U(this,ja,dc).call(this,gg(e))}writeUpdatableValue(){const e=f(this,xr).length;return f(this,xr).push(Qp),b(this,hi,f(this,hi)+Pt),n=>{f(this,xr)[e]=gg(n)}}}xr=new WeakMap,hi=new WeakMap,ja=new WeakSet,dc=function(e){return f(this,xr).push(e),b(this,hi,f(this,hi)+e.length),e.length};var Ut,qt,mi,yi,as,zi,Jp,ax;const Dm=class Dm{constructor(e,n,r){P(this,zi);T(this,"allowLoose");P(this,Ut);P(this,qt);P(this,mi);P(this,yi);P(this,as);te(this,{allowLoose:!!n}),b(this,Ut,St(e)),b(this,mi,0),b(this,yi,null),b(this,as,r??1024),b(this,qt,0)}get data(){return Q(f(this,Ut))}get dataLength(){return f(this,Ut).length}get consumed(){return f(this,qt)}get bytes(){return new Uint8Array(f(this,Ut))}subReader(e){const n=new Dm(f(this,Ut).slice(f(this,qt)+e),this.allowLoose,f(this,as));return b(n,yi,this),n}readBytes(e,n){let r=U(this,zi,ax).call(this,0,e,!!n);return U(this,zi,Jp).call(this,e),b(this,qt,f(this,qt)+r.length),r.slice(0,e)}readValue(){return Bd(this.readBytes(Pt))}readIndex(){return kk(this.readBytes(Pt))}};Ut=new WeakMap,qt=new WeakMap,mi=new WeakMap,yi=new WeakMap,as=new WeakMap,zi=new WeakSet,Jp=function(e){var n;if(f(this,yi))return U(n=f(this,yi),zi,Jp).call(n,e);b(this,mi,f(this,mi)+e),M(f(this,as)<1||f(this,mi)<=f(this,as)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${f(this,as)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:St(f(this,Ut)),offset:f(this,qt),length:e,info:{bytesRead:f(this,mi),dataLength:this.dataLength}})},ax=function(e,n,r){let s=Math.ceil(n/Pt)*Pt;return f(this,qt)+s>f(this,Ut).length&&(this.allowLoose&&r&&f(this,qt)+n<=f(this,Ut).length?s=n:M(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:St(f(this,Ut)),length:f(this,Ut).length,offset:f(this,qt)+s})),f(this,Ut).slice(f(this,qt),f(this,qt)+s)};let Kp=Dm;function $c(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function xm(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Wk(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");$c(t.outputLen),$c(t.blockLen)}function Co(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ox(t,e){xm(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Tf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lx=t=>t instanceof Uint8Array,Kk=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Nf=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Vn=(t,e)=>t<<32-e|t>>>e,Jk=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Jk)throw new Error("Non little-endian hardware is not supported");function $k(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Fd(t){if(typeof t=="string"&&(t=$k(t)),!lx(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function Yk(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!lx(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class bm{clone(){return this._cloneInto()}}function Am(t){const e=r=>t().update(Fd(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Zk(t=32){if(Tf&&typeof Tf.getRandomValues=="function")return Tf.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class ux extends bm{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Wk(e);const r=Fd(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(e){return Co(this),this.iHash.update(e),this}digestInto(e){Co(this),xm(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:a,outputLen:o}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const cx=(t,e,n)=>new ux(t,e).update(n).digest();cx.create=(t,e)=>new ux(t,e);function Xk(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),o=Number(n&i),l=r?4:0,u=r?0:4;t.setUint32(e+l,a,r),t.setUint32(e+u,o,r)}class dx extends bm{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Nf(this.buffer)}update(e){Co(this);const{view:n,buffer:r,blockLen:s}=this;e=Fd(e);const i=e.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const l=Nf(e);for(;s<=i-a;a+=s)this.process(l,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Co(this),ox(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let d=a;d<s;d++)n[d]=0;Xk(r,s-8,BigInt(this.length*8),i),this.process(r,0);const o=Nf(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)o.setUint32(4*d,c[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:o}=this;return e.length=s,e.pos=o,e.finished=i,e.destroyed=a,s%n&&e.buffer.set(r),e}}const qk=(t,e,n)=>t&e^~t&n,eE=(t,e,n)=>t&e^t&n^e&n,tE=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Kr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jr=new Uint32Array(64);class nE extends dx{constructor(){super(64,32,8,!1),this.A=Kr[0]|0,this.B=Kr[1]|0,this.C=Kr[2]|0,this.D=Kr[3]|0,this.E=Kr[4]|0,this.F=Kr[5]|0,this.G=Kr[6]|0,this.H=Kr[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:a,G:o,H:l}=this;return[e,n,r,s,i,a,o,l]}set(e,n,r,s,i,a,o,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=l|0}process(e,n){for(let d=0;d<16;d++,n+=4)Jr[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const p=Jr[d-15],y=Jr[d-2],x=Vn(p,7)^Vn(p,18)^p>>>3,v=Vn(y,17)^Vn(y,19)^y>>>10;Jr[d]=v+Jr[d-7]+x+Jr[d-16]|0}let{A:r,B:s,C:i,D:a,E:o,F:l,G:u,H:c}=this;for(let d=0;d<64;d++){const p=Vn(o,6)^Vn(o,11)^Vn(o,25),y=c+p+qk(o,l,u)+tE[d]+Jr[d]|0,v=(Vn(r,2)^Vn(r,13)^Vn(r,22))+eE(r,s,i)|0;c=u,u=l,l=o,o=a+y|0,a=i,i=s,s=r,r=y+v|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,l=l+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,s,i,a,o,l,u,c)}roundClean(){Jr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const fx=Am(()=>new nE),Ku=BigInt(2**32-1),$p=BigInt(32);function px(t,e=!1){return e?{h:Number(t&Ku),l:Number(t>>$p&Ku)}:{h:Number(t>>$p&Ku)|0,l:Number(t&Ku)|0}}function hx(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:a}=px(t[s],e);[n[s],r[s]]=[i,a]}return[n,r]}const rE=(t,e)=>BigInt(t>>>0)<<$p|BigInt(e>>>0),sE=(t,e,n)=>t>>>n,iE=(t,e,n)=>t<<32-n|e>>>n,aE=(t,e,n)=>t>>>n|e<<32-n,oE=(t,e,n)=>t<<32-n|e>>>n,lE=(t,e,n)=>t<<64-n|e>>>n-32,uE=(t,e,n)=>t>>>n-32|e<<64-n,cE=(t,e)=>e,dE=(t,e)=>t,mx=(t,e,n)=>t<<n|e>>>32-n,yx=(t,e,n)=>e<<n|t>>>32-n,gx=(t,e,n)=>e<<n-32|t>>>64-n,wx=(t,e,n)=>t<<n-32|e>>>64-n;function fE(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const pE=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),hE=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,mE=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),yE=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,gE=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),wE=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,oe={fromBig:px,split:hx,toBig:rE,shrSH:sE,shrSL:iE,rotrSH:aE,rotrSL:oE,rotrBH:lE,rotrBL:uE,rotr32H:cE,rotr32L:dE,rotlSH:mx,rotlSL:yx,rotlBH:gx,rotlBL:wx,add:fE,add3L:pE,add3H:hE,add4L:mE,add4H:yE,add5H:wE,add5L:gE},[vE,xE]=oe.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),$r=new Uint32Array(80),Yr=new Uint32Array(80);class bE extends dx{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:a,Dh:o,Dl:l,Eh:u,El:c,Fh:d,Fl:p,Gh:y,Gl:x,Hh:v,Hl:A}=this;return[e,n,r,s,i,a,o,l,u,c,d,p,y,x,v,A]}set(e,n,r,s,i,a,o,l,u,c,d,p,y,x,v,A){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=a|0,this.Dh=o|0,this.Dl=l|0,this.Eh=u|0,this.El=c|0,this.Fh=d|0,this.Fl=p|0,this.Gh=y|0,this.Gl=x|0,this.Hh=v|0,this.Hl=A|0}process(e,n){for(let w=0;w<16;w++,n+=4)$r[w]=e.getUint32(n),Yr[w]=e.getUint32(n+=4);for(let w=16;w<80;w++){const E=$r[w-15]|0,N=Yr[w-15]|0,C=oe.rotrSH(E,N,1)^oe.rotrSH(E,N,8)^oe.shrSH(E,N,7),I=oe.rotrSL(E,N,1)^oe.rotrSL(E,N,8)^oe.shrSL(E,N,7),R=$r[w-2]|0,j=Yr[w-2]|0,_=oe.rotrSH(R,j,19)^oe.rotrBH(R,j,61)^oe.shrSH(R,j,6),L=oe.rotrSL(R,j,19)^oe.rotrBL(R,j,61)^oe.shrSL(R,j,6),ie=oe.add4L(I,L,Yr[w-7],Yr[w-16]),q=oe.add4H(ie,C,_,$r[w-7],$r[w-16]);$r[w]=q|0,Yr[w]=ie|0}let{Ah:r,Al:s,Bh:i,Bl:a,Ch:o,Cl:l,Dh:u,Dl:c,Eh:d,El:p,Fh:y,Fl:x,Gh:v,Gl:A,Hh:m,Hl:g}=this;for(let w=0;w<80;w++){const E=oe.rotrSH(d,p,14)^oe.rotrSH(d,p,18)^oe.rotrBH(d,p,41),N=oe.rotrSL(d,p,14)^oe.rotrSL(d,p,18)^oe.rotrBL(d,p,41),C=d&y^~d&v,I=p&x^~p&A,R=oe.add5L(g,N,I,xE[w],Yr[w]),j=oe.add5H(R,m,E,C,vE[w],$r[w]),_=R|0,L=oe.rotrSH(r,s,28)^oe.rotrBH(r,s,34)^oe.rotrBH(r,s,39),ie=oe.rotrSL(r,s,28)^oe.rotrBL(r,s,34)^oe.rotrBL(r,s,39),q=r&i^r&o^i&o,Fe=s&a^s&l^a&l;m=v|0,g=A|0,v=y|0,A=x|0,y=d|0,x=p|0,{h:d,l:p}=oe.add(u|0,c|0,j|0,_|0),u=o|0,c=l|0,o=i|0,l=a|0,i=r|0,a=s|0;const S=oe.add3L(_,ie,Fe);r=oe.add3H(S,j,L,q),s=S|0}({h:r,l:s}=oe.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:a}=oe.add(this.Bh|0,this.Bl|0,i|0,a|0),{h:o,l}=oe.add(this.Ch|0,this.Cl|0,o|0,l|0),{h:u,l:c}=oe.add(this.Dh|0,this.Dl|0,u|0,c|0),{h:d,l:p}=oe.add(this.Eh|0,this.El|0,d|0,p|0),{h:y,l:x}=oe.add(this.Fh|0,this.Fl|0,y|0,x|0),{h:v,l:A}=oe.add(this.Gh|0,this.Gl|0,v|0,A|0),{h:m,l:g}=oe.add(this.Hh|0,this.Hl|0,m|0,g|0),this.set(r,s,i,a,o,l,u,c,d,p,y,x,v,A,m,g)}roundClean(){$r.fill(0),Yr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const AE=Am(()=>new bE);function kE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const wg=kE();wg.crypto||wg.msCrypto;function EE(t){switch(t){case"sha256":return fx.create();case"sha512":return AE.create()}k(!1,"invalid hashing algorithm name","algorithm",t)}const[vx,xx,bx]=[[],[],[]],TE=BigInt(0),tl=BigInt(1),NE=BigInt(2),SE=BigInt(7),PE=BigInt(256),CE=BigInt(113);for(let t=0,e=tl,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],vx.push(2*(5*r+n)),xx.push((t+1)*(t+2)/2%64);let s=TE;for(let i=0;i<7;i++)e=(e<<tl^(e>>SE)*CE)%PE,e&NE&&(s^=tl<<(tl<<BigInt(i))-tl);bx.push(s)}const[IE,RE]=hx(bx,!0),vg=(t,e,n)=>n>32?gx(t,e,n):mx(t,e,n),xg=(t,e,n)=>n>32?wx(t,e,n):yx(t,e,n);function OE(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,l=(a+2)%10,u=n[l],c=n[l+1],d=vg(u,c,1)^n[o],p=xg(u,c,1)^n[o+1];for(let y=0;y<50;y+=10)t[a+y]^=d,t[a+y+1]^=p}let s=t[2],i=t[3];for(let a=0;a<24;a++){const o=xx[a],l=vg(s,i,o),u=xg(s,i,o),c=vx[a];s=t[c],i=t[c+1],t[c]=l,t[c+1]=u}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)n[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=IE[r],t[1]^=RE[r]}n.fill(0)}class km extends bm{constructor(e,n,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,$c(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Kk(this.state)}keccak(){OE(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Co(this);const{blockLen:n,state:r}=this;e=Fd(e);const s=e.length;for(let i=0;i<s;){const a=Math.min(n-this.pos,s-i);for(let o=0;o<a;o++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Co(this,!1),xm(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return $c(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(ox(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:a}=this;return e||(e=new km(n,r,s,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}}const BE=(t,e,n)=>Am(()=>new km(e,t,n)),FE=BE(1,136,256/8);let Ax=!1;const kx=function(t){return FE(t)};let Ex=kx;function $e(t){const e=ce(t,"data");return Q(Ex(e))}$e._=kx;$e.lock=function(){Ax=!0};$e.register=function(t){if(Ax)throw new TypeError("keccak256 is locked");Ex=t};Object.freeze($e);const Tx=function(t){return EE("sha256").update(t).digest()};let Nx=Tx,Sx=!1;function _o(t){const e=ce(t,"data");return Q(Nx(e))}_o._=Tx;_o.lock=function(){Sx=!0};_o.register=function(t){if(Sx)throw new Error("sha256 is locked");Nx=t};Object.freeze(_o);Object.freeze(_o);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Px=BigInt(0),Md=BigInt(1),ME=BigInt(2),Ld=t=>t instanceof Uint8Array,LE=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Io(t){if(!Ld(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=LE[t[n]];return e}function Cx(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Em(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Ro(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const s=r*2,i=t.slice(s,s+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");n[r]=a}return n}function Ii(t){return Em(Io(t))}function Tm(t){if(!Ld(t))throw new Error("Uint8Array expected");return Em(Io(Uint8Array.from(t).reverse()))}function Oo(t,e){return Ro(t.toString(16).padStart(e*2,"0"))}function Nm(t,e){return Oo(t,e).reverse()}function UE(t){return Ro(Cx(t))}function Pn(t,e,n){let r;if(typeof e=="string")try{r=Ro(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Ld(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${t} expected ${n} bytes, got ${s}`);return r}function zl(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!Ld(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function DE(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function jE(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function _E(t){let e;for(e=0;t>Px;t>>=Md,e+=1);return e}function zE(t,e){return t>>BigInt(e)&Md}const HE=(t,e,n)=>t|(n?Md:Px)<<BigInt(e),Sm=t=>(ME<<BigInt(t-1))-Md,Sf=t=>new Uint8Array(t),bg=t=>Uint8Array.from(t);function Ix(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Sf(t),s=Sf(t),i=0;const a=()=>{r.fill(1),s.fill(0),i=0},o=(...d)=>n(s,r,...d),l=(d=Sf())=>{s=o(bg([0]),d),r=o(),d.length!==0&&(s=o(bg([1]),d),r=o())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const p=[];for(;d<e;){r=o();const y=r.slice();p.push(y),d+=r.length}return zl(...p)};return(d,p)=>{a(),l(d);let y;for(;!(y=p(u()));)l();return a(),y}}const GE={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function wu(t,e,n={}){const r=(s,i,a)=>{const o=GE[i];if(typeof o!="function")throw new Error(`Invalid validator "${i}", expected function`);const l=t[s];if(!(a&&l===void 0)&&!o(l,t))throw new Error(`Invalid param ${String(s)}=${l} (${typeof l}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}const QE=Object.freeze(Object.defineProperty({__proto__:null,bitGet:zE,bitLen:_E,bitMask:Sm,bitSet:HE,bytesToHex:Io,bytesToNumberBE:Ii,bytesToNumberLE:Tm,concatBytes:zl,createHmacDrbg:Ix,ensureBytes:Pn,equalBytes:DE,hexToBytes:Ro,hexToNumber:Em,numberToBytesBE:Oo,numberToBytesLE:Nm,numberToHexUnpadded:Cx,numberToVarBytesBE:UE,utf8ToBytes:jE,validateObject:wu},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const at=BigInt(0),We=BigInt(1),Zs=BigInt(2),VE=BigInt(3),Yp=BigInt(4),Ag=BigInt(5),kg=BigInt(8);BigInt(9);BigInt(16);function jt(t,e){const n=t%e;return n>=at?n:e+n}function WE(t,e,n){if(n<=at||e<at)throw new Error("Expected power/modulo > 0");if(n===We)return at;let r=We;for(;e>at;)e&We&&(r=r*t%n),t=t*t%n,e>>=We;return r}function ln(t,e,n){let r=t;for(;e-- >at;)r*=r,r%=n;return r}function Zp(t,e){if(t===at||e<=at)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=jt(t,e),r=e,s=at,i=We;for(;n!==at;){const o=r/n,l=r%n,u=s-i*o;r=n,n=l,s=i,i=u}if(r!==We)throw new Error("invert: does not exist");return jt(s,e)}function KE(t){const e=(t-We)/Zs;let n,r,s;for(n=t-We,r=0;n%Zs===at;n/=Zs,r++);for(s=Zs;s<t&&WE(s,e,t)!==t-We;s++);if(r===1){const a=(t+We)/Yp;return function(l,u){const c=l.pow(u,a);if(!l.eql(l.sqr(c),u))throw new Error("Cannot find square root");return c}}const i=(n+We)/Zs;return function(o,l){if(o.pow(l,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let u=r,c=o.pow(o.mul(o.ONE,s),n),d=o.pow(l,i),p=o.pow(l,n);for(;!o.eql(p,o.ONE);){if(o.eql(p,o.ZERO))return o.ZERO;let y=1;for(let v=o.sqr(p);y<u&&!o.eql(v,o.ONE);y++)v=o.sqr(v);const x=o.pow(c,We<<BigInt(u-y-1));c=o.sqr(x),d=o.mul(d,x),p=o.mul(p,c),u=y}return d}}function JE(t){if(t%Yp===VE){const e=(t+We)/Yp;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%kg===Ag){const e=(t-Ag)/kg;return function(r,s){const i=r.mul(s,Zs),a=r.pow(i,e),o=r.mul(s,a),l=r.mul(r.mul(o,Zs),a),u=r.mul(o,r.sub(l,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return KE(t)}const $E=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function YE(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=$E.reduce((r,s)=>(r[s]="function",r),e);return wu(t,n)}function ZE(t,e,n){if(n<at)throw new Error("Expected power > 0");if(n===at)return t.ONE;if(n===We)return e;let r=t.ONE,s=e;for(;n>at;)n&We&&(r=t.mul(r,s)),s=t.sqr(s),n>>=We;return r}function XE(t,e){const n=new Array(e.length),r=e.reduce((i,a,o)=>t.is0(a)?i:(n[o]=i,t.mul(i,a)),t.ONE),s=t.inv(r);return e.reduceRight((i,a,o)=>t.is0(a)?i:(n[o]=t.mul(i,n[o]),t.mul(i,a)),s),n}function Rx(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function qE(t,e,n=!1,r={}){if(t<=at)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=Rx(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=JE(t),o=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:Sm(s),ZERO:at,ONE:We,create:l=>jt(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return at<=l&&l<t},is0:l=>l===at,isOdd:l=>(l&We)===We,neg:l=>jt(-l,t),eql:(l,u)=>l===u,sqr:l=>jt(l*l,t),add:(l,u)=>jt(l+u,t),sub:(l,u)=>jt(l-u,t),mul:(l,u)=>jt(l*u,t),pow:(l,u)=>ZE(o,l,u),div:(l,u)=>jt(l*Zp(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>Zp(l,t),sqrt:r.sqrt||(l=>a(o,l)),invertBatch:l=>XE(o,l),cmov:(l,u,c)=>c?u:l,toBytes:l=>n?Nm(l,i):Oo(l,i),fromBytes:l=>{if(l.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${l.length}`);return n?Tm(l):Ii(l)}});return Object.freeze(o)}function Ox(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Bx(t){const e=Ox(t);return e+Math.ceil(e/2)}function eT(t,e,n=!1){const r=t.length,s=Ox(e),i=Bx(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const a=n?Ii(t):Tm(t),o=jt(a,e-We)+We;return n?Nm(o,s):Oo(o,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tT=BigInt(0),Pf=BigInt(1);function nT(t,e){const n=(s,i)=>{const a=i.negate();return s?a:i},r=s=>{const i=Math.ceil(e/s)+1,a=2**(s-1);return{windows:i,windowSize:a}};return{constTimeNegate:n,unsafeLadder(s,i){let a=t.ZERO,o=s;for(;i>tT;)i&Pf&&(a=a.add(o)),o=o.double(),i>>=Pf;return a},precomputeWindow(s,i){const{windows:a,windowSize:o}=r(i),l=[];let u=s,c=u;for(let d=0;d<a;d++){c=u,l.push(c);for(let p=1;p<o;p++)c=c.add(u),l.push(c);u=c.double()}return l},wNAF(s,i,a){const{windows:o,windowSize:l}=r(s);let u=t.ZERO,c=t.BASE;const d=BigInt(2**s-1),p=2**s,y=BigInt(s);for(let x=0;x<o;x++){const v=x*l;let A=Number(a&d);a>>=y,A>l&&(A-=p,a+=Pf);const m=v,g=v+Math.abs(A)-1,w=x%2!==0,E=A<0;A===0?c=c.add(n(w,i[m])):u=u.add(n(E,i[g]))}return{p:u,f:c}},wNAFCached(s,i,a,o){const l=s._WINDOW_SIZE||1;let u=i.get(s);return u||(u=this.precomputeWindow(s,l),l!==1&&i.set(s,o(u))),this.wNAF(l,u,a)}}}function Fx(t){return YE(t.Fp),wu(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Rx(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function rT(t){const e=Fx(t);wu(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:sT,hexToBytes:iT}=QE,ii={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=ii;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:sT(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=ii,n=typeof t=="string"?iT(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=ii._parseInt(n.subarray(2)),{d:a,l:o}=ii._parseInt(i);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const c=u.toString(16);return c.length&1?`0${c}`:c},r=e(n(t.s)),s=e(n(t.r)),i=r.length/2,a=s.length/2,o=n(i),l=n(a);return`30${n(a+i+4)}02${l}${s}02${o}${r}`}},Cr=BigInt(0),mn=BigInt(1);BigInt(2);const Eg=BigInt(3);BigInt(4);function aT(t){const e=rT(t),{Fp:n}=e,r=e.toBytes||((x,v,A)=>{const m=v.toAffine();return zl(Uint8Array.from([4]),n.toBytes(m.x),n.toBytes(m.y))}),s=e.fromBytes||(x=>{const v=x.subarray(1),A=n.fromBytes(v.subarray(0,n.BYTES)),m=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:A,y:m}});function i(x){const{a:v,b:A}=e,m=n.sqr(x),g=n.mul(m,x);return n.add(n.add(g,n.mul(x,v)),A)}if(!n.eql(n.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function a(x){return typeof x=="bigint"&&Cr<x&&x<e.n}function o(x){if(!a(x))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(x){const{allowedPrivateKeyLengths:v,nByteLength:A,wrapPrivateKey:m,n:g}=e;if(v&&typeof x!="bigint"){if(x instanceof Uint8Array&&(x=Io(x)),typeof x!="string"||!v.includes(x.length))throw new Error("Invalid key");x=x.padStart(A*2,"0")}let w;try{w=typeof x=="bigint"?x:Ii(Pn("private key",x,A))}catch{throw new Error(`private key must be ${A} bytes, hex or bigint, not ${typeof x}`)}return m&&(w=jt(w,g)),o(w),w}const u=new Map;function c(x){if(!(x instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(v,A,m){if(this.px=v,this.py=A,this.pz=m,v==null||!n.isValid(v))throw new Error("x required");if(A==null||!n.isValid(A))throw new Error("y required");if(m==null||!n.isValid(m))throw new Error("z required")}static fromAffine(v){const{x:A,y:m}=v||{};if(!v||!n.isValid(A)||!n.isValid(m))throw new Error("invalid affine point");if(v instanceof d)throw new Error("projective point not allowed");const g=w=>n.eql(w,n.ZERO);return g(A)&&g(m)?d.ZERO:new d(A,m,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const A=n.invertBatch(v.map(m=>m.pz));return v.map((m,g)=>m.toAffine(A[g])).map(d.fromAffine)}static fromHex(v){const A=d.fromAffine(s(Pn("pointHex",v)));return A.assertValidity(),A}static fromPrivateKey(v){return d.BASE.multiply(l(v))}_setWindowSize(v){this._WINDOW_SIZE=v,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:A}=this.toAffine();if(!n.isValid(v)||!n.isValid(A))throw new Error("bad point: x or y not FE");const m=n.sqr(A),g=i(v);if(!n.eql(m,g))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){c(v);const{px:A,py:m,pz:g}=this,{px:w,py:E,pz:N}=v,C=n.eql(n.mul(A,N),n.mul(w,g)),I=n.eql(n.mul(m,N),n.mul(E,g));return C&&I}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b:A}=e,m=n.mul(A,Eg),{px:g,py:w,pz:E}=this;let N=n.ZERO,C=n.ZERO,I=n.ZERO,R=n.mul(g,g),j=n.mul(w,w),_=n.mul(E,E),L=n.mul(g,w);return L=n.add(L,L),I=n.mul(g,E),I=n.add(I,I),N=n.mul(v,I),C=n.mul(m,_),C=n.add(N,C),N=n.sub(j,C),C=n.add(j,C),C=n.mul(N,C),N=n.mul(L,N),I=n.mul(m,I),_=n.mul(v,_),L=n.sub(R,_),L=n.mul(v,L),L=n.add(L,I),I=n.add(R,R),R=n.add(I,R),R=n.add(R,_),R=n.mul(R,L),C=n.add(C,R),_=n.mul(w,E),_=n.add(_,_),R=n.mul(_,L),N=n.sub(N,R),I=n.mul(_,j),I=n.add(I,I),I=n.add(I,I),new d(N,C,I)}add(v){c(v);const{px:A,py:m,pz:g}=this,{px:w,py:E,pz:N}=v;let C=n.ZERO,I=n.ZERO,R=n.ZERO;const j=e.a,_=n.mul(e.b,Eg);let L=n.mul(A,w),ie=n.mul(m,E),q=n.mul(g,N),Fe=n.add(A,m),S=n.add(w,E);Fe=n.mul(Fe,S),S=n.add(L,ie),Fe=n.sub(Fe,S),S=n.add(A,g);let D=n.add(w,N);return S=n.mul(S,D),D=n.add(L,q),S=n.sub(S,D),D=n.add(m,g),C=n.add(E,N),D=n.mul(D,C),C=n.add(ie,q),D=n.sub(D,C),R=n.mul(j,S),C=n.mul(_,q),R=n.add(C,R),C=n.sub(ie,R),R=n.add(ie,R),I=n.mul(C,R),ie=n.add(L,L),ie=n.add(ie,L),q=n.mul(j,q),S=n.mul(_,S),ie=n.add(ie,q),q=n.sub(L,q),q=n.mul(j,q),S=n.add(S,q),L=n.mul(ie,S),I=n.add(I,L),L=n.mul(D,S),C=n.mul(Fe,C),C=n.sub(C,L),L=n.mul(Fe,ie),R=n.mul(D,R),R=n.add(R,L),new d(C,I,R)}subtract(v){return this.add(v.negate())}is0(){return this.equals(d.ZERO)}wNAF(v){return y.wNAFCached(this,u,v,A=>{const m=n.invertBatch(A.map(g=>g.pz));return A.map((g,w)=>g.toAffine(m[w])).map(d.fromAffine)})}multiplyUnsafe(v){const A=d.ZERO;if(v===Cr)return A;if(o(v),v===mn)return this;const{endo:m}=e;if(!m)return y.unsafeLadder(this,v);let{k1neg:g,k1:w,k2neg:E,k2:N}=m.splitScalar(v),C=A,I=A,R=this;for(;w>Cr||N>Cr;)w&mn&&(C=C.add(R)),N&mn&&(I=I.add(R)),R=R.double(),w>>=mn,N>>=mn;return g&&(C=C.negate()),E&&(I=I.negate()),I=new d(n.mul(I.px,m.beta),I.py,I.pz),C.add(I)}multiply(v){o(v);let A=v,m,g;const{endo:w}=e;if(w){const{k1neg:E,k1:N,k2neg:C,k2:I}=w.splitScalar(A);let{p:R,f:j}=this.wNAF(N),{p:_,f:L}=this.wNAF(I);R=y.constTimeNegate(E,R),_=y.constTimeNegate(C,_),_=new d(n.mul(_.px,w.beta),_.py,_.pz),m=R.add(_),g=j.add(L)}else{const{p:E,f:N}=this.wNAF(A);m=E,g=N}return d.normalizeZ([m,g])[0]}multiplyAndAddUnsafe(v,A,m){const g=d.BASE,w=(N,C)=>C===Cr||C===mn||!N.equals(g)?N.multiplyUnsafe(C):N.multiply(C),E=w(this,A).add(w(v,m));return E.is0()?void 0:E}toAffine(v){const{px:A,py:m,pz:g}=this,w=this.is0();v==null&&(v=w?n.ONE:n.inv(g));const E=n.mul(A,v),N=n.mul(m,v),C=n.mul(g,v);if(w)return{x:n.ZERO,y:n.ZERO};if(!n.eql(C,n.ONE))throw new Error("invZ was invalid");return{x:E,y:N}}isTorsionFree(){const{h:v,isTorsionFree:A}=e;if(v===mn)return!0;if(A)return A(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:A}=e;return v===mn?this:A?A(d,this):this.multiplyUnsafe(e.h)}toRawBytes(v=!0){return this.assertValidity(),r(d,this,v)}toHex(v=!0){return Io(this.toRawBytes(v))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const p=e.nBitLength,y=nT(d,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:a}}function oT(t){const e=Fx(t);return wu(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function lT(t){const e=oT(t),{Fp:n,n:r}=e,s=n.BYTES+1,i=2*n.BYTES+1;function a(S){return Cr<S&&S<n.ORDER}function o(S){return jt(S,r)}function l(S){return Zp(S,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:d,isWithinCurveOrder:p}=aT({...e,toBytes(S,D,G){const B=D.toAffine(),H=n.toBytes(B.x),V=zl;return G?V(Uint8Array.from([D.hasEvenY()?2:3]),H):V(Uint8Array.from([4]),H,n.toBytes(B.y))},fromBytes(S){const D=S.length,G=S[0],B=S.subarray(1);if(D===s&&(G===2||G===3)){const H=Ii(B);if(!a(H))throw new Error("Point is not on curve");const V=d(H);let ne=n.sqrt(V);const se=(ne&mn)===mn;return(G&1)===1!==se&&(ne=n.neg(ne)),{x:H,y:ne}}else if(D===i&&G===4){const H=n.fromBytes(B.subarray(0,n.BYTES)),V=n.fromBytes(B.subarray(n.BYTES,2*n.BYTES));return{x:H,y:V}}else throw new Error(`Point of length ${D} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=S=>Io(Oo(S,e.nByteLength));function x(S){const D=r>>mn;return S>D}function v(S){return x(S)?o(-S):S}const A=(S,D,G)=>Ii(S.slice(D,G));class m{constructor(D,G,B){this.r=D,this.s=G,this.recovery=B,this.assertValidity()}static fromCompact(D){const G=e.nByteLength;return D=Pn("compactSignature",D,G*2),new m(A(D,0,G),A(D,G,2*G))}static fromDER(D){const{r:G,s:B}=ii.toSig(Pn("DER",D));return new m(G,B)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(D){return new m(this.r,this.s,D)}recoverPublicKey(D){const{r:G,s:B,recovery:H}=this,V=I(Pn("msgHash",D));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const ne=H===2||H===3?G+e.n:G;if(ne>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const se=H&1?"03":"02",Ee=u.fromHex(se+y(ne)),be=l(ne),Ze=o(-V*be),pe=o(B*be),me=u.BASE.multiplyAndAddUnsafe(Ee,Ze,pe);if(!me)throw new Error("point at infinify");return me.assertValidity(),me}hasHighS(){return x(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Ro(this.toDERHex())}toDERHex(){return ii.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ro(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const g={isValidPrivateKey(S){try{return c(S),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const S=Bx(e.n);return eT(e.randomBytes(S),e.n)},precompute(S=8,D=u.BASE){return D._setWindowSize(S),D.multiply(BigInt(3)),D}};function w(S,D=!0){return u.fromPrivateKey(S).toRawBytes(D)}function E(S){const D=S instanceof Uint8Array,G=typeof S=="string",B=(D||G)&&S.length;return D?B===s||B===i:G?B===2*s||B===2*i:S instanceof u}function N(S,D,G=!0){if(E(S))throw new Error("first arg must be private key");if(!E(D))throw new Error("second arg must be public key");return u.fromHex(D).multiply(c(S)).toRawBytes(G)}const C=e.bits2int||function(S){const D=Ii(S),G=S.length*8-e.nBitLength;return G>0?D>>BigInt(G):D},I=e.bits2int_modN||function(S){return o(C(S))},R=Sm(e.nBitLength);function j(S){if(typeof S!="bigint")throw new Error("bigint expected");if(!(Cr<=S&&S<R))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Oo(S,e.nByteLength)}function _(S,D,G=L){if(["recovered","canonical"].some(F=>F in G))throw new Error("sign() legacy options not supported");const{hash:B,randomBytes:H}=e;let{lowS:V,prehash:ne,extraEntropy:se}=G;V==null&&(V=!0),S=Pn("msgHash",S),ne&&(S=Pn("prehashed msgHash",B(S)));const Ee=I(S),be=c(D),Ze=[j(be),j(Ee)];if(se!=null){const F=se===!0?H(n.BYTES):se;Ze.push(Pn("extraEntropy",F))}const pe=zl(...Ze),me=Ee;function Ke(F){const K=C(F);if(!p(K))return;const W=l(K),ee=u.BASE.multiply(K).toAffine(),X=o(ee.x);if(X===Cr)return;const Z=o(W*o(me+X*be));if(Z===Cr)return;let le=(ee.x===X?0:2)|Number(ee.y&mn),ve=Z;return V&&x(Z)&&(ve=v(Z),le^=1),new m(X,ve,le)}return{seed:pe,k2sig:Ke}}const L={lowS:e.lowS,prehash:!1},ie={lowS:e.lowS,prehash:!1};function q(S,D,G=L){const{seed:B,k2sig:H}=_(S,D,G),V=e;return Ix(V.hash.outputLen,V.nByteLength,V.hmac)(B,H)}u.BASE._setWindowSize(8);function Fe(S,D,G,B=ie){var ee;const H=S;if(D=Pn("msgHash",D),G=Pn("publicKey",G),"strict"in B)throw new Error("options.strict was renamed to lowS");const{lowS:V,prehash:ne}=B;let se,Ee;try{if(typeof H=="string"||H instanceof Uint8Array)try{se=m.fromDER(H)}catch(X){if(!(X instanceof ii.Err))throw X;se=m.fromCompact(H)}else if(typeof H=="object"&&typeof H.r=="bigint"&&typeof H.s=="bigint"){const{r:X,s:Z}=H;se=new m(X,Z)}else throw new Error("PARSE");Ee=u.fromHex(G)}catch(X){if(X.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(V&&se.hasHighS())return!1;ne&&(D=e.hash(D));const{r:be,s:Ze}=se,pe=I(D),me=l(Ze),Ke=o(pe*me),F=o(be*me),K=(ee=u.BASE.multiplyAndAddUnsafe(Ee,Ke,F))==null?void 0:ee.toAffine();return K?o(K.x)===be:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:N,sign:q,verify:Fe,ProjectivePoint:u,Signature:m,utils:g}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function uT(t){return{hash:t,hmac:(e,...n)=>cx(t,e,Yk(...n)),randomBytes:Zk}}function cT(t,e){const n=r=>lT({...t,...uT(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mx=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Tg=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),dT=BigInt(1),Xp=BigInt(2),Ng=(t,e)=>(t+e/Xp)/e;function fT(t){const e=Mx,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),o=BigInt(44),l=BigInt(88),u=t*t*t%e,c=u*u*t%e,d=ln(c,n,e)*c%e,p=ln(d,n,e)*c%e,y=ln(p,Xp,e)*u%e,x=ln(y,s,e)*y%e,v=ln(x,i,e)*x%e,A=ln(v,o,e)*v%e,m=ln(A,l,e)*A%e,g=ln(m,o,e)*v%e,w=ln(g,n,e)*c%e,E=ln(w,a,e)*x%e,N=ln(E,r,e)*u%e,C=ln(N,Xp,e);if(!qp.eql(qp.sqr(C),t))throw new Error("Cannot find square root");return C}const qp=qE(Mx,void 0,void 0,{sqrt:fT}),Xr=cT({a:BigInt(0),b:BigInt(7),Fp:qp,n:Tg,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Tg,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-dT*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,a=BigInt("0x100000000000000000000000000000000"),o=Ng(i*t,e),l=Ng(-r*t,e);let u=jt(t-o*n-l*s,e),c=jt(-o*r-l*i,e);const d=u>a,p=c>a;if(d&&(u=e-u),p&&(c=e-c),u>a||c>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:u,k2neg:p,k2:c}}}},fx);BigInt(0);Xr.ProjectivePoint;const Hl="0x0000000000000000000000000000000000000000",Sg="0x0000000000000000000000000000000000000000000000000000000000000000",Pg=BigInt(0),Cg=BigInt(1),Ig=BigInt(2),Rg=BigInt(27),Og=BigInt(28),Ju=BigInt(35),Yi={};function Bg(t){return _r(tt(t),32)}var _a,$n,za,gi;const Nn=class Nn{constructor(e,n,r,s){P(this,_a);P(this,$n);P(this,za);P(this,gi);yu(e,Yi,"Signature"),b(this,_a,n),b(this,$n,r),b(this,za,s),b(this,gi,null)}get r(){return f(this,_a)}set r(e){k(Pa(e)===32,"invalid r","value",e),b(this,_a,Q(e))}get s(){return k(parseInt(f(this,$n).substring(0,3))<8,"non-canonical s; use ._s","s",f(this,$n)),f(this,$n)}set s(e){k(Pa(e)===32,"invalid s","value",e),b(this,$n,Q(e))}get _s(){return f(this,$n)}isValid(){return parseInt(f(this,$n).substring(0,3))<8}get v(){return f(this,za)}set v(e){const n=ae(e,"value");k(n===27||n===28,"invalid v","v",e),b(this,za,n)}get networkV(){return f(this,gi)}get legacyChainId(){const e=this.networkV;return e==null?null:Nn.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=ce(this.s);return this.yParity&&(e[0]|=128),Q(e)}get compactSerialized(){return Ge([this.r,this.yParityAndS])}get serialized(){return Ge([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Nn(Yi,this.r,this._s,this.v);return this.networkV&&b(e,gi,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const n=Y(e,"v");return n==Rg||n==Og?Pg:(k(n>=Ju,"invalid EIP-155 v","v",e),(n-Ju)/Ig)}static getChainIdV(e,n){return Y(e)*Ig+BigInt(35+n-27)}static getNormalizedV(e){const n=Y(e);return n===Pg||n===Rg?27:n===Cg||n===Og?28:(k(n>=Ju,"invalid v","v",e),n&Cg?27:28)}static from(e){function n(u,c){k(u,c,"signature",e)}if(e==null)return new Nn(Yi,Sg,Sg,27);if(typeof e=="string"){const u=ce(e,"signature");if(u.length===64){const c=Q(u.slice(0,32)),d=u.slice(32,64),p=d[0]&128?28:27;return d[0]&=127,new Nn(Yi,c,Q(d),p)}if(u.length===65){const c=Q(u.slice(0,32)),d=Q(u.slice(32,64)),p=Nn.getNormalizedV(u[64]);return new Nn(Yi,c,d,p)}n(!1,"invalid raw signature length")}if(e instanceof Nn)return e.clone();const r=e.r;n(r!=null,"missing r");const s=Bg(r),i=function(u,c){if(u!=null)return Bg(u);if(c!=null){n(Ie(c,32),"invalid yParityAndS");const d=ce(c);return d[0]&=127,Q(d)}n(!1,"missing s")}(e.s,e.yParityAndS),{networkV:a,v:o}=function(u,c,d){if(u!=null){const p=Y(u);return{networkV:p>=Ju?p:void 0,v:Nn.getNormalizedV(p)}}if(c!=null)return n(Ie(c,32),"invalid yParityAndS"),{v:ce(c)[0]&128?28:27};if(d!=null){switch(ae(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new Nn(Yi,s,i,o);return a&&b(l,gi,a),n(e.yParity==null||ae(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}};_a=new WeakMap,$n=new WeakMap,za=new WeakMap,gi=new WeakMap;let Wt=Nn;var br;const Xs=class Xs{constructor(e){P(this,br);k(Pa(e)===32,"invalid private key","privateKey","[REDACTED]"),b(this,br,Q(e))}get privateKey(){return f(this,br)}get publicKey(){return Xs.computePublicKey(f(this,br))}get compressedPublicKey(){return Xs.computePublicKey(f(this,br),!0)}sign(e){k(Pa(e)===32,"invalid digest length","digest",e);const n=Xr.sign(St(e),St(f(this,br)),{lowS:!0});return Wt.from({r:Ls(n.r,32),s:Ls(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=Xs.computePublicKey(e);return Q(Xr.getSharedSecret(St(f(this,br)),ce(n),!1))}static computePublicKey(e,n){let r=ce(e,"key");if(r.length===32){const i=Xr.getPublicKey(r,!!n);return Q(i)}if(r.length===64){const i=new Uint8Array(65);i[0]=4,i.set(r,1),r=i}const s=Xr.ProjectivePoint.fromHex(r);return Q(s.toRawBytes(n))}static recoverPublicKey(e,n){k(Pa(e)===32,"invalid digest length","digest",e);const r=Wt.from(n);let s=Xr.Signature.fromCompact(St(Ge([r.r,r.s])));s=s.addRecoveryBit(r.yParity);const i=s.recoverPublicKey(St(e));return k(i!=null,"invalid signature for digest","signature",n),"0x"+i.toHex(!1)}static addPoints(e,n,r){const s=Xr.ProjectivePoint.fromHex(Xs.computePublicKey(e).substring(2)),i=Xr.ProjectivePoint.fromHex(Xs.computePublicKey(n).substring(2));return"0x"+s.add(i).toHex(!!r)}};br=new WeakMap;let Gl=Xs;const pT=BigInt(0),hT=BigInt(36);function Fg(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let s=0;s<40;s++)n[s]=e[s].charCodeAt(0);const r=ce($e(n));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(r[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const Pm={};for(let t=0;t<10;t++)Pm[String(t)]=String(t);for(let t=0;t<26;t++)Pm[String.fromCharCode(65+t)]=String(10+t);const Mg=15;function mT(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>Pm[r]).join("");for(;e.length>=Mg;){let r=e.substring(0,Mg);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const yT=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function gT(t){t=t.toLowerCase();let e=pT;for(let n=0;n<t.length;n++)e=e*hT+yT[t[n]];return e}function ke(t){if(k(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=Fg(t);return k(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){k(t.substring(2,4)===mT(t),"bad icap checksum","address",t);let e=gT(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return Fg("0x"+e)}k(!1,"invalid address","address",t)}function wT(t){const e=ke(t.from);let r=Y(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,ke(ze($e(Us([e,r])),12))}function Lx(t){return t&&typeof t.getAddress=="function"}async function Cf(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(M(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),k(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),ke(n)}function Ct(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?ke(t):(M(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Cf(t,e.resolveName(t)));if(Lx(t))return Cf(t,t.getAddress());if(t&&typeof t.then=="function")return Cf(t,t);k(!1,"unsupported addressable value","target",t)}const hr={};function J(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new bt(hr,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function xe(t,e){return new bt(hr,`bytes${e||""}`,t,{size:e})}const Lg=Symbol.for("_ethers_typed");var wi;const mr=class mr{constructor(e,n,r,s){T(this,"type");T(this,"value");P(this,wi);T(this,"_typedSymbol");s==null&&(s=null),yu(hr,e,"Typed"),te(this,{_typedSymbol:Lg,type:n,value:r}),b(this,wi,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return f(this,wi)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return f(this,wi)===!0?-1:f(this,wi)===!1?this.value.length:null}static from(e,n){return new mr(hr,e,n)}static uint8(e){return J(e,8)}static uint16(e){return J(e,16)}static uint24(e){return J(e,24)}static uint32(e){return J(e,32)}static uint40(e){return J(e,40)}static uint48(e){return J(e,48)}static uint56(e){return J(e,56)}static uint64(e){return J(e,64)}static uint72(e){return J(e,72)}static uint80(e){return J(e,80)}static uint88(e){return J(e,88)}static uint96(e){return J(e,96)}static uint104(e){return J(e,104)}static uint112(e){return J(e,112)}static uint120(e){return J(e,120)}static uint128(e){return J(e,128)}static uint136(e){return J(e,136)}static uint144(e){return J(e,144)}static uint152(e){return J(e,152)}static uint160(e){return J(e,160)}static uint168(e){return J(e,168)}static uint176(e){return J(e,176)}static uint184(e){return J(e,184)}static uint192(e){return J(e,192)}static uint200(e){return J(e,200)}static uint208(e){return J(e,208)}static uint216(e){return J(e,216)}static uint224(e){return J(e,224)}static uint232(e){return J(e,232)}static uint240(e){return J(e,240)}static uint248(e){return J(e,248)}static uint256(e){return J(e,256)}static uint(e){return J(e,256)}static int8(e){return J(e,-8)}static int16(e){return J(e,-16)}static int24(e){return J(e,-24)}static int32(e){return J(e,-32)}static int40(e){return J(e,-40)}static int48(e){return J(e,-48)}static int56(e){return J(e,-56)}static int64(e){return J(e,-64)}static int72(e){return J(e,-72)}static int80(e){return J(e,-80)}static int88(e){return J(e,-88)}static int96(e){return J(e,-96)}static int104(e){return J(e,-104)}static int112(e){return J(e,-112)}static int120(e){return J(e,-120)}static int128(e){return J(e,-128)}static int136(e){return J(e,-136)}static int144(e){return J(e,-144)}static int152(e){return J(e,-152)}static int160(e){return J(e,-160)}static int168(e){return J(e,-168)}static int176(e){return J(e,-176)}static int184(e){return J(e,-184)}static int192(e){return J(e,-192)}static int200(e){return J(e,-200)}static int208(e){return J(e,-208)}static int216(e){return J(e,-216)}static int224(e){return J(e,-224)}static int232(e){return J(e,-232)}static int240(e){return J(e,-240)}static int248(e){return J(e,-248)}static int256(e){return J(e,-256)}static int(e){return J(e,-256)}static bytes1(e){return xe(e,1)}static bytes2(e){return xe(e,2)}static bytes3(e){return xe(e,3)}static bytes4(e){return xe(e,4)}static bytes5(e){return xe(e,5)}static bytes6(e){return xe(e,6)}static bytes7(e){return xe(e,7)}static bytes8(e){return xe(e,8)}static bytes9(e){return xe(e,9)}static bytes10(e){return xe(e,10)}static bytes11(e){return xe(e,11)}static bytes12(e){return xe(e,12)}static bytes13(e){return xe(e,13)}static bytes14(e){return xe(e,14)}static bytes15(e){return xe(e,15)}static bytes16(e){return xe(e,16)}static bytes17(e){return xe(e,17)}static bytes18(e){return xe(e,18)}static bytes19(e){return xe(e,19)}static bytes20(e){return xe(e,20)}static bytes21(e){return xe(e,21)}static bytes22(e){return xe(e,22)}static bytes23(e){return xe(e,23)}static bytes24(e){return xe(e,24)}static bytes25(e){return xe(e,25)}static bytes26(e){return xe(e,26)}static bytes27(e){return xe(e,27)}static bytes28(e){return xe(e,28)}static bytes29(e){return xe(e,29)}static bytes30(e){return xe(e,30)}static bytes31(e){return xe(e,31)}static bytes32(e){return xe(e,32)}static address(e){return new mr(hr,"address",e)}static bool(e){return new mr(hr,"bool",!!e)}static bytes(e){return new mr(hr,"bytes",e)}static string(e){return new mr(hr,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new mr(hr,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===Lg}static dereference(e,n){if(mr.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};wi=new WeakMap;let bt=mr;class vT extends Qr{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=bt.dereference(n,"string");try{r=ke(r)}catch(s){return this._throwError(s.message,n)}return e.writeValue(r)}decode(e){return ke(Ls(e.readValue(),20))}}class xT extends Qr{constructor(n){super(n.name,n.type,"_",n.dynamic);T(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function Ux(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(u=>{const c=u.localName;return M(c,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),M(!l[c],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),l[c]=!0,n[c]})}else k(!1,"invalid tuple value","tuple",n);k(e.length===r.length,"types/value length mismatch","tuple",n);let s=new Wp,i=new Wp,a=[];e.forEach((l,u)=>{let c=r[u];if(l.dynamic){let d=i.length;l.encode(i,c);let p=s.writeUpdatableValue();a.push(y=>{p(y+d)})}else l.encode(s,c)}),a.forEach(l=>{l(s.length)});let o=t.appendWriter(s);return o+=t.appendWriter(i),o}function Dx(t,e){let n=[],r=[],s=t.subReader(0);return e.forEach(i=>{let a=null;if(i.dynamic){let o=t.readIndex(),l=s.subReader(o);try{a=i.decode(l)}catch(u){if(dt(u,"BUFFER_OVERRUN"))throw u;a=u,a.baseType=i.name,a.name=i.localName,a.type=i.type}}else try{a=i.decode(t)}catch(o){if(dt(o,"BUFFER_OVERRUN"))throw o;a=o,a.baseType=i.name,a.name=i.localName,a.type=i.type}if(a==null)throw new Error("investigate");n.push(a),r.push(i.localName||null)}),Po.fromItems(n,r)}class bT extends Qr{constructor(n,r,s){const i=n.type+"["+(r>=0?r:"")+"]",a=r===-1||n.dynamic;super("array",i,s,a);T(this,"coder");T(this,"length");te(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let s=0;s<this.length;s++)r.push(n);return r}encode(n,r){const s=bt.dereference(r,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,n.writeValue(s.length)),Kv(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let o=0;o<s.length;o++)a.push(this.coder);return Ux(n,a,s)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),M(r*Pt<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*Pt,length:n.dataLength}));let s=[];for(let i=0;i<r;i++)s.push(new xT(this.coder));return Dx(n,s)}}class AT extends Qr{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=bt.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class jx extends Qr{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=St(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class kT extends jx{constructor(e){super("bytes",e)}decode(e){return Q(super.decode(e))}}class ET extends Qr{constructor(n,r){let s="bytes"+String(n);super(s,s,r,!1);T(this,"size");te(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let s=St(bt.dereference(r,this.type));return s.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(s)}decode(n){return Q(n.readBytes(this.size))}}const TT=new Uint8Array([]);class NT extends Qr{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(TT)}decode(e){return e.readBytes(0),null}}const ST=BigInt(0),PT=BigInt(1),CT=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class IT extends Qr{constructor(n,r,s){const i=(r?"int":"uint")+n*8;super(i,i,s,!1);T(this,"size");T(this,"signed");te(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let s=Y(bt.dereference(r,this.type)),i=si(CT,Pt*8);if(this.signed){let a=si(i,this.size*8-1);(s>a||s<-(a+PT))&&this._throwError("value out-of-bounds",r),s=Yv(s,8*Pt)}else(s<ST||s>si(i,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(s)}decode(n){let r=si(n.readValue(),this.size*8);return this.signed&&(r=Wc(r,this.size*8)),r}}class RT extends jx{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Fr(bt.dereference(n,"string")))}decode(e){return Kc(super.decode(e))}}class $u extends Qr{constructor(n,r){let s=!1;const i=[];n.forEach(o=>{o.dynamic&&(s=!0),i.push(o.type)});const a="tuple("+i.join(",")+")";super("tuple",a,r,s);T(this,"coders");te(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(s=>{n.push(s.defaultValue())});const r=this.coders.reduce((s,i)=>{const a=i.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});return this.coders.forEach((s,i)=>{let a=s.localName;!a||r[a]!==1||(a==="length"&&(a="_length"),n[a]==null&&(n[a]=n[i]))}),Object.freeze(n)}encode(n,r){const s=bt.dereference(r,"tuple");return Ux(n,this.coders,s)}decode(n){return Dx(n,this.coders)}}function If(t,e){return{address:ke(t),storageKeys:e.map((n,r)=>(k(Ie(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function Wi(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(k(n.length===2,"invalid slot set",`value[${r}]`,n),If(n[0],n[1])):(k(n!=null&&typeof n=="object","invalid address-slot set","value",t),If(n.address,n.storageKeys)));k(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((s,i)=>(s[i]=!0,s),{});return If(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function _x(t){return{address:ke(t.address),nonce:Y(t.nonce!=null?t.nonce:0),chainId:Y(t.chainId!=null?t.chainId:0),signature:Wt.from(t.signature)}}function OT(t){let e;return typeof t=="string"?e=Gl.computePublicKey(t,!1):e=t.publicKey,ke($e("0x"+e.substring(4)).substring(26))}function BT(t,e){return OT(Gl.recoverPublicKey(t,e))}const it=BigInt(0),FT=BigInt(2),MT=BigInt(27),LT=BigInt(28),UT=BigInt(35),DT=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Rf=4096*32;function jT(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return ce(t.blobToKzgCommitment(Q(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return ce(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return ce(t.blobToKZGCommitment(Q(r)));k(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,s)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return ce(t.computeBlobProof(Q(r),Q(s)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,s);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return ce(t.computeBlobKZGProof(Q(r),Q(s)));k(!1,"unsupported KZG library","kzg",t)}}}function Ug(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=_o(e).substring(4),"0x"+n}function zo(t){return t==="0x"?null:ke(t)}function Ud(t,e){try{return Wi(t)}catch(n){k(!1,n.message,e,t)}}function _T(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const s=t[r];if(!Array.isArray(s))throw new Error(`authorization[${r}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!s[1])throw new Error(`authorization[${r}]: null address`);n.push({address:zo(s[1]),nonce:Pe(s[2],"nonce"),chainId:Pe(s[0],"chainId"),signature:Wt.from({yParity:Ki(s[3],"yParity"),r:_r(s[4],32),s:_r(s[5],32)})})}return n}catch(n){k(!1,n.message,e,t)}}function Ki(t,e){return t==="0x"?0:ae(t,e)}function Pe(t,e){if(t==="0x")return it;const n=Y(t,e);return k(n<=DT,"value exceeds uint size",e,n),n}function ge(t,e){const n=Y(t,"value"),r=tt(n);return k(r.length<=32,"value too large",`tx.${e}`,n),r}function Dd(t){return Wi(t).map(e=>[e.address,e.storageKeys])}function zT(t){return t.map(e=>[ge(e.chainId,"chainId"),e.address,ge(e.nonce,"nonce"),ge(e.signature.yParity,"yParity"),tt(e.signature.r),tt(e.signature.s)])}function HT(t,e){k(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)k(Ie(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function GT(t){const e=gu(t);k(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:Ki(e[0],"nonce"),gasPrice:Pe(e[1],"gasPrice"),gasLimit:Pe(e[2],"gasLimit"),to:zo(e[3]),value:Pe(e[4],"value"),data:Q(e[5]),chainId:it};if(e.length===6)return n;const r=Pe(e[6],"v"),s=Pe(e[7],"r"),i=Pe(e[8],"s");if(s===it&&i===it)n.chainId=r;else{let a=(r-UT)/FT;a<it&&(a=it),n.chainId=a,k(a!==it||r===MT||r===LT,"non-canonical legacy v","v",e[6]),n.signature=Wt.from({r:_r(e[7],32),s:_r(e[8],32),v:r})}return n}function QT(t,e){const n=[ge(t.nonce,"nonce"),ge(t.gasPrice||0,"gasPrice"),ge(t.gasLimit,"gasLimit"),t.to||"0x",ge(t.value,"value"),t.data];let r=it;if(t.chainId!=it)r=Y(t.chainId,"tx.chainId"),k(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const i=t.signature.legacyChainId;i!=null&&(r=i)}if(!e)return r!==it&&(n.push(tt(r)),n.push("0x"),n.push("0x")),Us(n);let s=BigInt(27+e.yParity);return r!==it?s=Wt.getChainIdV(r,e.v):BigInt(e.v)!==s&&k(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(tt(s)),n.push(tt(e.r)),n.push(tt(e.s)),Us(n)}function jd(t,e){let n;try{if(n=Ki(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{k(!1,"invalid yParity","yParity",e[0])}const r=_r(e[1],32),s=_r(e[2],32),i=Wt.from({r,s,yParity:n});t.signature=i}function VT(t){const e=gu(ce(t).slice(1));k(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Q(t));const n={type:2,chainId:Pe(e[0],"chainId"),nonce:Ki(e[1],"nonce"),maxPriorityFeePerGas:Pe(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Pe(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Pe(e[4],"gasLimit"),to:zo(e[5]),value:Pe(e[6],"value"),data:Q(e[7]),accessList:Ud(e[8],"accessList")};return e.length===9||jd(n,e.slice(9)),n}function WT(t,e){const n=[ge(t.chainId,"chainId"),ge(t.nonce,"nonce"),ge(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ge(t.maxFeePerGas||0,"maxFeePerGas"),ge(t.gasLimit,"gasLimit"),t.to||"0x",ge(t.value,"value"),t.data,Dd(t.accessList||[])];return e&&(n.push(ge(e.yParity,"yParity")),n.push(tt(e.r)),n.push(tt(e.s))),Ge(["0x02",Us(n)])}function KT(t){const e=gu(ce(t).slice(1));k(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Q(t));const n={type:1,chainId:Pe(e[0],"chainId"),nonce:Ki(e[1],"nonce"),gasPrice:Pe(e[2],"gasPrice"),gasLimit:Pe(e[3],"gasLimit"),to:zo(e[4]),value:Pe(e[5],"value"),data:Q(e[6]),accessList:Ud(e[7],"accessList")};return e.length===8||jd(n,e.slice(8)),n}function JT(t,e){const n=[ge(t.chainId,"chainId"),ge(t.nonce,"nonce"),ge(t.gasPrice||0,"gasPrice"),ge(t.gasLimit,"gasLimit"),t.to||"0x",ge(t.value,"value"),t.data,Dd(t.accessList||[])];return e&&(n.push(ge(e.yParity,"recoveryParam")),n.push(tt(e.r)),n.push(tt(e.s))),Ge(["0x01",Us(n)])}function $T(t){let e=gu(ce(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const i=e[1],a=e[2],o=e[3];k(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),k(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),k(Array.isArray(o),"invalid network format: proofs not an array","fields[3]",o),k(i.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),k(i.length===o.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let l=0;l<e[1].length;l++)r.push({data:i[l],commitment:a[l],proof:o[l]});e=e[0]}k(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",Q(t));const s={type:3,chainId:Pe(e[0],"chainId"),nonce:Ki(e[1],"nonce"),maxPriorityFeePerGas:Pe(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Pe(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Pe(e[4],"gasLimit"),to:zo(e[5]),value:Pe(e[6],"value"),data:Q(e[7]),accessList:Ud(e[8],"accessList"),maxFeePerBlobGas:Pe(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(s.blobs=r),k(s.to!=null,`invalid address for transaction type: ${n}`,"data",t),k(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let i=0;i<s.blobVersionedHashes.length;i++)k(Ie(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",t);return e.length===11||jd(s,e.slice(11)),s}function YT(t,e,n){const r=[ge(t.chainId,"chainId"),ge(t.nonce,"nonce"),ge(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ge(t.maxFeePerGas||0,"maxFeePerGas"),ge(t.gasLimit,"gasLimit"),t.to||Hl,ge(t.value,"value"),t.data,Dd(t.accessList||[]),ge(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),HT(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(ge(e.yParity,"yParity")),r.push(tt(e.r)),r.push(tt(e.s)),n)?Ge(["0x03",Us([r,n.map(s=>s.data),n.map(s=>s.commitment),n.map(s=>s.proof)])]):Ge(["0x03",Us(r)])}function ZT(t){const e=gu(ce(t).slice(1));k(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",Q(t));const n={type:4,chainId:Pe(e[0],"chainId"),nonce:Ki(e[1],"nonce"),maxPriorityFeePerGas:Pe(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Pe(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Pe(e[4],"gasLimit"),to:zo(e[5]),value:Pe(e[6],"value"),data:Q(e[7]),accessList:Ud(e[8],"accessList"),authorizationList:_T(e[9],"authorizationList")};return e.length===10||jd(n,e.slice(10)),n}function XT(t,e){const n=[ge(t.chainId,"chainId"),ge(t.nonce,"nonce"),ge(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ge(t.maxFeePerGas||0,"maxFeePerGas"),ge(t.gasLimit,"gasLimit"),t.to||"0x",ge(t.value,"value"),t.data,Dd(t.accessList||[]),zT(t.authorizationList||[])];return e&&(n.push(ge(e.yParity,"yParity")),n.push(tt(e.r)),n.push(tt(e.s))),Ge(["0x04",Us(n)])}var On,Ha,Ga,Qa,Va,Wa,Ka,Ja,$a,Ya,Za,Xa,vi,os,Yn,ls,qa,eo,fc;const Kn=class Kn{constructor(){P(this,eo);P(this,On);P(this,Ha);P(this,Ga);P(this,Qa);P(this,Va);P(this,Wa);P(this,Ka);P(this,Ja);P(this,$a);P(this,Ya);P(this,Za);P(this,Xa);P(this,vi);P(this,os);P(this,Yn);P(this,ls);P(this,qa);b(this,On,null),b(this,Ha,null),b(this,Qa,0),b(this,Va,it),b(this,Wa,null),b(this,Ka,null),b(this,Ja,null),b(this,Ga,"0x"),b(this,$a,it),b(this,Ya,it),b(this,Za,null),b(this,Xa,null),b(this,vi,null),b(this,os,null),b(this,Yn,null),b(this,ls,null),b(this,qa,null)}get type(){return f(this,On)}set type(e){switch(e){case null:b(this,On,null);break;case 0:case"legacy":b(this,On,0);break;case 1:case"berlin":case"eip-2930":b(this,On,1);break;case 2:case"london":case"eip-1559":b(this,On,2);break;case 3:case"cancun":case"eip-4844":b(this,On,3);break;case 4:case"pectra":case"eip-7702":b(this,On,4);break;default:k(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=f(this,Ha);return e==null&&this.type===3?Hl:e}set to(e){b(this,Ha,e==null?null:ke(e))}get nonce(){return f(this,Qa)}set nonce(e){b(this,Qa,ae(e,"value"))}get gasLimit(){return f(this,Va)}set gasLimit(e){b(this,Va,Y(e))}get gasPrice(){const e=f(this,Wa);return e==null&&(this.type===0||this.type===1)?it:e}set gasPrice(e){b(this,Wa,e==null?null:Y(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=f(this,Ka);return e??(this.type===2||this.type===3?it:null)}set maxPriorityFeePerGas(e){b(this,Ka,e==null?null:Y(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=f(this,Ja);return e??(this.type===2||this.type===3?it:null)}set maxFeePerGas(e){b(this,Ja,e==null?null:Y(e,"maxFeePerGas"))}get data(){return f(this,Ga)}set data(e){b(this,Ga,Q(e))}get value(){return f(this,$a)}set value(e){b(this,$a,Y(e,"value"))}get chainId(){return f(this,Ya)}set chainId(e){b(this,Ya,Y(e))}get signature(){return f(this,Za)||null}set signature(e){b(this,Za,e==null?null:Wt.from(e))}get accessList(){const e=f(this,Xa)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){b(this,Xa,e==null?null:Wi(e))}get authorizationList(){const e=f(this,qa)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){b(this,qa,e==null?null:e.map(n=>_x(n)))}get maxFeePerBlobGas(){const e=f(this,vi);return e==null&&this.type===3?it:e}set maxFeePerBlobGas(e){b(this,vi,e==null?null:Y(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=f(this,os);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){k(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)k(Ie(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}b(this,os,e)}get blobs(){return f(this,ls)==null?null:f(this,ls).map(e=>Object.assign({},e))}set blobs(e){if(e==null){b(this,ls,null);return}const n=[],r=[];for(let s=0;s<e.length;s++){const i=e[s];if(vm(i)){M(f(this,Yn),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let a=ce(i);if(k(a.length<=Rf,"blob is too large",`blobs[${s}]`,i),a.length!==Rf){const u=new Uint8Array(Rf);u.set(a),a=u}const o=f(this,Yn).blobToKzgCommitment(a),l=Q(f(this,Yn).computeBlobKzgProof(a,o));n.push({data:Q(a),commitment:Q(o),proof:l}),r.push(Ug(1,o))}else{const a=Q(i.commitment);n.push({data:Q(i.data),commitment:a,proof:Q(i.proof)}),r.push(Ug(1,a))}}b(this,ls,n),b(this,os,r)}get kzg(){return f(this,Yn)}set kzg(e){e==null?b(this,Yn,null):b(this,Yn,jT(e))}get hash(){return this.signature==null?null:$e(U(this,eo,fc).call(this,!0,!1))}get unsignedHash(){return $e(this.unsignedSerialized)}get from(){return this.signature==null?null:BT(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Gl.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return U(this,eo,fc).call(this,!0,!0)}get unsignedSerialized(){return U(this,eo,fc).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,s=f(this,vi)!=null||f(this,os);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&M(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),M(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),M(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):n?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Kn.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Kn;if(typeof e=="string"){const r=ce(e);if(r[0]>=127)return Kn.from(GT(r));switch(r[0]){case 1:return Kn.from(KT(r));case 2:return Kn.from(VT(r));case 3:return Kn.from($T(r));case 4:return Kn.from(ZT(r))}M(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new Kn;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=Wt.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(k(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),k(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(k(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),k(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};On=new WeakMap,Ha=new WeakMap,Ga=new WeakMap,Qa=new WeakMap,Va=new WeakMap,Wa=new WeakMap,Ka=new WeakMap,Ja=new WeakMap,$a=new WeakMap,Ya=new WeakMap,Za=new WeakMap,Xa=new WeakMap,vi=new WeakMap,os=new WeakMap,Yn=new WeakMap,ls=new WeakMap,qa=new WeakMap,eo=new WeakSet,fc=function(e,n){M(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return QT(this,r);case 1:return JT(this,r);case 2:return WT(this,r);case 3:return YT(this,r,n?this.blobs:null);case 4:return XT(this,r)}M(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Yc=Kn;function Ui(t){return $e(Fr(t))}var qT="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";const Dg=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),jg=4;function eN(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),s=1,i=[0,1];for(let N=1;N<r;N++)i.push(s+=n());let a=n(),o=e;e+=a;let l=0,u=0;function c(){return l==0&&(u=u<<8|t[e++],l=8),u>>--l&1}const d=31,p=2**d,y=p>>>1,x=y>>1,v=p-1;let A=0;for(let N=0;N<d;N++)A=A<<1|c();let m=[],g=0,w=p;for(;;){let N=Math.floor(((A-g+1)*s-1)/w),C=0,I=r;for(;I-C>1;){let _=C+I>>>1;N<i[_]?I=_:C=_}if(C==0)break;m.push(C);let R=g+Math.floor(w*i[C]/s),j=g+Math.floor(w*i[C+1]/s)-1;for(;!((R^j)&y);)A=A<<1&v|c(),R=R<<1&v,j=j<<1&v|1;for(;R&~j&x;)A=A&y|A<<1&v>>>1|c(),R=R<<1^y,j=(j^y)<<1|y|1;g=R,w=1+j-R}let E=r-4;return m.map(N=>{switch(N-E){case 3:return E+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return E+256+(t[o++]<<8|t[o++]);case 1:return E+t[o++];default:return N-1}})}function tN(t){let e=0;return()=>t[e++]}function zx(t){return tN(eN(nN(t)))}function nN(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let n=t.length,r=new Uint8Array(6*n>>3);for(let s=0,i=0,a=0,o=0;s<n;s++)o=o<<6|e[t.charCodeAt(s)],a+=6,a>=8&&(r[i++]=o>>(a-=8));return r}function rN(t){return t&1?~t>>1:t>>1}function sN(t,e){let n=Array(t);for(let r=0,s=0;r<t;r++)n[r]=s+=rN(e());return n}function Ql(t,e=0){let n=[];for(;;){let r=t(),s=t();if(!s)break;e+=r;for(let i=0;i<s;i++)n.push(e+i);e+=s+1}return n}function Hx(t){return Vl(()=>{let e=Ql(t);if(e.length)return e})}function Gx(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(iN(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(aN(n,t))}return e.flat()}function Vl(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function Qx(t,e,n){let r=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)sN(t,n).forEach((i,a)=>r[a].push(i));return r}function iN(t,e){let n=1+e(),r=e(),s=Vl(e);return Qx(s.length,1+t,e).flatMap((a,o)=>{let[l,...u]=a;return Array(s[o]).fill().map((c,d)=>{let p=d*r;return[l+d*n,u.map(y=>y+p)]})})}function aN(t,e){let n=1+e();return Qx(n,1+t,e).map(s=>[s[0],s.slice(1)])}function oN(t){let e=[],n=Ql(t);return s(r([]),[]),e;function r(i){let a=t(),o=Vl(()=>{let l=Ql(t).map(u=>n[u]);if(l.length)return r(l)});return{S:a,B:o,Q:i}}function s({S:i,B:a},o,l){if(!(i&4&&l===o[o.length-1])){i&2&&(l=o[o.length-1]),i&1&&e.push(o);for(let u of a)for(let c of u.Q)s(u,[...o,c],l)}}}function lN(t){return t.toString(16).toUpperCase().padStart(2,"0")}function Vx(t){return`{${lN(t)}}`}function uN(t){let e=[];for(let n=0,r=t.length;n<r;){let s=t.codePointAt(n);n+=s<65536?1:2,e.push(s)}return e}function Bo(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let s=0;s<n;)r.push(String.fromCodePoint(...t.slice(s,s+=4096)));return r.join("")}function cN(t,e){let n=t.length,r=n-e.length;for(let s=0;r==0&&s<n;s++)r=t[s]-e[s];return r}var dN="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";const Wl=44032,Zc=4352,Xc=4449,qc=4519,Wx=19,Kx=21,Fo=28,ed=Kx*Fo,fN=Wx*ed,pN=Wl+fN,hN=Zc+Wx,mN=Xc+Kx,yN=qc+Fo;function ol(t){return t>>24&255}function Jx(t){return t&16777215}let eh,_g,th,pc;function gN(){let t=zx(dN);eh=new Map(Hx(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),_g=new Set(Ql(t)),th=new Map,pc=new Map;for(let[e,n]of Gx(t)){if(!_g.has(e)&&n.length==2){let[r,s]=n,i=pc.get(r);i||(i=new Map,pc.set(r,i)),i.set(s,e)}th.set(e,n.reverse())}}function $x(t){return t>=Wl&&t<pN}function wN(t,e){if(t>=Zc&&t<hN&&e>=Xc&&e<mN)return Wl+(t-Zc)*ed+(e-Xc)*Fo;if($x(t)&&e>qc&&e<yN&&(t-Wl)%Fo==0)return t+(e-qc);{let n=pc.get(t);return n&&(n=n.get(e),n)?n:-1}}function Yx(t){eh||gN();let e=[],n=[],r=!1;function s(i){let a=eh.get(i);a&&(r=!0,i|=a),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if($x(i)){let a=i-Wl,o=a/ed|0,l=a%ed/Fo|0,u=a%Fo;s(Zc+o),s(Xc+l),u>0&&s(qc+u)}else{let a=th.get(i);a?n.push(...a):s(i)}if(!n.length)break;i=n.pop()}if(r&&e.length>1){let i=ol(e[0]);for(let a=1;a<e.length;a++){let o=ol(e[a]);if(o==0||i<=o){i=o;continue}let l=a-1;for(;;){let u=e[l+1];if(e[l+1]=e[l],e[l]=u,!l||(i=ol(e[--l]),i<=o))break}i=ol(e[a])}}return e}function vN(t){let e=[],n=[],r=-1,s=0;for(let i of t){let a=ol(i),o=Jx(i);if(r==-1)a==0?r=o:e.push(o);else if(s>0&&s>=a)a==0?(e.push(r,...n),n.length=0,r=o):n.push(o),s=a;else{let l=wN(r,o);l>=0?r=l:s==0&&a==0?(e.push(r),r=o):(n.push(o),s=a)}}return r>=0&&e.push(r,...n),e}function Zx(t){return Yx(t).map(Jx)}function xN(t){return vN(Yx(t))}const zg=45,Xx=".",qx=65039,eb=1,td=t=>Array.from(t);function Kl(t,e){return t.P.has(e)||t.Q.has(e)}class bN extends Array{get is_emoji(){return!0}}let nh,tb,ai,rh,nb,Ia,Of,qi,$s,Hg,sh;function Cm(){if(nh)return;let t=zx(qT);const e=()=>Ql(t),n=()=>new Set(e()),r=(c,d)=>d.forEach(p=>c.add(p));nh=new Map(Gx(t)),tb=n(),ai=e(),rh=new Set(e().map(c=>ai[c])),ai=new Set(ai),nb=n(),n();let s=Hx(t),i=t();const a=()=>{let c=new Set;return e().forEach(d=>r(c,s[d])),r(c,e()),c};Ia=Vl(c=>{let d=Vl(t).map(p=>p+96);if(d.length){let p=c>=i;d[0]-=32,d=Bo(d),p&&(d=`Restricted[${d}]`);let y=a(),x=a(),v=!t();return{N:d,P:y,Q:x,M:v,R:p}}}),Of=n(),qi=new Map;let o=e().concat(td(Of)).sort((c,d)=>c-d);o.forEach((c,d)=>{let p=t(),y=o[d]=p?o[d-p]:{V:[],M:new Map};y.V.push(c),Of.has(c)||qi.set(c,y)});for(let{V:c,M:d}of new Set(qi.values())){let p=[];for(let x of c){let v=Ia.filter(m=>Kl(m,x)),A=p.find(({G:m})=>v.some(g=>m.has(g)));A||(A={G:new Set,V:[]},p.push(A)),A.V.push(x),r(A.G,v)}let y=p.flatMap(x=>td(x.G));for(let{G:x,V:v}of p){let A=new Set(y.filter(m=>!x.has(m)));for(let m of v)d.set(m,A)}}$s=new Set;let l=new Set;const u=c=>$s.has(c)?l.add(c):$s.add(c);for(let c of Ia){for(let d of c.P)u(d);for(let d of c.Q)u(d)}for(let c of $s)!qi.has(c)&&!l.has(c)&&qi.set(c,eb);r($s,Zx($s)),Hg=oN(t).map(c=>bN.from(c)).sort(cN),sh=new Map;for(let c of Hg){let d=[sh];for(let p of c){let y=d.map(x=>{let v=x.get(p);return v||(v=new Map,x.set(p,v)),v});p===qx?d.push(...y):d=y}for(let p of d)p.V=c}}function Im(t){return(rb(t)?"":`${Rm(_d([t]))} `)+Vx(t)}function Rm(t){return`"${t}"`}function AN(t){if(t.length>=4&&t[2]==zg&&t[3]==zg)throw new Error(`invalid label extension: "${Bo(t.slice(0,4))}"`)}function kN(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function EN(t){let e=t[0],n=Dg.get(e);if(n)throw xl(`leading ${n}`);let r=t.length,s=-1;for(let i=1;i<r;i++){e=t[i];let a=Dg.get(e);if(a){if(s==i)throw xl(`${n} + ${a}`);s=i+1,n=a}}if(s==r)throw xl(`trailing ${n}`)}function _d(t,e=1/0,n=Vx){let r=[];TN(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let a=0;a<i;a++){let o=t[a];rb(o)&&(r.push(Bo(t.slice(s,a))),r.push(n(o)),s=a+1)}return r.push(Bo(t.slice(s,i))),r.join("")}function TN(t){return Cm(),ai.has(t)}function rb(t){return Cm(),nb.has(t)}function NN(t){return IN(SN(t,xN,BN))}function SN(t,e,n){if(!t)return[];Cm();let r=0;return t.split(Xx).map(s=>{let i=uN(s),a={input:i,offset:r};r+=i.length+1;try{let o=a.tokens=ON(i,e,n),l=o.length,u;if(!l)throw new Error("empty label");let c=a.output=o.flat();if(kN(c),!(a.emoji=l>1||o[0].is_emoji)&&c.every(p=>p<128))AN(c),u="ASCII";else{let p=o.flatMap(y=>y.is_emoji?[]:y);if(!p.length)u="Emoji";else{if(ai.has(c[0]))throw xl("leading combining mark");for(let v=1;v<l;v++){let A=o[v];if(!A.is_emoji&&ai.has(A[0]))throw xl(`emoji + combining mark: "${Bo(o[v-1])} + ${_d([A[0]])}"`)}EN(c);let y=td(new Set(p)),[x]=CN(y);RN(x,p),PN(x,y),u=x.N}}a.type=u}catch(o){a.error=o}return a})}function PN(t,e){let n,r=[];for(let s of e){let i=qi.get(s);if(i===eb)return;if(i){let a=i.M.get(s);if(n=n?n.filter(o=>a.has(o)):td(a),!n.length)return}else r.push(s)}if(n){for(let s of n)if(r.every(i=>Kl(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function CN(t){let e=Ia;for(let n of t){let r=e.filter(s=>Kl(s,n));if(!r.length)throw Ia.some(s=>Kl(s,n))?ib(e[0],n):sb(n);if(e=r,r.length==1)break}return e}function IN(t){return t.map(({input:e,error:n,output:r})=>{if(n){let s=n.message;throw new Error(t.length==1?s:`Invalid label ${Rm(_d(e,63))}: ${s}`)}return Bo(r)}).join(Xx)}function sb(t){return new Error(`disallowed character: ${Im(t)}`)}function ib(t,e){let n=Im(e),r=Ia.find(s=>s.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function xl(t){return new Error(`illegal placement: ${t}`)}function RN(t,e){for(let n of e)if(!Kl(t,n))throw ib(t,n);if(t.M){let n=Zx(e);for(let r=1,s=n.length;r<s;r++)if(rh.has(n[r])){let i=r+1;for(let a;i<s&&rh.has(a=n[i]);i++)for(let o=r;o<i;o++)if(n[o]==a)throw new Error(`duplicate non-spacing marks: ${Im(a)}`);if(i-r>jg)throw new Error(`excessive non-spacing marks: ${Rm(_d(n.slice(r-1,i)))} (${i-r}/${jg})`);r=i}}}function ON(t,e,n){let r=[],s=[];for(t=t.slice().reverse();t.length;){let i=FN(t);if(i)s.length&&(r.push(e(s)),s=[]),r.push(n(i));else{let a=t.pop();if($s.has(a))s.push(a);else{let o=nh.get(a);if(o)s.push(...o);else if(!tb.has(a))throw sb(a)}}}return s.length&&r.push(e(s)),r}function BN(t){return t.filter(e=>e!=qx)}function FN(t,e){let n=sh,r,s=t.length;for(;s&&(n=n.get(t[--s]),!!n);){let{V:i}=n;i&&(r=i,t.length=s)}return r}const ab=new Uint8Array(32);ab.fill(0);function Gg(t){return k(t.length!==0,"invalid ENS name; empty component","comp",t),t}function ob(t){const e=Fr(MN(t)),n=[];if(t.length===0)return n;let r=0;for(let s=0;s<e.length;s++)e[s]===46&&(n.push(Gg(e.slice(r,s))),r=s+1);return k(r<e.length,"invalid ENS name; empty component","name",t),n.push(Gg(e.slice(r))),n}function MN(t){try{if(t.length===0)throw new Error("empty label");return NN(t)}catch(e){k(!1,`invalid ENS name (${e.message})`,"name",t)}}function ih(t){k(typeof t=="string","invalid ENS name; not a string","name",t),k(t.length,"invalid ENS name (empty label)","name",t);let e=ab;const n=ob(t);for(;n.length;)e=$e(Ge([e,$e(n.pop())]));return Q(e)}function LN(t,e){const n=e;return k(n<=255,"DNS encoded label cannot exceed 255","length",n),Q(Ge(ob(t).map(r=>{k(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const s=new Uint8Array(r.length+1);return s.set(r,1),s[0]=s.length-1,s})))+"00"}const lb=new Uint8Array(32);lb.fill(0);const UN=BigInt(-1),ub=BigInt(0),cb=BigInt(1),DN=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function jN(t){const e=ce(t),n=e.length%32;return n?Ge([e,lb.slice(n)]):Q(e)}const _N=Ls(cb,32),zN=Ls(ub,32),Qg={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Bf=["name","version","chainId","verifyingContract","salt"];function Vg(t){return function(e){return k(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const HN={name:Vg("name"),version:Vg("version"),chainId:function(t){const e=Y(t,"domain.chainId");return k(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Un(e)},verifyingContract:function(t){try{return ke(t).toLowerCase()}catch{}k(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=ce(t,"domain.salt");return k(e.length===32,'invalid domain value "salt"',"domain.salt",t),Q(e)}};function Ff(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);k(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const s=si(DN,n?r-1:r),i=n?(s+cb)*UN:ub;return function(a){const o=Y(a,"value");return k(o>=i&&o<=s,`value out-of-bounds for ${t}`,"value",o),Ls(n?Yv(o,256):o,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return k(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const s=ce(r);return k(s.length===n,`invalid length for ${t}`,"value",r),jN(r)}}}switch(t){case"address":return function(e){return _r(ke(e),32)};case"bool":return function(e){return e?_N:zN};case"bytes":return function(e){return $e(e)};case"string":return function(e){return Ui(e)}}return null}function Wg(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function Yu(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var tu,Ar,to,od,db;const un=class un{constructor(e){P(this,od);T(this,"primaryType");P(this,tu);P(this,Ar);P(this,to);b(this,Ar,new Map),b(this,to,new Map);const n=new Map,r=new Map,s=new Map,i={};Object.keys(e).forEach(l=>{i[l]=e[l].map(({name:u,type:c})=>{let{base:d,index:p}=Yu(c);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:u,type:d+(p||"")}}),n.set(l,new Set),r.set(l,[]),s.set(l,new Set)}),b(this,tu,JSON.stringify(i));for(const l in i){const u=new Set;for(const c of i[l]){k(!u.has(c.name),`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(l)}`,"types",e),u.add(c.name);const d=Yu(c.type).base;k(d!==l,`circular type reference to ${JSON.stringify(d)}`,"types",e),!Ff(d)&&(k(r.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),r.get(d).push(l),n.get(l).add(d))}}const a=Array.from(r.keys()).filter(l=>r.get(l).length===0);k(a.length!==0,"missing primary type","types",e),k(a.length===1,`ambiguous primary types or unused types: ${a.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),te(this,{primaryType:a[0]});function o(l,u){k(!u.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),u.add(l);for(const c of n.get(l))if(r.has(c)){o(c,u);for(const d of u)s.get(d).add(c)}u.delete(l)}o(this.primaryType,new Set);for(const[l,u]of s){const c=Array.from(u);c.sort(),f(this,Ar).set(l,Wg(l,i[l])+c.map(d=>Wg(d,i[d])).join(""))}}get types(){return JSON.parse(f(this,tu))}getEncoder(e){let n=f(this,to).get(e);return n||(n=U(this,od,db).call(this,e),f(this,to).set(e,n)),n}encodeType(e){const n=f(this,Ar).get(e);return k(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return $e(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(Ff(e))return r(e,n);const s=Yu(e).array;if(s)return k(s.count===-1||s.count===n.length,`array length mismatch; expected length ${s.count}`,"value",n),n.map(a=>this._visit(s.prefix,a,r));const i=this.types[e];if(i)return i.reduce((a,{name:o,type:l})=>(a[o]=this._visit(l,n[o],r),a),{});k(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new un(e)}static getPrimaryType(e){return un.from(e).primaryType}static hashStruct(e,n,r){return un.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const s=Qg[r];k(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:s})}return n.sort((r,s)=>Bf.indexOf(r.name)-Bf.indexOf(s.name)),un.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Ge(["0x1901",un.hashDomain(e),un.from(n).hash(r)])}static hash(e,n,r){return $e(un.encode(e,n,r))}static async resolveNames(e,n,r,s){e=Object.assign({},e);for(const o in e)e[o]==null&&delete e[o];const i={};e.verifyingContract&&!Ie(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const a=un.from(n);a.visit(r,(o,l)=>(o==="address"&&!Ie(l,20)&&(i[l]="0x"),l));for(const o in i)i[o]=await s(o);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=a.visit(r,(o,l)=>o==="address"&&i[l]?i[l]:l),{domain:e,value:r}}static getPayload(e,n,r){un.hashDomain(e);const s={},i=[];Bf.forEach(l=>{const u=e[l];u!=null&&(s[l]=HN[l](u),i.push({name:l,type:Qg[l]}))});const a=un.from(n);n=a.types;const o=Object.assign({},n);return k(o.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),o.EIP712Domain=i,a.encode(r),{types:o,domain:s,primaryType:a.primaryType,message:a.visit(r,(l,u)=>{if(l.match(/^bytes(\d*)/))return Q(ce(u));if(l.match(/^u?int/))return Y(u).toString();switch(l){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return k(typeof u=="string","invalid string","value",u),u}k(!1,"unsupported type","type",l)})}}};tu=new WeakMap,Ar=new WeakMap,to=new WeakMap,od=new WeakSet,db=function(e){{const s=Ff(e);if(s)return s}const n=Yu(e).array;if(n){const s=n.prefix,i=this.getEncoder(s);return a=>{k(n.count===-1||n.count===a.length,`array length mismatch; expected length ${n.count}`,"value",a);let o=a.map(i);return f(this,Ar).has(s)&&(o=o.map($e)),$e(Ge(o))}}const r=this.types[e];if(r){const s=Ui(f(this,Ar).get(e));return i=>{const a=r.map(({name:o,type:l})=>{const u=this.getEncoder(l)(i[o]);return f(this,Ar).has(l)?$e(u):u});return a.unshift(s),Ge(a)}}k(!1,`unknown type: ${e}`,"type",e)};let nd=un;function It(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const GN="external public payable override",QN=It(GN.split(" ")),fb="constant external internal payable private public pure view override",VN=It(fb.split(" ")),pb="constructor error event fallback function receive struct",hb=It(pb.split(" ")),mb="calldata memory storage payable indexed",WN=It(mb.split(" ")),KN="tuple returns",JN=[pb,mb,KN,fb].join(" "),$N=It(JN.split(" ")),YN={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},ZN=new RegExp("^(\\s*)"),XN=new RegExp("^([0-9]+)"),qN=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),yb=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),gb=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var lt,Bn,nu,ah;const ld=class ld{constructor(e){P(this,nu);P(this,lt);P(this,Bn);b(this,lt,0),b(this,Bn,e.slice())}get offset(){return f(this,lt)}get length(){return f(this,Bn).length-f(this,lt)}clone(){return new ld(f(this,Bn))}reset(){b(this,lt,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=U(this,nu,ah).call(this,f(this,lt)+1,e.match+1);return b(this,lt,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;f(this,lt)<e.match-1;){const r=this.peek().linkNext;n.push(U(this,nu,ah).call(this,f(this,lt)+1,r)),b(this,lt,r)}return b(this,lt,e.match+1),n}peek(){if(f(this,lt)>=f(this,Bn).length)throw new Error("out-of-bounds");return f(this,Bn)[f(this,lt)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return Qo(this,lt)._++,e}toString(){const e=[];for(let n=f(this,lt);n<f(this,Bn).length;n++){const r=f(this,Bn)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};lt=new WeakMap,Bn=new WeakMap,nu=new WeakSet,ah=function(e=0,n=0){return new ld(f(this,Bn).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let Hn=ld;function Hs(t){const e=[],n=a=>{const o=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${o} at ${i}: ${a}`)};let r=[],s=[],i=0;for(;i<t.length;){let a=t.substring(i),o=a.match(ZN);o&&(i+=o[1].length,a=t.substring(i));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(l);let u=YN[a[0]]||"";if(u){if(l.type=u,l.text=a[0],i++,u==="OPEN_PAREN")r.push(e.length-1),s.push(e.length-1);else if(u=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),l.match=r.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=s.pop(),e[l.linkBack].linkNext=e.length-1;else if(u==="COMMA")l.linkBack=s.pop(),e[l.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(u==="OPEN_BRACKET")l.type="BRACKET";else if(u==="CLOSE_BRACKET"){let c=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;c=d+c,e[e.length-1].value=ae(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=c}continue}if(o=a.match(qN),o){if(l.text=o[1],i+=l.text.length,$N.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(gb)){l.type="TYPE";continue}l.type="ID";continue}if(o=a.match(XN),o){l.text=o[1],l.type="NUMBER",i+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${i}`)}return new Hn(e.map(a=>Object.freeze(a)))}function Kg(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function zd(t,e){if(e.peekKeyword(hb)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Hr(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function wb(t){let e=Hr(t,VN);return Kg(e,It("constant payable nonpayable".split(" "))),Kg(e,It("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Mr(t,e){return t.popParams().map(n=>pt.from(n,e))}function vb(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Y(t.pop().text);throw new Error("invalid gas")}return null}function Di(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const eS=new RegExp(/^(.*)\[([0-9]*)\]$/);function Jg(t){const e=t.match(gb);if(k(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);k(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);k(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const De={},Kt=Symbol.for("_ethers_internal"),$g="_ParamTypeInternal",Yg="_ErrorInternal",Zg="_EventInternal",Xg="_ConstructorInternal",qg="_FallbackInternal",e0="_FunctionInternal",t0="_StructInternal";var no,hc;const cn=class cn{constructor(e,n,r,s,i,a,o,l){P(this,no);T(this,"name");T(this,"type");T(this,"baseType");T(this,"indexed");T(this,"components");T(this,"arrayLength");T(this,"arrayChildren");if(yu(e,De,"ParamType"),Object.defineProperty(this,Kt,{value:$g}),a&&(a=Object.freeze(a.slice())),s==="array"){if(o==null||l==null)throw new Error("")}else if(o!=null||l!=null)throw new Error("");if(s==="tuple"){if(a==null)throw new Error("")}else if(a!=null)throw new Error("");te(this,{name:n,type:r,baseType:s,indexed:i,components:a,arrayLength:o,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=r,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(s=>r.arrayChildren.walk(s,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((s,i)=>r.components[i].walk(s,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],s=[e];return U(this,no,hc).call(this,r,e,n,i=>{s[0]=i}),r.length&&await Promise.all(r),s[0]}static from(e,n){if(cn.isParamType(e))return e;if(typeof e=="string")try{return cn.from(Hs(e),n)}catch{k(!1,"invalid param type","obj",e)}else if(e instanceof Hn){let o="",l="",u=null;Hr(e,It(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",u=e.popParams().map(v=>cn.from(v)),o=`tuple(${u.map(v=>v.format()).join(",")})`):(o=Jg(e.popType("TYPE")),l=o);let c=null,d=null;for(;e.length&&e.peekType("BRACKET");){const v=e.pop();c=new cn(De,"",o,l,null,u,d,c),d=v.value,o+=v.text,l="array",u=null}let p=null;if(Hr(e,WN).has("indexed")){if(!n)throw new Error("");p=!0}const x=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new cn(De,x,o,l,p,u,d,c)}const r=e.name;k(!r||typeof r=="string"&&r.match(yb),"invalid name","obj.name",r);let s=e.indexed;s!=null&&(k(n,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,a=i.match(eS);if(a){const o=parseInt(a[2]||"-1"),l=cn.from({type:a[1],components:e.components});return new cn(De,r||"",i,"array",s,null,o,l)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const o=e.components!=null?e.components.map(u=>cn.from(u)):null;return new cn(De,r||"",i,"tuple",s,o,null,null)}return i=Jg(e.type),new cn(De,r||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[Kt]===$g}};no=new WeakSet,hc=function(e,n,r,s){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,o=n.slice();o.forEach((l,u)=>{var c;U(c=a,no,hc).call(c,e,l,r,d=>{o[u]=d})}),s(o);return}if(this.isTuple()){const a=this.components;let o;if(Array.isArray(n))o=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");o=a.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in n))throw new Error(`missing value for component ${l.name}`);return n[l.name]})}if(o.length!==this.components.length)throw new Error("array is wrong length");o.forEach((l,u)=>{var c;U(c=a[u],no,hc).call(c,e,l,r,d=>{o[u]=d})}),s(o);return}const i=r(this.type,n);i.then?e.push(async function(){s(await i)}()):s(i)};let pt=cn;class ji{constructor(e,n,r){T(this,"type");T(this,"inputs");yu(e,De,"Fragment"),r=Object.freeze(r.slice()),te(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{ji.from(JSON.parse(e))}catch{}return ji.from(Hs(e))}if(e instanceof Hn)switch(e.peekKeyword(hb)){case"constructor":return Or.from(e);case"error":return zt.from(e);case"event":return sr.from(e);case"fallback":case"receive":return gr.from(e);case"function":return ir.from(e);case"struct":return Ri.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Or.from(e);case"error":return zt.from(e);case"event":return sr.from(e);case"fallback":case"receive":return gr.from(e);case"function":return ir.from(e);case"struct":return Ri.from(e)}M(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}k(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Or.isFragment(e)}static isError(e){return zt.isFragment(e)}static isEvent(e){return sr.isFragment(e)}static isFunction(e){return ir.isFragment(e)}static isStruct(e){return Ri.isFragment(e)}}class Hd extends ji{constructor(n,r,s,i){super(n,r,i);T(this,"name");k(typeof s=="string"&&s.match(yb),"invalid identifier","name",s),i=Object.freeze(i.slice()),te(this,{name:s})}}function Jl(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class zt extends Hd{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,Kt,{value:Yg})}get selector(){return Ui(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+Jl(e,this.inputs)),n.join(" ")}static from(e){if(zt.isFragment(e))return e;if(typeof e=="string")return zt.from(Hs(e));if(e instanceof Hn){const n=zd("error",e),r=Mr(e);return Di(e),new zt(De,n,r)}return new zt(De,e.name,e.inputs?e.inputs.map(pt.from):[])}static isFragment(e){return e&&e[Kt]===Yg}}class sr extends Hd{constructor(n,r,s,i){super(n,"event",r,s);T(this,"anonymous");Object.defineProperty(this,Kt,{value:Zg}),te(this,{anonymous:i})}get topicHash(){return Ui(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+Jl(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(i=>pt.from(i)),new sr(De,n,r,!1).topicHash}static from(n){if(sr.isFragment(n))return n;if(typeof n=="string")try{return sr.from(Hs(n))}catch{k(!1,"invalid event fragment","obj",n)}else if(n instanceof Hn){const r=zd("event",n),s=Mr(n,!0),i=!!Hr(n,It(["anonymous"])).has("anonymous");return Di(n),new sr(De,r,s,i)}return new sr(De,n.name,n.inputs?n.inputs.map(r=>pt.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[Kt]===Zg}}class Or extends ji{constructor(n,r,s,i,a){super(n,r,s);T(this,"payable");T(this,"gas");Object.defineProperty(this,Kt,{value:Xg}),te(this,{payable:i,gas:a})}format(n){if(M(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(n)))});const r=[`constructor${Jl(n,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(Or.isFragment(n))return n;if(typeof n=="string")try{return Or.from(Hs(n))}catch{k(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof Hn){Hr(n,It(["constructor"]));const r=Mr(n),s=!!Hr(n,QN).has("payable"),i=vb(n);return Di(n),new Or(De,"constructor",r,s,i)}return new Or(De,"constructor",n.inputs?n.inputs.map(pt.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Kt]===Xg}}class gr extends ji{constructor(n,r,s){super(n,"fallback",r);T(this,"payable");Object.defineProperty(this,Kt,{value:qg}),te(this,{payable:s})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:s})}return`${r}()${this.payable?" payable":""}`}static from(n){if(gr.isFragment(n))return n;if(typeof n=="string")try{return gr.from(Hs(n))}catch{k(!1,"invalid fallback fragment","obj",n)}else if(n instanceof Hn){const r=n.toString(),s=n.peekKeyword(It(["fallback","receive"]));if(k(s,"type must be fallback or receive","obj",r),n.popKeyword(It(["fallback","receive"]))==="receive"){const l=Mr(n);return k(l.length===0,"receive cannot have arguments","obj.inputs",l),Hr(n,It(["payable"])),Di(n),new gr(De,[],!0)}let a=Mr(n);a.length?k(a.length===1&&a[0].type==="bytes","invalid fallback inputs","obj.inputs",a.map(l=>l.format("minimal")).join(", ")):a=[pt.from("bytes")];const o=wb(n);if(k(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),Hr(n,It(["returns"])).has("returns")){const l=Mr(n);k(l.length===1&&l[0].type==="bytes","invalid fallback outputs","obj.outputs",l.map(u=>u.format("minimal")).join(", "))}return Di(n),new gr(De,a,o==="payable")}if(n.type==="receive")return new gr(De,[],!0);if(n.type==="fallback"){const r=[pt.from("bytes")],s=n.stateMutability==="payable";return new gr(De,r,s)}k(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[Kt]===qg}}class ir extends Hd{constructor(n,r,s,i,a,o){super(n,"function",r,i);T(this,"constant");T(this,"outputs");T(this,"stateMutability");T(this,"payable");T(this,"gas");Object.defineProperty(this,Kt,{value:e0}),a=Object.freeze(a.slice()),te(this,{constant:s==="view"||s==="pure",gas:o,outputs:a,payable:s==="payable",stateMutability:s})}get selector(){return Ui(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(n))),outputs:this.outputs.map(s=>JSON.parse(s.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+Jl(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(Jl(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(i=>pt.from(i)),new ir(De,n,"view",r,[],null).selector}static from(n){if(ir.isFragment(n))return n;if(typeof n=="string")try{return ir.from(Hs(n))}catch{k(!1,"invalid function fragment","obj",n)}else if(n instanceof Hn){const s=zd("function",n),i=Mr(n),a=wb(n);let o=[];Hr(n,It(["returns"])).has("returns")&&(o=Mr(n));const l=vb(n);return Di(n),new ir(De,s,a,i,o,l)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new ir(De,n.name,r,n.inputs?n.inputs.map(pt.from):[],n.outputs?n.outputs.map(pt.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Kt]===e0}}class Ri extends Hd{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,Kt,{value:t0})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Ri.from(Hs(e))}catch{k(!1,"invalid struct fragment","obj",e)}else if(e instanceof Hn){const n=zd("struct",e),r=Mr(e);return Di(e),new Ri(De,n,r)}return new Ri(De,e.name,e.inputs?e.inputs.map(pt.from):[])}static isFragment(e){return e&&e[Kt]===t0}}const Gn=new Map;Gn.set(0,"GENERIC_PANIC");Gn.set(1,"ASSERT_FALSE");Gn.set(17,"OVERFLOW");Gn.set(18,"DIVIDE_BY_ZERO");Gn.set(33,"ENUM_RANGE_ERROR");Gn.set(34,"BAD_STORAGE_DATA");Gn.set(49,"STACK_UNDERFLOW");Gn.set(50,"ARRAY_RANGE_ERROR");Gn.set(65,"OUT_OF_MEMORY");Gn.set(81,"UNINITIALIZED_FUNCTION_CALL");const tS=new RegExp(/^bytes([0-9]*)$/),nS=new RegExp(/^(u?int)([0-9]*)$/);let Mf=null,n0=1024;function rS(t,e,n,r){let s="missing revert data",i=null;const a=null;let o=null;if(n){s="execution reverted";const u=ce(n);if(n=Q(n),u.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(u.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(Q(u.slice(0,4))==="0x08c379a0")try{i=r.decode(["string"],u.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(Q(u.slice(0,4))==="0x4e487b71")try{const c=Number(r.decode(["uint256"],u.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[c]},i=`Panic due to ${Gn.get(c)||"UNKNOWN"}(${c})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const l={to:e.to?ke(e.to):null,data:e.data||"0x"};return e.from&&(l.from=ke(e.from)),Me(s,"CALL_EXCEPTION",{action:t,data:n,reason:i,transaction:l,invocation:a,revert:o})}var us,ea;const ud=class ud{constructor(){P(this,us)}getDefaultValue(e){const n=e.map(s=>U(this,us,ea).call(this,pt.from(s)));return new $u(n,"_").defaultValue()}encode(e,n){Kv(n.length,e.length,"types/values length mismatch");const r=e.map(a=>U(this,us,ea).call(this,pt.from(a))),s=new $u(r,"_"),i=new Wp;return s.encode(i,n),i.data}decode(e,n,r){const s=e.map(a=>U(this,us,ea).call(this,pt.from(a)));return new $u(s,"_").decode(new Kp(n,r,n0))}static _setDefaultMaxInflation(e){k(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),n0=e}static defaultAbiCoder(){return Mf==null&&(Mf=new ud),Mf}static getBuiltinCallException(e,n,r){return rS(e,n,r,ud.defaultAbiCoder())}};us=new WeakSet,ea=function(e){if(e.isArray())return new bT(U(this,us,ea).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new $u(e.components.map(r=>U(this,us,ea).call(this,r)),e.name);switch(e.baseType){case"address":return new vT(e.name);case"bool":return new AT(e.name);case"string":return new RT(e.name);case"bytes":return new kT(e.name);case"":return new NT(e.name)}let n=e.type.match(nS);if(n){let r=parseInt(n[2]||"256");return k(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new IT(r/8,n[1]==="int",e.name)}if(n=e.type.match(tS),n){let r=parseInt(n[1]);return k(r!==0&&r<=32,"invalid bytes length","param",e),new ET(r,e.name)}k(!1,"invalid type","type",e.type)};let $l=ud;class sS{constructor(e,n,r){T(this,"fragment");T(this,"name");T(this,"signature");T(this,"topic");T(this,"args");const s=e.name,i=e.format();te(this,{fragment:e,name:s,signature:i,topic:n,args:r})}}class iS{constructor(e,n,r,s){T(this,"fragment");T(this,"name");T(this,"args");T(this,"signature");T(this,"selector");T(this,"value");const i=e.name,a=e.format();te(this,{fragment:e,name:i,args:r,signature:a,selector:n,value:s})}}class aS{constructor(e,n,r){T(this,"fragment");T(this,"name");T(this,"args");T(this,"signature");T(this,"selector");const s=e.name,i=e.format();te(this,{fragment:e,name:s,args:r,signature:i,selector:n})}}class r0{constructor(e){T(this,"hash");T(this,"_isIndexed");te(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const s0={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},i0={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&s0[t.toString()]&&(e=s0[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var Zn,Xn,qn,gt,ur,mc,yc;const qs=class qs{constructor(e){P(this,ur);T(this,"fragments");T(this,"deploy");T(this,"fallback");T(this,"receive");P(this,Zn);P(this,Xn);P(this,qn);P(this,gt);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,b(this,qn,new Map),b(this,Zn,new Map),b(this,Xn,new Map);const r=[];for(const a of n)try{r.push(ji.from(a))}catch(o){console.log(`[Warning] Invalid Fragment ${JSON.stringify(a)}:`,o.message)}te(this,{fragments:Object.freeze(r)});let s=null,i=!1;b(this,gt,this.getAbiCoder()),this.fragments.forEach((a,o)=>{let l;switch(a.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}te(this,{deploy:a});return;case"fallback":a.inputs.length===0?i=!0:(k(!s||a.payable!==s.payable,"conflicting fallback fragments",`fragments[${o}]`,a),s=a,i=s.payable);return;case"function":l=f(this,qn);break;case"event":l=f(this,Xn);break;case"error":l=f(this,Zn);break;default:return}const u=a.format();l.has(u)||l.set(u,a)}),this.deploy||te(this,{deploy:Or.from("constructor()")}),te(this,{fallback:s,receive:i})}format(e){const n=e?"minimal":"full";return this.fragments.map(s=>s.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return $l.defaultAbiCoder()}getFunctionName(e){const n=U(this,ur,mc).call(this,e,null,!1);return k(n,"no matching function","key",e),n.name}hasFunction(e){return!!U(this,ur,mc).call(this,e,null,!1)}getFunction(e,n){return U(this,ur,mc).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(f(this,qn).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(f(this,qn).get(s),r)}}getEventName(e){const n=U(this,ur,yc).call(this,e,null,!1);return k(n,"no matching event","key",e),n.name}hasEvent(e){return!!U(this,ur,yc).call(this,e,null,!1)}getEvent(e,n){return U(this,ur,yc).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(f(this,Xn).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(f(this,Xn).get(s),r)}}getError(e,n){if(Ie(e)){const s=e.toLowerCase();if(i0[s])return zt.from(i0[s].signature);for(const i of f(this,Zn).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,a]of f(this,Zn))i.split("(")[0]===e&&s.push(a);if(s.length===0)return e==="Error"?zt.from("error Error(string)"):e==="Panic"?zt.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(a=>JSON.stringify(a.format())).join(", ");k(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=zt.from(e).format(),e==="Error(string)")return zt.from("error Error(string)");if(e==="Panic(uint256)")return zt.from("error Panic(uint256)");const r=f(this,Zn).get(e);return r||null}forEachError(e){const n=Array.from(f(this,Zn).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(f(this,Zn).get(s),r)}}_decodeParams(e,n){return f(this,gt).decode(e,n)}_encodeParams(e,n){return f(this,gt).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);k(r,"unknown error","fragment",e),e=r}return k(ze(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,ze(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);k(r,"unknown error","fragment",e),e=r}return Ge([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);k(r,"unknown function","fragment",e),e=r}return k(ze(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,ze(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);k(r,"unknown function","fragment",e),e=r}return Ge([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const i=this.getFunction(e);k(i,"unknown function","fragment",e),e=i}let r="invalid length for result data";const s=St(n);if(s.length%32===0)try{return f(this,gt).decode(e.outputs,s)}catch{r="could not decode result data"}M(!1,r,"BAD_DATA",{value:Q(s),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=ce(e,"data"),s=$l.getBuiltinCallException("call",n,r);if(s.message.startsWith("execution reverted (unknown custom error)")){const o=Q(r.slice(0,4)),l=this.getError(o);if(l)try{const u=f(this,gt).decode(l.inputs,r.slice(4));s.revert={name:l.name,signature:l.format(),args:u},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(n);return a&&(s.invocation={method:a.name,signature:a.signature,args:a.args}),s}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);k(r,"unknown function","fragment",e),e=r}return Q(f(this,gt).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const i=this.getEvent(e);k(i,"unknown event","eventFragment",e),e=i}M(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const s=(i,a)=>i.type==="string"?Ui(a):i.type==="bytes"?$e(Q(a)):(i.type==="bool"&&typeof a=="boolean"?a=a?"0x01":"0x00":i.type.match(/^u?int/)?a=Ls(a):i.type.match(/^bytes/)?a=Ak(a,32):i.type==="address"&&f(this,gt).encode(["address"],[a]),_r(Q(a),32));for(n.forEach((i,a)=>{const o=e.inputs[a];if(!o.indexed){k(i==null,"cannot filter non-indexed parameters; must be null","contract."+o.name,i);return}i==null?r.push(null):o.baseType==="array"||o.baseType==="tuple"?k(!1,"filtering with tuples or arrays not supported","contract."+o.name,i):Array.isArray(i)?r.push(i.map(l=>s(o,l))):r.push(s(o,i))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const a=this.getEvent(e);k(a,"unknown event","eventFragment",e),e=a}const r=[],s=[],i=[];return e.anonymous||r.push(e.topicHash),k(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((a,o)=>{const l=n[o];if(a.indexed)if(a.type==="string")r.push(Ui(l));else if(a.type==="bytes")r.push($e(l));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");r.push(f(this,gt).encode([a.type],[l]))}else s.push(a),i.push(l)}),{data:f(this,gt).encode(s,i),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const y=this.getEvent(e);k(y,"unknown event","eventFragment",e),e=y}if(r!=null&&!e.anonymous){const y=e.topicHash;k(Ie(r[0],32)&&r[0].toLowerCase()===y,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],i=[],a=[];e.inputs.forEach((y,x)=>{y.indexed?y.type==="string"||y.type==="bytes"||y.baseType==="tuple"||y.baseType==="array"?(s.push(pt.from({type:"bytes32",name:y.name})),a.push(!0)):(s.push(y),a.push(!1)):(i.push(y),a.push(!1))});const o=r!=null?f(this,gt).decode(s,Ge(r)):null,l=f(this,gt).decode(i,n,!0),u=[],c=[];let d=0,p=0;return e.inputs.forEach((y,x)=>{let v=null;if(y.indexed)if(o==null)v=new r0(null);else if(a[x])v=new r0(o[p++]);else try{v=o[p++]}catch(A){v=A}else try{v=l[d++]}catch(A){v=A}u.push(v),c.push(y.name||null)}),Po.fromItems(u,c)}parseTransaction(e){const n=ce(e.data,"tx.data"),r=Y(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(Q(n.slice(0,4)));if(!s)return null;const i=f(this,gt).decode(s.inputs,n.slice(4));return new iS(s,s.selector,i,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new sS(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=Q(e),r=this.getError(ze(n,0,4));if(!r)return null;const s=f(this,gt).decode(r.inputs,ze(n,4));return new aS(r,r.selector,s)}static from(e){return e instanceof qs?e:typeof e=="string"?new qs(JSON.parse(e)):typeof e.formatJson=="function"?new qs(e.formatJson()):typeof e.format=="function"?new qs(e.format("json")):new qs(e)}};Zn=new WeakMap,Xn=new WeakMap,qn=new WeakMap,gt=new WeakMap,ur=new WeakSet,mc=function(e,n,r){if(Ie(e)){const i=e.toLowerCase();for(const a of f(this,qn).values())if(i===a.selector)return a;return null}if(e.indexOf("(")===-1){const i=[];for(const[a,o]of f(this,qn))a.split("(")[0]===e&&i.push(o);if(n){const a=n.length>0?n[n.length-1]:null;let o=n.length,l=!0;bt.isTyped(a)&&a.type==="overrides"&&(l=!1,o--);for(let u=i.length-1;u>=0;u--){const c=i[u].inputs.length;c!==o&&(!l||c!==o-1)&&i.splice(u,1)}for(let u=i.length-1;u>=0;u--){const c=i[u].inputs;for(let d=0;d<n.length;d++)if(bt.isTyped(n[d])){if(d>=c.length){if(n[d].type==="overrides")continue;i.splice(u,1);break}if(n[d].type!==c[d].baseType){i.splice(u,1);break}}}}if(i.length===1&&n&&n.length!==i[0].inputs.length){const a=n[n.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&r){const a=i.map(o=>JSON.stringify(o.format())).join(", ");k(!1,`ambiguous function description (i.e. matches ${a})`,"key",e)}return i[0]}const s=f(this,qn).get(ir.from(e).format());return s||null},yc=function(e,n,r){if(Ie(e)){const i=e.toLowerCase();for(const a of f(this,Xn).values())if(i===a.topicHash)return a;return null}if(e.indexOf("(")===-1){const i=[];for(const[a,o]of f(this,Xn))a.split("(")[0]===e&&i.push(o);if(n){for(let a=i.length-1;a>=0;a--)i[a].inputs.length<n.length&&i.splice(a,1);for(let a=i.length-1;a>=0;a--){const o=i[a].inputs;for(let l=0;l<n.length;l++)if(bt.isTyped(n[l])&&n[l].type!==o[l].baseType){i.splice(a,1);break}}}if(i.length===0)return null;if(i.length>1&&r){const a=i.map(o=>JSON.stringify(o.format())).join(", ");k(!1,`ambiguous event description (i.e. matches ${a})`,"key",e)}return i[0]}const s=f(this,Xn).get(sr.from(e).format());return s||null};let oh=qs;const xb=BigInt(0);function Ra(t){return t??null}function Qe(t){return t==null?null:t.toString()}class a0{constructor(e,n,r){T(this,"gasPrice");T(this,"maxFeePerGas");T(this,"maxPriorityFeePerGas");te(this,{gasPrice:Ra(e),maxFeePerGas:Ra(n),maxPriorityFeePerGas:Ra(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Qe(e),maxFeePerGas:Qe(n),maxPriorityFeePerGas:Qe(r)}}}function rd(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=Q(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of n)!(s in t)||t[s]==null||(e[s]=Y(t[s],`request.${s}`));const r="type,nonce".split(/,/);for(const s of r)!(s in t)||t[s]==null||(e[s]=ae(t[s],`request.${s}`));return t.accessList&&(e.accessList=Wi(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(s=>vm(s)?Q(s):Object.assign({},s))),e}var kr;class oS{constructor(e,n){T(this,"provider");T(this,"number");T(this,"hash");T(this,"timestamp");T(this,"parentHash");T(this,"parentBeaconBlockRoot");T(this,"nonce");T(this,"difficulty");T(this,"gasLimit");T(this,"gasUsed");T(this,"stateRoot");T(this,"receiptsRoot");T(this,"blobGasUsed");T(this,"excessBlobGas");T(this,"miner");T(this,"prevRandao");T(this,"extraData");T(this,"baseFeePerGas");P(this,kr);b(this,kr,e.transactions.map(r=>typeof r!="string"?new Yl(r,n):r)),te(this,{provider:n,hash:Ra(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Ra(e.prevRandao),extraData:e.extraData,baseFeePerGas:Ra(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return f(this,kr).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=f(this,kr).slice();return e.length===0?[]:(M(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:s,gasUsed:i,hash:a,miner:o,prevRandao:l,nonce:u,number:c,parentHash:d,parentBeaconBlockRoot:p,stateRoot:y,receiptsRoot:x,timestamp:v,transactions:A}=this;return{_type:"Block",baseFeePerGas:Qe(e),difficulty:Qe(n),extraData:r,gasLimit:Qe(s),gasUsed:Qe(i),blobGasUsed:Qe(this.blobGasUsed),excessBlobGas:Qe(this.excessBlobGas),hash:a,miner:o,prevRandao:l,nonce:u,number:c,parentHash:d,timestamp:v,parentBeaconBlockRoot:p,stateRoot:y,receiptsRoot:x,transactions:A}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return f(this,kr).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=f(this,kr)[e];else{const r=e.toLowerCase();for(const s of f(this,kr))if(typeof s=="string"){if(s!==r)continue;n=s;break}else{if(s.hash!==r)continue;n=s;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;k(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return lS(this)}}kr=new WeakMap;class vu{constructor(e,n){T(this,"provider");T(this,"transactionHash");T(this,"blockHash");T(this,"blockNumber");T(this,"removed");T(this,"address");T(this,"data");T(this,"topics");T(this,"index");T(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());te(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:s,index:i,removed:a,topics:o,transactionHash:l,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:s,index:i,removed:a,topics:o,transactionHash:l,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return M(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return M(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return M(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return uS(this)}}var ru;class bb{constructor(e,n){T(this,"provider");T(this,"to");T(this,"from");T(this,"contractAddress");T(this,"hash");T(this,"index");T(this,"blockHash");T(this,"blockNumber");T(this,"logsBloom");T(this,"gasUsed");T(this,"blobGasUsed");T(this,"cumulativeGasUsed");T(this,"gasPrice");T(this,"blobGasPrice");T(this,"type");T(this,"status");T(this,"root");P(this,ru);b(this,ru,Object.freeze(e.logs.map(s=>new vu(s,n))));let r=xb;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),te(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return f(this,ru)}toJSON(){const{to:e,from:n,contractAddress:r,hash:s,index:i,blockHash:a,blockNumber:o,logsBloom:l,logs:u,status:c,root:d}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:o,contractAddress:r,cumulativeGasUsed:Qe(this.cumulativeGasUsed),from:n,gasPrice:Qe(this.gasPrice),blobGasUsed:Qe(this.blobGasUsed),blobGasPrice:Qe(this.blobGasPrice),gasUsed:Qe(this.gasUsed),hash:s,index:i,logs:u,logsBloom:l,root:d,status:c,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return kb(this)}reorderedEvent(e){return M(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Ab(this,e)}}ru=new WeakMap;var cs;const jm=class jm{constructor(e,n){T(this,"provider");T(this,"blockNumber");T(this,"blockHash");T(this,"index");T(this,"hash");T(this,"type");T(this,"to");T(this,"from");T(this,"nonce");T(this,"gasLimit");T(this,"gasPrice");T(this,"maxPriorityFeePerGas");T(this,"maxFeePerGas");T(this,"maxFeePerBlobGas");T(this,"data");T(this,"value");T(this,"chainId");T(this,"signature");T(this,"accessList");T(this,"blobVersionedHashes");T(this,"authorizationList");P(this,cs);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,b(this,cs,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:s,type:i,to:a,from:o,nonce:l,data:u,signature:c,accessList:d,blobVersionedHashes:p}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:n,blobVersionedHashes:p,chainId:Qe(this.chainId),data:u,from:o,gasLimit:Qe(this.gasLimit),gasPrice:Qe(this.gasPrice),hash:s,maxFeePerGas:Qe(this.maxFeePerGas),maxPriorityFeePerGas:Qe(this.maxPriorityFeePerGas),maxFeePerBlobGas:Qe(this.maxFeePerBlobGas),nonce:l,signature:c,to:a,index:r,type:i,value:Qe(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await Nt({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,s=n??0;let i=f(this,cs),a=-1,o=i===-1;const l=async()=>{if(o)return null;const{blockNumber:p,nonce:y}=await Nt({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(y<this.nonce){i=p;return}if(o)return null;const x=await this.getTransaction();if(!(x&&x.blockNumber!=null))for(a===-1&&(a=i-3,a<f(this,cs)&&(a=f(this,cs)));a<=p;){if(o)return null;const v=await this.provider.getBlock(a,!0);if(v==null)return;for(const A of v)if(A===this.hash)return;for(let A=0;A<v.length;A++){const m=await v.getTransaction(A);if(m.from===this.from&&m.nonce===this.nonce){if(o)return null;const g=await this.provider.getTransactionReceipt(m.hash);if(g==null||p-g.blockNumber+1<r)return;let w="replaced";m.data===this.data&&m.to===this.to&&m.value===this.value?w="repriced":m.data==="0x"&&m.from===m.to&&m.value===xb&&(w="cancelled"),M(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:w==="replaced"||w==="cancelled",reason:w,replacement:m.replaceableTransaction(i),hash:m.hash,receipt:g})}}a++}},u=p=>{if(p==null||p.status!==0)return p;M(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:p.to,from:p.from,data:""},receipt:p})},c=await this.provider.getTransactionReceipt(this.hash);if(r===0)return u(c);if(c){if(r===1||await c.confirmations()>=r)return u(c)}else if(await l(),r===0)return null;return await new Promise((p,y)=>{const x=[],v=()=>{x.forEach(m=>m())};if(x.push(()=>{o=!0}),s>0){const m=setTimeout(()=>{v(),y(Me("wait for transaction timeout","TIMEOUT"))},s);x.push(()=>{clearTimeout(m)})}const A=async m=>{if(await m.confirmations()>=r){v();try{p(u(m))}catch(g){y(g)}}};if(x.push(()=>{this.provider.off(this.hash,A)}),this.provider.on(this.hash,A),i>=0){const m=async()=>{try{await l()}catch(g){if(dt(g,"TRANSACTION_REPLACED")){v(),y(g);return}}o||this.provider.once("block",m)};x.push(()=>{this.provider.off("block",m)}),this.provider.once("block",m)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return M(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),kb(this)}reorderedEvent(e){return M(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),M(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ab(this,e)}replaceableTransaction(e){k(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new jm(this,this.provider);return b(n,cs,e),n}};cs=new WeakMap;let Yl=jm;function lS(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function Ab(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function kb(t){return{orphan:"drop-transaction",tx:t}}function uS(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class Om extends vu{constructor(n,r,s){super(n,n.provider);T(this,"interface");T(this,"fragment");T(this,"args");const i=r.decodeEventLog(s,n.data,n.topics);te(this,{args:i,fragment:s,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Eb extends vu{constructor(n,r){super(n,n.provider);T(this,"error");te(this,{error:r})}}var ro;class cS extends bb{constructor(n,r,s){super(s,r);P(this,ro);b(this,ro,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?f(this,ro).getEvent(n.topics[0]):null;if(r)try{return new Om(n,f(this,ro),r)}catch(s){return new Eb(n,s)}return n})}}ro=new WeakMap;var su;class Bm extends Yl{constructor(n,r,s){super(s,r);P(this,su);b(this,su,n)}async wait(n,r){const s=await super.wait(n,r);return s==null?null:new cS(f(this,su),this.provider,s)}}su=new WeakMap;class Tb extends Zv{constructor(n,r,s,i){super(n,r,s);T(this,"log");te(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class dS extends Tb{constructor(e,n,r,s,i){super(e,n,r,new Om(i,e.interface,s));const a=e.interface.decodeEventLog(s,this.log.data,this.log.topics);te(this,{args:a,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const o0=BigInt(0);function Nb(t){return t&&typeof t.call=="function"}function Sb(t){return t&&typeof t.estimateGas=="function"}function Gd(t){return t&&typeof t.resolveName=="function"}function Pb(t){return t&&typeof t.sendTransaction=="function"}function Cb(t){if(t!=null){if(Gd(t))return t;if(t.provider)return t.provider}}var iu;class fS{constructor(e,n,r){P(this,iu);T(this,"fragment");if(te(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const s=_i(e.runner,"resolveName"),i=Gd(s)?s:null;b(this,iu,async function(){const a=await Promise.all(n.inputs.map((o,l)=>r[l]==null?null:o.walkAsync(r[l],(c,d)=>c==="address"?Array.isArray(d)?Promise.all(d.map(p=>Ct(p,i))):Ct(d,i):d)));return e.interface.encodeFilterTopics(n,a)}())}getTopicFilter(){return f(this,iu)}}iu=new WeakMap;function _i(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function oi(t){return t==null?null:t.provider||null}async function Ib(t,e){const n=bt.dereference(t,"overrides");k(typeof n=="object","invalid overrides parameter","overrides",t);const r=rd(n);return k(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),k(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function pS(t,e,n){const r=_i(t,"resolveName"),s=Gd(r)?r:null;return await Promise.all(e.map((i,a)=>i.walkAsync(n[a],(o,l)=>(l=bt.dereference(l,o),o==="address"?Ct(l,s):l))))}function hS(t){const e=async function(a){const o=await Ib(a,["data"]);o.to=await t.getAddress(),o.from&&(o.from=await Ct(o.from,Cb(t.runner)));const l=t.interface,u=Y(o.value||o0,"overrides.value")===o0,c=(o.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!c&&!u&&k(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),k(l.fallback||c,"cannot send data to receive-only contract","overrides.data",o.data);const d=l.receive||l.fallback&&l.fallback.payable;return k(d||u,"cannot send value to non-payable fallback","overrides.value",o.value),k(l.fallback||c,"cannot send data to receive-only contract","overrides.data",o.data),o},n=async function(a){const o=_i(t.runner,"call");M(Nb(o),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(a);try{return await o.call(l)}catch(u){throw wm(u)&&u.data?t.interface.makeError(u.data,l):u}},r=async function(a){const o=t.runner;M(Pb(o),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await o.sendTransaction(await e(a)),u=oi(t.runner);return new Bm(t.interface,u,l)},s=async function(a){const o=_i(t.runner,"estimateGas");return M(Sb(o),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await o.estimateGas(await e(a))},i=async a=>await r(a);return te(i,{_contract:t,estimateGas:s,populateTransaction:e,send:r,staticCall:n}),i}function mS(t,e){const n=function(...u){const c=t.interface.getFunction(e,u);return M(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),c},r=async function(...u){const c=n(...u);let d={};if(c.inputs.length+1===u.length&&(d=await Ib(u.pop()),d.from&&(d.from=await Ct(d.from,Cb(t.runner)))),c.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const p=await pS(t.runner,c.inputs,u);return Object.assign({},d,await Nt({to:t.getAddress(),data:t.interface.encodeFunctionData(c,p)}))},s=async function(...u){const c=await o(...u);return c.length===1?c[0]:c},i=async function(...u){const c=t.runner;M(Pb(c),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await c.sendTransaction(await r(...u)),p=oi(t.runner);return new Bm(t.interface,p,d)},a=async function(...u){const c=_i(t.runner,"estimateGas");return M(Sb(c),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await c.estimateGas(await r(...u))},o=async function(...u){const c=_i(t.runner,"call");M(Nb(c),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await r(...u);let p="0x";try{p=await c.call(d)}catch(x){throw wm(x)&&x.data?t.interface.makeError(x.data,d):x}const y=n(...u);return t.interface.decodeFunctionResult(y,p)},l=async(...u)=>n(...u).constant?await s(...u):await i(...u);return te(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:a,populateTransaction:r,send:i,staticCall:s,staticCallResult:o}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=t.interface.getFunction(e);return M(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),l}function yS(t,e){const n=function(...s){const i=t.interface.getEvent(e,s);return M(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},r=function(...s){return new fS(t,n(...s),s)};return te(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=t.interface.getEvent(e);return M(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),r}const sd=Symbol.for("_ethersInternal_contract"),Rb=new WeakMap;function gS(t,e){Rb.set(t[sd],e)}function Yt(t){return Rb.get(t[sd])}function wS(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function Fm(t,e){let n,r=null;if(Array.isArray(e)){const i=function(a){if(Ie(a,32))return a;const o=t.interface.getEvent(a);return k(o,"unknown fragment","name",a),o.topicHash};n=e.map(a=>a==null?null:Array.isArray(a)?a.map(i):i(a))}else e==="*"?n=[null]:typeof e=="string"?Ie(e,32)?n=[e]:(r=t.interface.getEvent(e),k(r,"unknown fragment","event",e),n=[r.topicHash]):wS(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):k(!1,"unknown event name","event",e);n=n.map(i=>{if(i==null)return null;if(Array.isArray(i)){const a=Array.from(new Set(i.map(o=>o.toLowerCase())).values());return a.length===1?a[0]:(a.sort(),a)}return i.toLowerCase()});const s=n.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:r,tag:s,topics:n}}async function ll(t,e){const{subs:n}=Yt(t);return n.get((await Fm(t,e)).tag)||null}async function l0(t,e,n){const r=oi(t.runner);M(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:a}=await Fm(t,n),{addr:o,subs:l}=Yt(t);let u=l.get(i);if(!u){const d={address:o||t,topics:a},p=A=>{let m=s;if(m==null)try{m=t.interface.getEvent(A.topics[0])}catch{}if(m){const g=m,w=s?t.interface.decodeEventLog(s,A.data,A.topics):[];uh(t,n,w,E=>new dS(t,E,n,g,A))}else uh(t,n,[],g=>new Tb(t,g,n,A))};let y=[];u={tag:i,listeners:[],start:()=>{y.length||y.push(r.on(d,p))},stop:async()=>{if(y.length==0)return;let A=y;y=[],await Promise.all(A),r.off(d,p)}},l.set(i,u)}return u}let lh=Promise.resolve();async function vS(t,e,n,r){await lh;const s=await ll(t,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:a,once:o})=>{const l=Array.from(n);r&&l.push(r(o?null:a));try{a.call(t,...l)}catch{}return!o}),s.listeners.length===0&&(s.stop(),Yt(t).subs.delete(s.tag)),i>0}async function uh(t,e,n,r){try{await lh}catch{}const s=vS(t,e,n,r);return lh=s,await s}const Zu=["then"];var b0;b0=sd;const bl=class bl{constructor(e,n,r,s){T(this,"target");T(this,"interface");T(this,"runner");T(this,"filters");T(this,b0);T(this,"fallback");k(typeof e=="string"||Lx(e),"invalid value for Contract target","target",e),r==null&&(r=null);const i=oh.from(n);te(this,{target:e,runner:r,interface:i}),Object.defineProperty(this,sd,{value:{}});let a,o=null,l=null;if(s){const d=oi(r);l=new Bm(this.interface,d,s)}let u=new Map;if(typeof e=="string")if(Ie(e))o=e,a=Promise.resolve(e);else{const d=_i(r,"resolveName");if(!Gd(d))throw Me("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=d.resolveName(e).then(p=>{if(p==null)throw Me("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Yt(this).addr=p,p})}else a=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return Yt(this).addr=d,d});gS(this,{addrPromise:a,addr:o,deployTx:l,subs:u});const c=new Proxy({},{get:(d,p,y)=>{if(typeof p=="symbol"||Zu.indexOf(p)>=0)return Reflect.get(d,p,y);try{return this.getEvent(p)}catch(x){if(!dt(x,"INVALID_ARGUMENT")||x.argument!=="key")throw x}},has:(d,p)=>Zu.indexOf(p)>=0?Reflect.has(d,p):Reflect.has(d,p)||this.interface.hasEvent(String(p))});return te(this,{filters:c}),te(this,{fallback:i.receive||i.fallback?hS(this):null}),new Proxy(this,{get:(d,p,y)=>{if(typeof p=="symbol"||p in d||Zu.indexOf(p)>=0)return Reflect.get(d,p,y);try{return d.getFunction(p)}catch(x){if(!dt(x,"INVALID_ARGUMENT")||x.argument!=="key")throw x}},has:(d,p)=>typeof p=="symbol"||p in d||Zu.indexOf(p)>=0?Reflect.has(d,p):d.interface.hasFunction(p)})}connect(e){return new bl(this.target,this.interface,e)}attach(e){return new bl(e,this.interface,this.runner)}async getAddress(){return await Yt(this).addrPromise}async getDeployedCode(){const e=oi(this.runner);M(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=oi(this.runner);return M(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);r.once("block",a)}catch(o){i(o)}};a()})}deploymentTransaction(){return Yt(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),mS(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),yS(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:s,addrPromise:i}=Yt(this),a=s||await i,{fragment:o,topics:l}=await Fm(this,e),u={address:a,topics:l,fromBlock:n,toBlock:r},c=oi(this.runner);return M(c,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await c.getLogs(u)).map(d=>{let p=o;if(p==null)try{p=this.interface.getEvent(d.topics[0])}catch{}if(p)try{return new Om(d,this.interface,p)}catch(y){return new Eb(d,y)}return new vu(d,c)})}async on(e,n){const r=await l0(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await l0(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await uh(this,e,n,null)}async listenerCount(e){if(e){const s=await ll(this,e);return s?s.listeners.length:0}const{subs:n}=Yt(this);let r=0;for(const{listeners:s}of n.values())r+=s.length;return r}async listeners(e){if(e){const s=await ll(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:n}=Yt(this);let r=[];for(const{listeners:s}of n.values())r=r.concat(s.map(({listener:i})=>i));return r}async off(e,n){const r=await ll(this,e);if(!r)return this;if(n){const s=r.listeners.map(({listener:i})=>i).indexOf(n);s>=0&&r.listeners.splice(s,1)}return(n==null||r.listeners.length===0)&&(r.stop(),Yt(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await ll(this,e);if(!n)return this;n.stop(),Yt(this).subs.delete(n.tag)}else{const{subs:n}=Yt(this);for(const{tag:r,stop:s}of n.values())s(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends bl{constructor(s,i=null){super(s,e,i)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};let ch=bl;function xS(){return ch}class ue extends xS(){}function Lf(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):k(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class bS{constructor(e){T(this,"name");te(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const Ob=new RegExp("^(ipfs)://(.*)$","i"),u0=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Ob,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var ds,xi,fs,ta,cd,Bb;const xa=class xa{constructor(e,n,r){P(this,fs);T(this,"provider");T(this,"address");T(this,"name");P(this,ds);P(this,xi);te(this,{provider:e,address:n,name:r}),b(this,ds,null),b(this,xi,new ue(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return f(this,ds)==null&&b(this,ds,(async()=>{try{return await f(this,xi).supportsInterface("0x9061b923")}catch(e){if(dt(e,"CALL_EXCEPTION"))return!1;throw b(this,ds,null),e}})()),await f(this,ds)}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await U(this,fs,ta).call(this,"addr(bytes32)");return i==null||i===Hl?null:i}catch(i){if(dt(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const a=await U(this,fs,ta).call(this,"addr(bytes32,uint)",[i]);if(Ie(a,20))return ke(a)}let n=null;for(const i of this.provider.plugins)if(i instanceof bS&&i.supportsCoinType(e)){n=i;break}if(n==null)return null;const r=await U(this,fs,ta).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const s=await n.decodeAddress(e,r);if(s!=null)return s;M(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await U(this,fs,ta).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await U(this,fs,ta).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=n[1]==="e3010170"?"ipfs":"ipns",i=parseInt(n[4],16);if(n[5].length===i*2)return`${s}://${Ek("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;M(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<u0.length;r++){const s=n.match(u0[r]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const a=Lf(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:a}),{linkage:e,url:a}}case"erc721":case"erc1155":{const a=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:n});const o=await this.getAddress();if(o==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(s[2]||"").split("/");if(l.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};const u=l[1],c=new ue(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const v=await c.ownerOf(u);if(o!==v)return e.push({type:"!owner",value:v}),{url:null,linkage:e};e.push({type:"owner",value:v})}else if(i==="erc1155"){const v=await c.balanceOf(o,u);if(!v)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:v.toString()})}let d=await c[a](u);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),i==="erc1155"&&(d=d.replace("{id}",Ls(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=Lf(d)),e.push({type:"metadata-url",value:d});let p={};const y=await new zr(d).send();y.assertOk();try{p=y.bodyJson}catch{try{e.push({type:"!metadata",value:y.bodyText})}catch{const m=y.body;return m&&e.push({type:"!metadata",value:Q(m)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!p)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(p)});let x=p.image;if(typeof x!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!x.match(/^(https:\/\/|data:)/i)){if(x.match(Ob)==null)return e.push({type:"!imageUrl-ipfs",value:x}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:x}),x=Lf(x)}return e.push({type:"url",value:x}),{linkage:e,url:x}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return M(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var s;let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const i=await U(s=xa,cd,Bb).call(s,e,r);if(i!=null){const a=new xa(e,i,n);return r!==n&&!await a.supportsWildcard()?null:a}r=r.split(".").slice(1).join(".")}}};ds=new WeakMap,xi=new WeakMap,fs=new WeakSet,ta=async function(e,n){n=(n||[]).slice();const r=f(this,xi).interface;n.unshift(ih(this.name));let s=null;await this.supportsWildcard()&&(s=r.getFunction(e),M(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[LN(this.name,255),r.encodeFunctionData(s,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const i=await f(this,xi)[e](...n);return s?r.decodeFunctionResult(s,i)[0]:i}catch(i){if(!dt(i,"CALL_EXCEPTION"))throw i}return null},cd=new WeakSet,Bb=async function(e,n){const r=await xa.getEnsAddress(e);try{const i=await new ue(r,["function resolver(bytes32) view returns (address)"],e).resolver(ih(n),{enableCcipRead:!0});return i===Hl?null:i}catch(s){throw s}return null},P(xa,cd);let id=xa;const c0=BigInt(0);function ye(t,e){return function(n){return n==null?e:t(n)}}function Zl(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function xu(t,e){return n=>{const r={};for(const s in t){let i=s;if(e&&s in e&&!(i in n)){for(const a of e[s])if(a in n){i=a;break}}try{const a=t[s](n[i]);a!==void 0&&(r[s]=a)}catch(a){const o=a instanceof Error?a.message:"not-an-error";M(!1,`invalid value for value.${s} (${o})`,"BAD_DATA",{value:n})}}return r}}function AS(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}k(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Mo(t){return k(Ie(t,!0),"invalid data","value",t),t}function ct(t){return k(Ie(t,32),"invalid hash","value",t),t}const kS=xu({address:ke,blockHash:ct,blockNumber:ae,data:Mo,index:ae,removed:ye(AS,!1),topics:Zl(ct),transactionHash:ct,transactionIndex:ae},{index:["logIndex"]});function ES(t){return kS(t)}const TS=xu({hash:ye(ct),parentHash:ct,parentBeaconBlockRoot:ye(ct,null),number:ae,timestamp:ae,nonce:ye(Mo),difficulty:Y,gasLimit:Y,gasUsed:Y,stateRoot:ye(ct,null),receiptsRoot:ye(ct,null),blobGasUsed:ye(Y,null),excessBlobGas:ye(Y,null),miner:ye(ke),prevRandao:ye(ct,null),extraData:Mo,baseFeePerGas:ye(Y)},{prevRandao:["mixHash"]});function NS(t){const e=TS(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:Fb(n)),e}const SS=xu({transactionIndex:ae,blockNumber:ae,transactionHash:ct,address:ke,topics:Zl(ct),data:Mo,index:ae,blockHash:ct},{index:["logIndex"]});function PS(t){return SS(t)}const CS=xu({to:ye(ke,null),from:ye(ke,null),contractAddress:ye(ke,null),index:ae,root:ye(Q),gasUsed:Y,blobGasUsed:ye(Y,null),logsBloom:ye(Mo),blockHash:ct,hash:ct,logs:Zl(PS),blockNumber:ae,cumulativeGasUsed:Y,effectiveGasPrice:ye(Y),blobGasPrice:ye(Y,null),status:ye(ae),type:ye(ae,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function IS(t){return CS(t)}function Fb(t){t.to&&Y(t.to)===c0&&(t.to="0x0000000000000000000000000000000000000000");const e=xu({hash:ct,index:ye(ae,void 0),type:n=>n==="0x"||n==null?0:ae(n),accessList:ye(Wi,null),blobVersionedHashes:ye(Zl(ct,!0),null),authorizationList:ye(Zl(n=>{let r;if(n.signature)r=n.signature;else{let s=n.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),r=Object.assign({},n,{yParity:s})}return{address:ke(n.address),chainId:Y(n.chainId),nonce:Y(n.nonce),signature:Wt.from(r)}},!1),null),blockHash:ye(ct,null),blockNumber:ye(ae,null),transactionIndex:ye(ae,null),from:ke,gasPrice:ye(Y),maxPriorityFeePerGas:ye(Y),maxFeePerGas:ye(Y),maxFeePerBlobGas:ye(Y,null),gasLimit:Y,to:ye(ke,null),value:Y,nonce:ae,data:Mo,creates:ye(ke,null),chainId:ye(Y,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=wT(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Wt.from(t.signature):e.signature=Wt.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&Y(e.blockHash)===c0&&(e.blockHash=null),e}const RS="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class bu{constructor(e){T(this,"name");te(this,{name:e})}clone(){return new bu(this.name)}}class Qd extends bu{constructor(n,r){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);T(this,"effectiveBlock");T(this,"txBase");T(this,"txCreate");T(this,"txDataZero");T(this,"txDataNonzero");T(this,"txAccessListStorageKey");T(this,"txAccessListAddress");const s={effectiveBlock:n};function i(a,o){let l=(r||{})[a];l==null&&(l=o),k(typeof l=="number",`invalud value for ${a}`,"costs",r),s[a]=l}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),te(this,s)}clone(){return new Qd(this.effectiveBlock,this)}}class Vd extends bu{constructor(n,r){super("org.ethers.plugins.network.Ens");T(this,"address");T(this,"targetNetwork");te(this,{address:n||RS,targetNetwork:r??1})}clone(){return new Vd(this.address,this.targetNetwork)}}var au,ou;class OS extends bu{constructor(n,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");P(this,au);P(this,ou);b(this,au,n),b(this,ou,r)}get url(){return f(this,au)}get processFunc(){return f(this,ou)}clone(){return this}}au=new WeakMap,ou=new WeakMap;const Uf=new Map;var so,io,ps;const ba=class ba{constructor(e,n){P(this,so);P(this,io);P(this,ps);b(this,so,e),b(this,io,Y(n)),b(this,ps,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return f(this,so)}set name(e){b(this,so,e)}get chainId(){return f(this,io)}set chainId(e){b(this,io,Y(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Y(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Y(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Y(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(f(this,ps).values())}attachPlugin(e){if(f(this,ps).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return f(this,ps).set(e.name,e.clone()),this}getPlugin(e){return f(this,ps).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new ba(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new Qd;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const s=Wi(e.accessList);for(const i in s)r+=n.txAccessListAddress+n.txAccessListStorageKey*s[i].storageKeys.length}return r}static from(e){if(BS(),e==null)return ba.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=Uf.get(e);if(n)return n();if(typeof e=="bigint")return new ba("unknown",e);k(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){k(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new ba(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new Vd(e.ensAddress,e.ensNetwork)),n}k(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=Uf.get(e);r&&k(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),Uf.set(e,n)}};so=new WeakMap,io=new WeakMap,ps=new WeakMap;let ar=ba;function d0(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let s=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||s++,r[1]=s.toString()}return BigInt(r[0]+r[1])}function f0(t){return new OS(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let s;try{const[i,a]=await Promise.all([r.send(),e()]);s=i;const o=s.bodyJson.standard;return{gasPrice:a.gasPrice,maxFeePerGas:d0(o.maxFee,9),maxPriorityFeePerGas:d0(o.maxPriorityFee,9)}}catch(i){M(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:s,error:i})}})}let p0=!1;function BS(){if(p0)return;p0=!0;function t(e,n,r){const s=function(){const i=new ar(e,n);return r.ensNetwork!=null&&i.attachPlugin(new Vd(null,r.ensNetwork)),i.attachPlugin(new Qd),(r.plugins||[]).forEach(a=>{i.attachPlugin(a)}),i};ar.register(e,s),ar.register(n,s),r.altNames&&r.altNames.forEach(i=>{ar.register(i,s)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[f0("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[f0("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function dh(t){return JSON.parse(JSON.stringify(t))}var Er,dn,hs,er,ao,gc;class FS{constructor(e){P(this,ao);P(this,Er);P(this,dn);P(this,hs);P(this,er);b(this,Er,e),b(this,dn,null),b(this,hs,4e3),b(this,er,-2)}get pollingInterval(){return f(this,hs)}set pollingInterval(e){b(this,hs,e)}start(){f(this,dn)||(b(this,dn,f(this,Er)._setTimeout(U(this,ao,gc).bind(this),f(this,hs))),U(this,ao,gc).call(this))}stop(){f(this,dn)&&(f(this,Er)._clearTimeout(f(this,dn)),b(this,dn,null))}pause(e){this.stop(),e&&b(this,er,-2)}resume(){this.start()}}Er=new WeakMap,dn=new WeakMap,hs=new WeakMap,er=new WeakMap,ao=new WeakSet,gc=async function(){try{const e=await f(this,Er).getBlockNumber();if(f(this,er)===-2){b(this,er,e);return}if(e!==f(this,er)){for(let n=f(this,er)+1;n<=e;n++){if(f(this,dn)==null)return;await f(this,Er).emit("block",n)}b(this,er,e)}}catch{}f(this,dn)!=null&&b(this,dn,f(this,Er)._setTimeout(U(this,ao,gc).bind(this),f(this,hs)))};var bi,Ai,ms;class Mm{constructor(e){P(this,bi);P(this,Ai);P(this,ms);b(this,bi,e),b(this,ms,!1),b(this,Ai,n=>{this._poll(n,f(this,bi))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){f(this,ms)||(b(this,ms,!0),f(this,Ai).call(this,-2),f(this,bi).on("block",f(this,Ai)))}stop(){f(this,ms)&&(b(this,ms,!1),f(this,bi).off("block",f(this,Ai)))}pause(e){this.stop()}resume(){this.start()}}bi=new WeakMap,Ai=new WeakMap,ms=new WeakMap;var oo,Tr;class MS extends Mm{constructor(n,r){super(n);P(this,oo);P(this,Tr);b(this,oo,r),b(this,Tr,-2)}pause(n){n&&b(this,Tr,-2),super.pause(n)}async _poll(n,r){const s=await r.getBlock(f(this,oo));s!=null&&(f(this,Tr)===-2?b(this,Tr,s.number):s.number>f(this,Tr)&&(r.emit(f(this,oo),s.number),b(this,Tr,s.number)))}}oo=new WeakMap,Tr=new WeakMap;var dd;class LS extends Mm{constructor(n,r){super(n);P(this,dd);b(this,dd,dh(r))}async _poll(n,r){throw new Error("@TODO")}}dd=new WeakMap;var lo;class US extends Mm{constructor(n,r){super(n);P(this,lo);b(this,lo,r)}async _poll(n,r){const s=await r.getTransactionReceipt(f(this,lo));s&&r.emit(f(this,lo),s)}}lo=new WeakMap;var Nr,uo,co,ys,fn,fd,Mb;class Lm{constructor(e,n){P(this,fd);P(this,Nr);P(this,uo);P(this,co);P(this,ys);P(this,fn);b(this,Nr,e),b(this,uo,dh(n)),b(this,co,U(this,fd,Mb).bind(this)),b(this,ys,!1),b(this,fn,-2)}start(){f(this,ys)||(b(this,ys,!0),f(this,fn)===-2&&f(this,Nr).getBlockNumber().then(e=>{b(this,fn,e)}),f(this,Nr).on("block",f(this,co)))}stop(){f(this,ys)&&(b(this,ys,!1),f(this,Nr).off("block",f(this,co)))}pause(e){this.stop(),e&&b(this,fn,-2)}resume(){this.start()}}Nr=new WeakMap,uo=new WeakMap,co=new WeakMap,ys=new WeakMap,fn=new WeakMap,fd=new WeakSet,Mb=async function(e){if(f(this,fn)===-2)return;const n=dh(f(this,uo));n.fromBlock=f(this,fn)+1,n.toBlock=e;const r=await f(this,Nr).getLogs(n);if(r.length===0){f(this,fn)<e-60&&b(this,fn,e-60);return}for(const s of r)f(this,Nr).emit(f(this,uo),s),b(this,fn,s.blockNumber)};const DS=BigInt(2),jS=10;function Xu(t){return t&&typeof t.then=="function"}function wc(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const s=Object.keys(r);return s.sort(),s.reduce((i,a)=>(i[a]=r[a],i),{})}return r})}class Lb{constructor(e){T(this,"name");te(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function _S(t){return JSON.parse(JSON.stringify(t))}function fh(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function Df(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Ie(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:wc("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:wc("orphan",n),filter:_S(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(s=>s==null?null:Array.isArray(s)?fh(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(n.address){const s=[],i=[],a=o=>{Ie(o)?s.push(o):i.push((async()=>{s.push(await Ct(o,e))})())};Array.isArray(n.address)?n.address.forEach(a):a(n.address),i.length&&await Promise.all(i),r.address=fh(s.map(o=>o.toLowerCase()))}return{filter:r,tag:wc("event",r),type:"event"}}k(!1,"unknown ProviderEvent","event",t)}function jf(){return new Date().getTime()}const zS={cacheTimeout:250,pollingInterval:4e3};var wt,gs,vt,fo,en,ki,ws,Sr,lu,pn,po,ho,fe,$t,ph,hh,ul,mh,cl,vc;class HS{constructor(e,n){P(this,fe);P(this,wt);P(this,gs);P(this,vt);P(this,fo);P(this,en);P(this,ki);P(this,ws);P(this,Sr);P(this,lu);P(this,pn);P(this,po);P(this,ho);if(b(this,ho,Object.assign({},zS,n||{})),e==="any")b(this,ki,!0),b(this,en,null);else if(e){const r=ar.from(e);b(this,ki,!1),b(this,en,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else b(this,ki,!1),b(this,en,null);b(this,Sr,-1),b(this,ws,new Map),b(this,wt,new Map),b(this,gs,new Map),b(this,vt,null),b(this,fo,!1),b(this,lu,1),b(this,pn,new Map),b(this,po,!1)}get pollingInterval(){return f(this,ho).pollingInterval}get provider(){return this}get plugins(){return Array.from(f(this,gs).values())}attachPlugin(e){if(f(this,gs).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return f(this,gs).set(e.name,e.connect(this)),this}getPlugin(e){return f(this,gs).get(e)||null}get disableCcipRead(){return f(this,po)}set disableCcipRead(e){b(this,po,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const s=e.to.toLowerCase(),i=n.toLowerCase(),a=[];for(let o=0;o<r.length;o++){const l=r[o],u=l.replace("{sender}",s).replace("{data}",i),c=new zr(u);l.indexOf("{data}")===-1&&(c.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:c,index:o,urls:r});let d="unknown error",p;try{p=await c.send()}catch(y){a.push(y.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:{error:y}});continue}try{const y=p.bodyJson;if(y.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:c,result:y}),y.data;y.message&&(d=y.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:y})}catch{}M(p.statusCode<400||p.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:d}}),a.push(d)}M(!1,`error encountered during CCIP fetch: ${a.map(o=>JSON.stringify(o)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:a}})}_wrapBlock(e,n){return new oS(NS(e),this)}_wrapLog(e,n){return new vu(ES(e),this)}_wrapTransactionReceipt(e,n){return new bb(IS(e),this)}_wrapTransactionResponse(e,n){return new Yl(Fb(e),this)}_detectNetwork(){M(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){M(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=ae(await U(this,fe,$t).call(this,{method:"getBlockNumber"}),"%response");return f(this,Sr)>=0&&b(this,Sr,e),e}_getAddress(e){return Ct(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Ie(e))return Ie(e,32)?e:Un(e);if(typeof e=="bigint"&&(e=ae(e,"blockTag")),typeof e=="number")return e>=0?Un(e):f(this,Sr)>=0?Un(f(this,Sr)+e):this.getBlockNumber().then(n=>Un(n+e));k(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?fh(l.map(u=>u.toLowerCase())):l.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,s=(l,u,c)=>{let d;switch(l.length){case 0:break;case 1:d=l[0];break;default:l.sort(),d=l}if(r&&(u!=null||c!=null))throw new Error("invalid filter");const p={};return d&&(p.address=d),n.length&&(p.topics=n),u&&(p.fromBlock=u),c&&(p.toBlock=c),r&&(p.blockHash=r),p};let i=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)i.push(this._getAddress(l));else i.push(this._getAddress(e.address));let a;"fromBlock"in e&&(a=this._getBlockTag(e.fromBlock));let o;return"toBlock"in e&&(o=this._getBlockTag(e.toBlock)),i.filter(l=>typeof l!="string").length||a!=null&&typeof a!="string"||o!=null&&typeof o!="string"?Promise.all([Promise.all(i),a,o]).then(l=>s(l[0],l[1],l[2])):s(i,a,o)}_getTransactionRequest(e){const n=rd(e),r=[];if(["to","from"].forEach(s=>{if(n[s]==null)return;const i=Ct(n[s],this);Xu(i)?r.push(async function(){n[s]=await i}()):n[s]=i}),n.blockTag!=null){const s=this._getBlockTag(n.blockTag);Xu(s)?r.push(async function(){n.blockTag=await s}()):n.blockTag=s}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(f(this,en)==null){const s=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw f(this,en)===s&&b(this,en,null),i}})();return b(this,en,s),(await s).clone()}const e=f(this,en),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(f(this,ki)?(this.emit("network",r,n),f(this,en)===e&&b(this,en,Promise.resolve(r))):M(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:s,gasPrice:i,priorityFee:a}=await Nt({_block:U(this,fe,mh).call(this,"latest",!1),gasPrice:(async()=>{try{const c=await U(this,fe,$t).call(this,{method:"getGasPrice"});return Y(c,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const c=await U(this,fe,$t).call(this,{method:"getPriorityFee"});return Y(c,"%response")}catch{}return null})()});let o=null,l=null;const u=this._wrapBlock(s,e);return u&&u.baseFeePerGas&&(l=a??BigInt("1000000000"),o=u.baseFeePerGas*DS+l),new a0(i,o,l)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const s=new zr(r.url),i=await r.processFunc(n,this,s);return new a0(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return Xu(n)&&(n=await n),Y(await U(this,fe,$t).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await Nt({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await U(this,fe,hh).call(this,U(this,fe,ph).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return Y(await U(this,fe,ul).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return ae(await U(this,fe,ul).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return Q(await U(this,fe,ul).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const s=Y(n,"position");return Q(await U(this,fe,ul).call(this,{method:"getStorage",position:s},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:s}=await Nt({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Yc.from(e);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:s}=await Nt({network:this.getNetwork(),params:U(this,fe,mh).call(this,e,!!n)});return s==null?null:this._wrapBlock(s,r)}async getTransaction(e){const{network:n,params:r}=await Nt({network:this.getNetwork(),params:U(this,fe,$t).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await Nt({network:this.getNetwork(),params:U(this,fe,$t).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const s=await U(this,fe,$t).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await Nt({network:this.getNetwork(),result:U(this,fe,$t).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:Q(n)}async getLogs(e){let n=this._getFilter(e);Xu(n)&&(n=await n);const{network:r,params:s}=await Nt({network:this.getNetwork(),params:U(this,fe,$t).call(this,{method:"getLogs",filter:n})});return s.map(i=>this._wrapLog(i,r))}_getProvider(e){M(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await id.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=ke(e);const n=ih(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await id.getEnsAddress(this),i=await new ue(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(i==null||i===Hl)return null;const o=await new ue(i,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(o)!==e?null:o}catch(r){if(dt(r,"BAD_DATA")&&r.value==="0x"||dt(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const s=n??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,a)=>{let o=null;const l=async u=>{try{const c=await this.getTransactionReceipt(e);if(c!=null&&u-c.blockNumber+1>=s){i(c),o&&(clearTimeout(o),o=null);return}}catch(c){console.log("EEE",c)}this.once("block",l)};r!=null&&(o=setTimeout(()=>{o!=null&&(o=null,this.off("block",l),a(Me("timeout","TIMEOUT",{reason:"timeout"})))},r)),l(await this.getBlockNumber())})}async waitForBlock(e){M(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=f(this,pn).get(e);n&&(n.timer&&clearTimeout(n.timer),f(this,pn).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=Qo(this,lu)._++,s=()=>{f(this,pn).delete(r),e()};if(this.paused)f(this,pn).set(r,{timer:null,func:s,time:n});else{const i=setTimeout(s,n);f(this,pn).set(r,{timer:i,func:s,time:jf()})}return r}_forEachSubscriber(e){for(const n of f(this,wt).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Lb(e.type);case"block":{const n=new FS(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new MS(this,e.type);case"event":return new Lm(this,e.filter);case"transaction":return new US(this,e.hash);case"orphan":return new LS(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of f(this,wt).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),f(this,vt)!=null&&n.pause(f(this,vt));break}}async on(e,n){const r=await U(this,fe,vc).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,f(this,vt)!=null&&r.subscriber.pause(f(this,vt))),this}async once(e,n){const r=await U(this,fe,vc).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,f(this,vt)!=null&&r.subscriber.pause(f(this,vt))),this}async emit(e,...n){const r=await U(this,fe,cl).call(this,e,n);if(!r||r.listeners.length===0)return!1;const s=r.listeners.length;return r.listeners=r.listeners.filter(({listener:i,once:a})=>{const o=new Zv(this,a?null:i,e);try{i.call(this,...n,o)}catch{}return!a}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),f(this,wt).delete(r.tag)),s>0}async listenerCount(e){if(e){const r=await U(this,fe,cl).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of f(this,wt).values())n+=r.length;return n}async listeners(e){if(e){const r=await U(this,fe,cl).call(this,e);return r?r.listeners.map(({listener:s})=>s):[]}let n=[];for(const{listeners:r}of f(this,wt).values())n=n.concat(r.map(({listener:s})=>s));return n}async off(e,n){const r=await U(this,fe,cl).call(this,e);if(!r)return this;if(n){const s=r.listeners.map(({listener:i})=>i).indexOf(n);s>=0&&r.listeners.splice(s,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),f(this,wt).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:s}=await U(this,fe,vc).call(this,e);r&&s.stop(),f(this,wt).delete(n)}else for(const[n,{started:r,subscriber:s}]of f(this,wt))r&&s.stop(),f(this,wt).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return f(this,fo)}destroy(){this.removeAllListeners();for(const e of f(this,pn).keys())this._clearTimeout(e);b(this,fo,!0)}get paused(){return f(this,vt)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(b(this,Sr,-1),f(this,vt)!=null){if(f(this,vt)==!!e)return;M(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),b(this,vt,!!e);for(const n of f(this,pn).values())n.timer&&clearTimeout(n.timer),n.time=jf()-n.time}resume(){if(f(this,vt)!=null){this._forEachSubscriber(e=>e.resume()),b(this,vt,null);for(const e of f(this,pn).values()){let n=e.time;n<0&&(n=0),e.time=jf(),setTimeout(e.func,n)}}}}wt=new WeakMap,gs=new WeakMap,vt=new WeakMap,fo=new WeakMap,en=new WeakMap,ki=new WeakMap,ws=new WeakMap,Sr=new WeakMap,lu=new WeakMap,pn=new WeakMap,po=new WeakMap,ho=new WeakMap,fe=new WeakSet,$t=async function(e){const n=f(this,ho).cacheTimeout;if(n<0)return await this._perform(e);const r=wc(e.method,e);let s=f(this,ws).get(r);return s||(s=this._perform(e),f(this,ws).set(r,s),setTimeout(()=>{f(this,ws).get(r)===s&&f(this,ws).delete(r)},n)),await s},ph=async function(e,n,r){M(r<jS,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const s=rd(e);try{return Q(await this._perform({method:"call",transaction:s,blockTag:n}))}catch(i){if(!this.disableCcipRead&&wm(i)&&i.data&&r>=0&&n==="latest"&&s.to!=null&&ze(i.data,0,4)==="0x556f1830"){const a=i.data,o=await Ct(s.to,this);let l;try{l=KS(ze(i.data,4))}catch(d){M(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:a}})}M(l.sender.toLowerCase()===o.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const u=await this.ccipReadFetch(s,l.calldata,l.urls);M(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:l.errorArgs}});const c={to:o,data:Ge([l.selector,WS([u,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:c});try{const d=await U(this,fe,ph).call(this,c,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},c),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},c),error:d}),d}}throw i}},hh=async function(e){const{value:n}=await Nt({network:this.getNetwork(),value:e});return n},ul=async function(e,n,r){let s=this._getAddress(n),i=this._getBlockTag(r);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await U(this,fe,hh).call(this,U(this,fe,$t).call(this,Object.assign(e,{address:s,blockTag:i})))},mh=async function(e,n){if(Ie(e,32))return await U(this,fe,$t).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await U(this,fe,$t).call(this,{method:"getBlock",blockTag:r,includeTransactions:n})},cl=async function(e,n){let r=await Df(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await Df({orphan:"drop-log",log:n[0]},this)),f(this,wt).get(r.tag)||null},vc=async function(e){const n=await Df(e,this),r=n.tag;let s=f(this,wt).get(r);return s||(s={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},f(this,wt).set(r,s)),s};function GS(t,e){try{const n=yh(t,e);if(n)return Kc(n)}catch{}return null}function yh(t,e){if(t==="0x")return null;try{const n=ae(ze(t,e,e+32)),r=ae(ze(t,n,n+32));return ze(t,n+32,n+32+r)}catch{}return null}function h0(t){const e=tt(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function QS(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const VS=new Uint8Array([]);function WS(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(VS),n+=32;for(let r=0;r<t.length;r++){const s=ce(t[r]);e[r]=h0(n),e.push(h0(s.length)),e.push(QS(s)),n+=32+Math.ceil(s.length/32)*32}return Ge(e)}const m0="0x0000000000000000000000000000000000000000000000000000000000000000";function KS(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};M(Pa(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=ze(t,0,32);M(ze(n,0,12)===ze(m0,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=ze(n,12);try{const r=[],s=ae(ze(t,32,64)),i=ae(ze(t,s,s+32)),a=ze(t,s+32);for(let o=0;o<i;o++){const l=GS(a,o*32);if(l==null)throw new Error("abort");r.push(l)}e.urls=r}catch{M(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=yh(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{M(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}M(ze(t,100,128)===ze(m0,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=ze(t,96,100);try{const r=yh(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{M(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Qs(t,e){if(t.provider)return t.provider;M(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function y0(t,e){let n=rd(e);if(n.to!=null&&(n.to=Ct(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),Ct(r,t)]).then(([s,i])=>(k(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else n.from=t.getAddress();return await Nt(n)}class JS{constructor(e){T(this,"provider");te(this,{provider:e||null})}async getNonce(e){return Qs(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await y0(this,e)}async populateTransaction(e){const n=Qs(this,"populateTransaction"),r=await y0(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const s=await this.provider.getNetwork();if(r.chainId!=null){const a=Y(r.chainId);k(a===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=s.chainId;const i=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||i)?k(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&i&&k(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const a=await n.getFeeData();M(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=a.gasPrice)}else{const a=await n.getFeeData();if(r.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const o=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=o,r.maxPriorityFeePerGas=o}else r.maxFeePerGas==null&&(r.maxFeePerGas=a.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(M(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=a.gasPrice),r.type=0):M(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=a.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await Nt(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await Qs(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return Qs(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Qs(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Qs(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=Qs(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const s=Yc.from(r);return await n.broadcastTransaction(await this.signTransaction(s))}authorize(e){M(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function $S(t){return JSON.parse(JSON.stringify(t))}var Et,tr,Ei,vs,Ti,mo,Ds,gh,wh;class Ub{constructor(e){P(this,Ds);P(this,Et);P(this,tr);P(this,Ei);P(this,vs);P(this,Ti);P(this,mo);b(this,Et,e),b(this,tr,null),b(this,Ei,U(this,Ds,gh).bind(this)),b(this,vs,!1),b(this,Ti,null),b(this,mo,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){f(this,vs)||(b(this,vs,!0),U(this,Ds,gh).call(this,-2))}stop(){f(this,vs)&&(b(this,vs,!1),b(this,mo,!0),U(this,Ds,wh).call(this),f(this,Et).off("block",f(this,Ei)))}pause(e){e&&U(this,Ds,wh).call(this),f(this,Et).off("block",f(this,Ei))}resume(){this.start()}}Et=new WeakMap,tr=new WeakMap,Ei=new WeakMap,vs=new WeakMap,Ti=new WeakMap,mo=new WeakMap,Ds=new WeakSet,gh=async function(e){try{f(this,tr)==null&&b(this,tr,this._subscribe(f(this,Et)));let n=null;try{n=await f(this,tr)}catch(i){if(!dt(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(n==null){b(this,tr,null),f(this,Et)._recoverSubscriber(this,this._recover(f(this,Et)));return}const r=await f(this,Et).getNetwork();if(f(this,Ti)||b(this,Ti,r),f(this,Ti).chainId!==r.chainId)throw new Error("chaid changed");if(f(this,mo))return;const s=await f(this,Et).send("eth_getFilterChanges",[n]);await this._emitResults(f(this,Et),s)}catch(n){console.log("@TODO",n)}f(this,Et).once("block",f(this,Ei))},wh=function(){const e=f(this,tr);e&&(b(this,tr,null),e.then(n=>{f(this,Et).destroyed||f(this,Et).send("eth_uninstallFilter",[n])}))};var Ni;class YS extends Ub{constructor(n,r){super(n);P(this,Ni);b(this,Ni,$S(r))}_recover(n){return new Lm(n,f(this,Ni))}async _subscribe(n){return await n.send("eth_newFilter",[f(this,Ni)])}async _emitResults(n,r){for(const s of r)n.emit(f(this,Ni),n._wrapLog(s,n._network))}}Ni=new WeakMap;class ZS extends Ub{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const XS="bigint,boolean,function,number,string,symbol".split(/,/g);function xc(t){if(t==null||XS.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(xc);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function qS(t){return new Promise(e=>{setTimeout(e,t)})}function Zi(t){return t&&t.toLowerCase()}function g0(t){return t&&typeof t.pollingInterval=="number"}const Db={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class _f extends JS{constructor(n,r){super(n);T(this,"address");r=ke(r),te(this,{address:r})}connect(n){M(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const r=xc(n),s=[];if(r.from){const a=r.from;s.push((async()=>{const o=await Ct(a,this.provider);k(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=o})())}else r.from=this.address;if(r.gasLimit==null&&s.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const a=r.to;s.push((async()=>{r.to=await Ct(a,this.provider)})())}s.length&&await Promise.all(s);const i=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(n){const r=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(n);return await new Promise((i,a)=>{const o=[1e3,100];let l=0;const u=async()=>{try{const c=await this.provider.getTransaction(s);if(c!=null){i(c.replaceableTransaction(r));return}}catch(c){if(dt(c,"CANCELLED")||dt(c,"BAD_DATA")||dt(c,"NETWORK_ERROR")||dt(c,"UNSUPPORTED_OPERATION")){c.info==null&&(c.info={}),c.info.sendTransactionHash=s,a(c);return}if(dt(c,"INVALID_ARGUMENT")&&(l++,c.info==null&&(c.info={}),c.info.sendTransactionHash=s,l>10)){a(c);return}this.provider.emit("error",Me("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:c}))}this.provider._setTimeout(()=>{u()},o.pop()||4e3)};u()})}async signTransaction(n){const r=xc(n);if(r.from){const i=await Ct(r.from,this.provider);k(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=i}else r.from=this.address;const s=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[s])}async signMessage(n){const r=typeof n=="string"?Fr(n):n;return await this.provider.send("personal_sign",[Q(r),this.address.toLowerCase()])}async signTypedData(n,r,s){const i=xc(s),a=await nd.resolveNames(n,r,i,async o=>{const l=await Ct(o);return k(l!=null,"TypedData does not support null address","value",o),l});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(nd.getPayload(a.domain,r,a.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const r=typeof n=="string"?Fr(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Q(r)])}}var Si,yo,Pr,nr,Fn,hn,Dt,uu,vh;class eP extends HS{constructor(n,r){super(n,r);P(this,uu);P(this,Si);P(this,yo);P(this,Pr);P(this,nr);P(this,Fn);P(this,hn);P(this,Dt);b(this,yo,1),b(this,Si,Object.assign({},Db,r||{})),b(this,Pr,[]),b(this,nr,null),b(this,hn,null),b(this,Dt,null);{let i=null;const a=new Promise(o=>{i=o});b(this,Fn,{promise:a,resolve:i})}const s=this._getOption("staticNetwork");typeof s=="boolean"?(k(!s||n!=="any","staticNetwork cannot be used on special network 'any'","options",r),s&&n!=null&&b(this,hn,ar.from(n))):s&&(k(n==null||s.matches(n),"staticNetwork MUST match network object","options",r),b(this,hn,s))}_getOption(n){return f(this,Si)[n]}get _network(){return M(f(this,hn),"network is not available yet","NETWORK_ERROR"),f(this,hn)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let s=n.transaction;if(s&&s.type!=null&&Y(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},s,{type:void 0})}))}}const r=this.getRpcRequest(n);return r!=null?await this.send(r.method,r.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(f(this,hn))return f(this,hn)}else return n;return f(this,Dt)?await f(this,Dt):this.ready?(b(this,Dt,(async()=>{try{const r=ar.from(Y(await this.send("eth_chainId",[])));return b(this,Dt,null),r}catch(r){throw b(this,Dt,null),r}})()),await f(this,Dt)):(b(this,Dt,(async()=>{const r={id:Qo(this,yo)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let s;try{s=(await this._send(r))[0],b(this,Dt,null)}catch(i){throw b(this,Dt,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return ar.from(Y(s.result));throw this.getRpcError(r,s)})()),await f(this,Dt))}_start(){f(this,Fn)==null||f(this,Fn).resolve==null||(f(this,Fn).resolve(),b(this,Fn,null),(async()=>{for(;f(this,hn)==null&&!this.destroyed;)try{b(this,hn,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Me("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await qS(1e3)}U(this,uu,vh).call(this)})())}async _waitUntilReady(){if(f(this,Fn)!=null)return await f(this,Fn).promise}_getSubscriber(n){return n.type==="pending"?new ZS(this):n.type==="event"?this._getOption("polling")?new Lm(this,n.filter):new YS(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new Lb("orphan"):super._getSubscriber(n)}get ready(){return f(this,Fn)==null}getRpcTransaction(n){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(n[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),r[i]=Un(Y(n[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{n[s]!=null&&(r[s]=Q(n[s]))}),n.accessList&&(r.accessList=Wi(n.accessList)),n.blobVersionedHashes&&(r.blobVersionedHashes=n.blobVersionedHashes.map(s=>s.toLowerCase())),n.authorizationList&&(r.authorizationList=n.authorizationList.map(s=>{const i=_x(s);return{address:i.address,nonce:Un(i.nonce),chainId:Un(i.chainId),yParity:Un(i.signature.yParity),r:Un(i.signature.r),s:Un(i.signature.s)}})),r}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Zi(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Zi(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[Zi(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Zi(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(Zi):n.filter.address=Zi(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,r){const{method:s}=n,{error:i}=r;if(s==="eth_estimateGas"&&i.message){const l=i.message;if(!l.match(/revert/i)&&l.match(/insufficient funds/i))return Me("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:i}});if(l.match(/nonce/i)&&l.match(/too low/i))return Me("nonce has already been used","NONCE_EXPIRED",{transaction:n.params[0],info:{payload:n,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){const l=xh(i),u=$l.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",n.params[0],l?l.data:null);return u.info={error:i,payload:n},u}const a=JSON.stringify(nP(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return Me("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:n,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const l=n.params[0];if(a.match(/insufficient funds|base fee exceeds gas limit/i))return Me("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:l,info:{error:i}});if(a.match(/nonce/i)&&a.match(/too low/i))return Me("nonce has already been used","NONCE_EXPIRED",{transaction:l,info:{error:i}});if(a.match(/replacement transaction/i)&&a.match(/underpriced/i))return Me("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:l,info:{error:i}});if(a.match(/only replay-protected/i))return Me("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:l,info:{error:i}}})}let o=!!a.match(/the method .* does not exist/i);return o||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(o=!0),o?Me("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:i,payload:n}}):Me("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:n})}send(n,r){if(this.destroyed)return Promise.reject(Me("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const s=Qo(this,yo)._++,i=new Promise((a,o)=>{f(this,Pr).push({resolve:a,reject:o,payload:{method:n,params:r,id:s,jsonrpc:"2.0"}})});return U(this,uu,vh).call(this),i}async getSigner(n){n==null&&(n=0);const r=this.send("eth_accounts",[]);if(typeof n=="number"){const i=await r;if(n>=i.length)throw new Error("no such account");return new _f(this,i[n])}const{accounts:s}=await Nt({network:this.getNetwork(),accounts:r});n=ke(n);for(const i of s)if(ke(i)===n)return new _f(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new _f(this,r))}destroy(){f(this,nr)&&(clearTimeout(f(this,nr)),b(this,nr,null));for(const{payload:n,reject:r}of f(this,Pr))r(Me("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));b(this,Pr,[]),super.destroy()}}Si=new WeakMap,yo=new WeakMap,Pr=new WeakMap,nr=new WeakMap,Fn=new WeakMap,hn=new WeakMap,Dt=new WeakMap,uu=new WeakSet,vh=function(){if(f(this,nr))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");b(this,nr,setTimeout(()=>{b(this,nr,null);const r=f(this,Pr);for(b(this,Pr,[]);r.length;){const s=[r.shift()];for(;r.length&&s.length!==f(this,Si).batchMaxCount;)if(s.push(r.shift()),JSON.stringify(s.map(a=>a.payload)).length>f(this,Si).batchMaxSize){r.unshift(s.pop());break}(async()=>{const i=s.length===1?s[0].payload:s.map(a=>a.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const a=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:a});for(const{resolve:o,reject:l,payload:u}of s){if(this.destroyed){l(Me("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:u.method}));continue}const c=a.filter(d=>d.id===u.id)[0];if(c==null){const d=Me("missing response for request","BAD_DATA",{value:a,info:{payload:u}});this.emit("error",d),l(d);continue}if("error"in c){l(this.getRpcError(u,c));continue}o(c.result)}}catch(a){this.emit("debug",{action:"receiveRpcError",error:a});for(const{reject:o}of s)o(a)}})()}},n))};var xs;class jb extends eP{constructor(n,r){super(n,r);P(this,xs);let s=this._getOption("pollingInterval");s==null&&(s=Db.pollingInterval),b(this,xs,s)}_getSubscriber(n){const r=super._getSubscriber(n);return g0(r)&&(r.pollingInterval=f(this,xs)),r}get pollingInterval(){return f(this,xs)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");b(this,xs,n),this._forEachSubscriber(r=>{g0(r)&&(r.pollingInterval=f(this,xs))})}}xs=new WeakMap;var go;class tP extends jb{constructor(n,r,s){n==null&&(n="http://localhost:8545");super(r,s);P(this,go);typeof n=="string"?b(this,go,new zr(n)):b(this,go,n.clone())}_getConnection(){return f(this,go).clone()}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){const r=this._getConnection();r.body=JSON.stringify(n),r.setHeader("content-type","application/json");const s=await r.send();s.assertOk();let i=s.bodyJson;return Array.isArray(i)||(i=[i]),i}}go=new WeakMap;function xh(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Ie(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=xh(t[e]);if(n)return n}return null}if(typeof t=="string")try{return xh(JSON.parse(t))}catch{}return null}function bh(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)bh(t[n],e);if(typeof t=="string")try{return bh(JSON.parse(t),e)}catch{}}}function nP(t){const e=[];return bh(t,e),e}var wo,vo;const ei=class ei extends jb{constructor(n,r,s){const i=Object.assign({},s??{},{batchMaxCount:1});k(n&&n.request,"invalid EIP-1193 provider","ethereum",n);super(r,i);P(this,wo);P(this,vo);b(this,vo,null),s&&s.providerInfo&&b(this,vo,s.providerInfo),b(this,wo,async(a,o)=>{const l={method:a,params:o};this.emit("debug",{action:"sendEip1193Request",payload:l});try{const u=await n.request(l);return this.emit("debug",{action:"receiveEip1193Result",result:u}),u}catch(u){const c=new Error(u.message);throw c.code=u.code,c.data=u.data,c.payload=l,this.emit("debug",{action:"receiveEip1193Error",error:c}),c}})}get providerInfo(){return f(this,vo)}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){k(!Array.isArray(n),"EIP-1193 does not support batch request","payload",n);try{const r=await f(this,wo).call(this,n.method,n.params||[]);return[{id:n.id,result:r}]}catch(r){return[{id:n.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(n,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(n,r)}async hasSigner(n){n==null&&(n=0);const r=await this.send("eth_accounts",[]);return typeof n=="number"?r.length>n:(n=n.toLowerCase(),r.filter(s=>s.toLowerCase()===n).length!==0)}async getSigner(n){if(n==null&&(n=0),!await this.hasSigner(n))try{await f(this,wo).call(this,"eth_requestAccounts",[])}catch(r){const s=r.payload;throw this.getRpcError(s,{id:s.id,error:r})}return await super.getSigner(n)}static async discover(n){if(n==null&&(n={}),n.provider)return new ei(n.provider);const r=n.window?n.window:typeof window<"u"?window:null;if(r==null)return null;const s=n.anyProvider;if(s&&r.ethereum)return new ei(r.ethereum);if(!("addEventListener"in r&&"dispatchEvent"in r&&"removeEventListener"in r))return null;const i=n.timeout?n.timeout:300;return i===0?null:await new Promise((a,o)=>{let l=[];const u=p=>{l.push(p.detail),s&&c()},c=()=>{if(clearTimeout(d),l.length)if(n&&n.filter){const p=n.filter(l.map(y=>Object.assign({},y.info)));if(p==null)a(null);else if(p instanceof ei)a(p);else{let y=null;if(p.uuid&&(y=l.filter(v=>p.uuid===v.info.uuid)[0]),y){const{provider:x,info:v}=y;a(new ei(x,void 0,{providerInfo:v}))}else o(Me("filter returned unknown info","UNSUPPORTED_OPERATION",{value:p}))}}else{const{provider:p,info:y}=l[0];a(new ei(p,void 0,{providerInfo:y}))}else a(null);r.removeEventListener("eip6963:announceProvider",u)},d=setTimeout(()=>{c()},i);r.addEventListener("eip6963:announceProvider",u),r.dispatchEvent(new Event("eip6963:requestProvider"))})}};wo=new WeakMap,vo=new WeakMap;let Rt=ei;const rP=[{inputs:[{internalType:"address",name:"_centralStonerFeePool",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidERC721",type:"error"},{inputs:[],name:"InvalidShareRange",type:"error"},{inputs:[],name:"PoolAlreadyExists",type:"error"},{inputs:[],name:"PoolDoesNotExist",type:"error"},{inputs:[],name:"ZeroAddressNotAllowed",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"swapFeeInWei",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stonerShare",type:"uint256"}],name:"DefaultFeesUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"centralStonerFeePool",type:"address"},{indexed:!0,internalType:"address",name:"deployer",type:"address"}],name:"FactoryDeployed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"nftCollection",type:"address"},{indexed:!0,internalType:"address",name:"swapPool",type:"address"}],name:"PoolDeactivated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"nftCollection",type:"address"},{indexed:!0,internalType:"address",name:"swapPool",type:"address"},{indexed:!0,internalType:"address",name:"stakeReceipt",type:"address"},{indexed:!1,internalType:"address",name:"creator",type:"address"}],name:"PoolPairCreated",type:"event"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allCollections",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allPools",outputs:[{internalType:"address",name:"nftCollection",type:"address"},{internalType:"address",name:"swapPool",type:"address"},{internalType:"address",name:"stakeReceipt",type:"address"},{internalType:"uint256",name:"createdAt",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"bool",name:"active",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"centralStonerFeePool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"collectionToPool",outputs:[{internalType:"address",name:"swapPool",type:"address"},{internalType:"address",name:"stakeReceipt",type:"address"},{internalType:"bool",name:"exists",type:"bool"},{internalType:"uint256",name:"createdAt",type:"uint256"},{internalType:"address",name:"creator",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"nftCollection",type:"address"},{internalType:"uint256",name:"customSwapFee",type:"uint256"},{internalType:"uint256",name:"customStonerShare",type:"uint256"}],name:"createPoolPair",outputs:[{internalType:"address",name:"swapPool",type:"address"},{internalType:"address",name:"stakeReceipt",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"nftCollection",type:"address"}],name:"deactivatePool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"defaultStonerShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"defaultSwapFeeInWei",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getActivePools",outputs:[{components:[{internalType:"address",name:"nftCollection",type:"address"},{internalType:"address",name:"swapPool",type:"address"},{internalType:"address",name:"stakeReceipt",type:"address"},{internalType:"uint256",name:"createdAt",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"bool",name:"active",type:"bool"}],internalType:"struct MultiPoolFactoryNonProxy.PoolData[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllCollections",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllPools",outputs:[{components:[{internalType:"address",name:"nftCollection",type:"address"},{internalType:"address",name:"swapPool",type:"address"},{internalType:"address",name:"stakeReceipt",type:"address"},{internalType:"uint256",name:"createdAt",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"bool",name:"active",type:"bool"}],internalType:"struct MultiPoolFactoryNonProxy.PoolData[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getFactoryStats",outputs:[{internalType:"uint256",name:"totalPools",type:"uint256"},{internalType:"address",name:"centralPool",type:"address"},{internalType:"uint256",name:"defaultFee",type:"uint256"},{internalType:"uint256",name:"defaultShare",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"collections",type:"address[]"}],name:"getMultiplePoolInfos",outputs:[{components:[{internalType:"address",name:"swapPool",type:"address"},{internalType:"address",name:"stakeReceipt",type:"address"},{internalType:"bool",name:"exists",type:"bool"},{internalType:"uint256",name:"createdAt",type:"uint256"},{internalType:"address",name:"creator",type:"address"}],internalType:"struct MultiPoolFactoryNonProxy.PoolInfo[]",name:"poolInfos",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"nftCollection",type:"address"}],name:"getPoolInfo",outputs:[{components:[{internalType:"address",name:"swapPool",type:"address"},{internalType:"address",name:"stakeReceipt",type:"address"},{internalType:"bool",name:"exists",type:"bool"},{internalType:"uint256",name:"createdAt",type:"uint256"},{internalType:"address",name:"creator",type:"address"}],internalType:"struct MultiPoolFactoryNonProxy.PoolInfo",name:"poolInfo",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"nftCollection",type:"address"}],name:"poolExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"registerMe",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"nftCollection",type:"address"},{internalType:"address",name:"swapPool",type:"address"},{internalType:"address",name:"stakeReceipt",type:"address"}],name:"registerPoolPair",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newSwapFeeInWei",type:"uint256"},{internalType:"uint256",name:"newStonerShare",type:"uint256"}],name:"setDefaultFees",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],Zr=[{inputs:[{internalType:"address",name:"_nftCollection",type:"address"},{internalType:"address",name:"_receiptContract",type:"address"},{internalType:"address",name:"_stonerPool",type:"address"},{internalType:"uint256",name:"_swapFeeInWei",type:"uint256"},{internalType:"uint256",name:"_stonerShare",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AlreadyInitialized",type:"error"},{inputs:[],name:"IncorrectFee",type:"error"},{inputs:[],name:"InvalidReceiptToken",type:"error"},{inputs:[],name:"InvalidStonerShare",type:"error"},{inputs:[],name:"NoRewardsToClaim",type:"error"},{inputs:[],name:"NoTokensAvailable",type:"error"},{inputs:[],name:"NotInitialized",type:"error"},{inputs:[],name:"NotSlotOwner",type:"error"},{inputs:[],name:"NotTokenOwner",type:"error"},{inputs:[],name:"SameTokenSwap",type:"error"},{inputs:[],name:"SlotNotActive",type:"error"},{inputs:[],name:"TokenNotApproved",type:"error"},{inputs:[],name:"TokenUnavailable",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newMaxBatchSize",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newMaxUnstakeAll",type:"uint256"}],name:"BatchLimitsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"swapCount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalFeePaid",type:"uint256"}],name:"BatchSwapExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256[]",name:"receiptTokenIds",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"tokensReceived",type:"uint256[]"}],name:"BatchUnstaked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"stonerAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"rewardsAmount",type:"uint256"}],name:"FeeSplit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RewardsClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RewardsDistributed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"slotId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"receiptTokenId",type:"uint256"}],name:"Staked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newShare",type:"uint256"}],name:"StonerShareUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenIdIn",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenIdOut",type:"uint256"},{indexed:!1,internalType:"uint256",name:"slotId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"feePaid",type:"uint256"}],name:"SwapExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newFeeInWei",type:"uint256"}],name:"SwapFeeUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"slotId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"receiptTokenId",type:"uint256"}],name:"Unstaked",type:"event"},{inputs:[],name:"claimRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"earned",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"emergencyWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"emergencyWithdrawETH",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"exit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getContractInfo",outputs:[{internalType:"address",name:"nft",type:"address"},{internalType:"address",name:"receipt",type:"address"},{internalType:"address",name:"stoner",type:"address"},{internalType:"uint256",name:"fee",type:"uint256"},{internalType:"uint256",name:"share",type:"uint256"},{internalType:"uint256",name:"poolSize",type:"uint256"},{internalType:"uint256",name:"stakedCount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolTokens",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserActiveSlotCount",outputs:[{internalType:"uint256",name:"count",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserSlots",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserStakes",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastUpdateTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxBatchSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxUnstakeAllLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextSlotId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"nftCollection",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"pendingRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolSlots",outputs:[{internalType:"address",name:"originalStaker",type:"address"},{internalType:"uint256",name:"stakedAt",type:"uint256"},{internalType:"bool",name:"active",type:"bool"},{internalType:"uint256",name:"receiptTokenId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"receiptContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"receiptToSlot",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"registerMe",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardPerToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardPerTokenStored",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxBatchSize",type:"uint256"},{internalType:"uint256",name:"newMaxUnstakeAll",type:"uint256"}],name:"setBatchLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newShare",type:"uint256"}],name:"setStonerShare",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newFeeInWei",type:"uint256"}],name:"setSwapFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"stakeNFT",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"}],name:"stakeNFTBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stonerPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"stonerShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"swapFeeInWei",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenIdIn",type:"uint256"}],name:"swapNFT",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256[]",name:"tokenIdsIn",type:"uint256[]"}],name:"swapNFTBatch",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIndexInPool",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalActiveSlots",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalRewardsDistributed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unstakeAllNFTs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"receiptTokenId",type:"uint256"}],name:"unstakeNFT",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"receiptTokenIds",type:"uint256[]"}],name:"unstakeNFTBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userRewardPerTokenPaid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"userSlots",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],sP=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidURI",type:"error"},{inputs:[],name:"NonTransferable",type:"error"},{inputs:[],name:"OnlyPool",type:"error"},{inputs:[],name:"PoolAlreadySet",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"newBaseURI",type:"string"}],name:"BaseURIUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"pool",type:"address"}],name:"PoolSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"receiptTokenId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"originalTokenId",type:"uint256"}],name:"ReceiptBurned",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"originalTokenId",type:"uint256"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"originalTokenIds",type:"uint256[]"}],name:"batchMint",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"receiptTokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"receiptTokenIds",type:"uint256[]"}],name:"batchBurn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserReceipts",outputs:[{internalType:"uint256[]",name:"receipts",type:"uint256[]"},{internalType:"uint256[]",name:"originalTokens",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"receiptTokenId",type:"uint256"}],name:"getOriginalTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"receiptTokenId",type:"uint256"}],name:"getReceiptInfo",outputs:[{internalType:"uint256",name:"originalTokenId",type:"uint256"},{internalType:"uint256",name:"mintTime",type:"uint256"},{internalType:"address",name:"originalMinter",type:"address"},{internalType:"uint256",name:"age",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserReceiptHistory",outputs:[{internalType:"uint256[]",name:"receiptIds",type:"uint256[]"},{internalType:"uint256[]",name:"originalTokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"mintTimes",type:"uint256[]"},{internalType:"uint256[]",name:"ages",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCollectionTimeline",outputs:[{internalType:"uint256",name:"totalMinted",type:"uint256"},{internalType:"uint256",name:"totalBurned",type:"uint256"},{internalType:"uint256",name:"currentSupply",type:"uint256"},{internalType:"uint256",name:"averageAge",type:"uint256"},{internalType:"uint256",name:"oldestActive",type:"uint256"},{internalType:"uint256",name:"newestActive",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserReceiptPortfolio",outputs:[{internalType:"uint256",name:"totalReceipts",type:"uint256"},{internalType:"uint256",name:"averageHoldingTime",type:"uint256"},{internalType:"uint256",name:"totalOriginalValue",type:"uint256"},{internalType:"uint256[]",name:"receiptIds",type:"uint256[]"},{internalType:"uint256[]",name:"originalTokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"holdingDurations",type:"uint256[]"},{internalType:"address[]",name:"poolAddresses",type:"address[]"},{internalType:"uint256",name:"oldestReceiptAge",type:"uint256"},{internalType:"uint256",name:"newestReceiptAge",type:"uint256"},{internalType:"bool",name:"hasLongTermHoldings",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"receiptTokenId",type:"uint256"},{internalType:"address",name:"expectedPool",type:"address"}],name:"validateReceipt",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"uri",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_pool",type:"address"}],name:"setPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"registerMe",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"receiptToOriginalToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"receiptMintTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"receiptMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"approve",outputs:[],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bool",name:"",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"}];function wa({image:t,tokenId:e,size:n=64}){const[r,s]=xo.useState(!1);return!t||r?h.jsxs("div",{style:{width:n,height:n},className:"bg-gradient-to-br from-gray-300 to-gray-400 rounded flex items-center justify-center text-gray-600 text-xs font-mono",children:["#",e]}):h.jsx("img",{src:t,alt:`NFT #${e}`,style:{width:n,height:n,borderRadius:8},onError:()=>s(!0)})}function iP({nftAddress:t,tokenId:e,spender:n,provider:r,onApproved:s,disabled:i}){const[a,o]=O.useState(!1),[l,u]=O.useState(!1),[c,d]=O.useState("");O.useEffect(()=>{if(u(!1),d(""),!t||!e||!n||!r)return;(async()=>{try{const v=await new ue(t,["function getApproved(uint256) view returns (address)","function approve(address,uint256) external"],r).getApproved(e);u(v.toLowerCase()===n.toLowerCase())}catch{d("Failed to check approval")}})()},[t,e,n,r]);const p=async()=>{o(!0),d("");try{if(!window.ethereum)throw new Error("Wallet not found");const y=new Rt(window.ethereum).getSigner();await(await new ue(t,["function approve(address,uint256) external"],await y).approve(n,e)).wait(),u(!0),s&&s()}catch(y){d(y.reason||y.message)}o(!1)};return e?l?h.jsx("span",{className:"text-green-400 font-semibold text-xs ml-2",children:"Approved"}):h.jsx("button",{className:"ml-2 px-2 py-1 bg-blue-600 text-white rounded text-xs font-semibold disabled:opacity-50",onClick:p,disabled:a||i,children:a?"Approving...":"Approve"}):null}function w0({count:t=6,size:e=56}){return h.jsx("div",{className:"flex gap-3 flex-wrap",children:Array.from({length:t}).map((n,r)=>h.jsx("div",{className:"flex flex-col items-center animate-pulse",children:h.jsxs("div",{className:"bg-gray-300 dark:bg-gray-700 rounded-xl border-2 border-gray-300 dark:border-gray-600",style:{width:e+8,height:e+24},children:[h.jsx("div",{className:"bg-gray-400 dark:bg-gray-600 rounded-lg m-1",style:{width:e,height:e}}),h.jsx("div",{className:"h-3 bg-gray-400 dark:bg-gray-600 rounded mx-2 mt-1"})]})},r))})}function aP({swapPool:t,stakeReceipt:e,provider:n}){const[r,s]=O.useState(""),[i,a]=O.useState(!1),[o,l]=O.useState([]),[u,c]=O.useState({}),[d,p]=O.useState(null),[y,x]=O.useState(!1),[v,A]=O.useState(!1),[m,g]=O.useState([]),[w,E]=O.useState([]),[N,C]=O.useState([]),[I,R]=O.useState([]),[j,_]=O.useState([]),[L,ie]=O.useState([]),[q,Fe]=O.useState(null),[S,D]=O.useState(!1),[G,B]=O.useState(!1),[H,V]=O.useState(!1),[ne,se]=O.useState(null),Ee=async()=>{if(!window.ethereum)throw new Error("Wallet not found");return new Rt(window.ethereum).getSigner()},be=async()=>{console.log("Manual refresh triggered"),D(!0),B(!0),V(!0),l([]),E([]),C([]),Fe(null),await new Promise(W=>setTimeout(W,100));const F=n||(window.ethereum?new Rt(window.ethereum):null);if(!F){D(!1),B(!1),V(!1);return}let K=null;if(window.ethereum)try{K=await(await F.getSigner()).getAddress()}catch(W){console.warn("Could not get signer:",W)}Fe(K)};O.useEffect(()=>{(async()=>{const K=n||(window.ethereum?new Rt(window.ethereum):null);if(!K)return;D(!0),B(!0);try{const Z=await new ue(t,Zr,K).getContractInfo();se({nftCollection:Z[0],receiptContract:Z[1],stonerPool:Z[2],swapFeeInWei:Z[3],stonerShare:Z[4],poolSize:Number(Z[5]),stakedCount:Number(Z[6])}),console.log(" Contract Info:",{poolSize:Number(Z[5]),stakedCount:Number(Z[6])})}catch(X){console.warn("Failed to fetch contract info:",X),se(null)}let W=null;if(window.ethereum)try{W=await(await K.getSigner()).getAddress()}catch{}Fe(W);let ee=null;try{if(ee=await new ue(t,Zr,K).nftCollection(),console.log(" SwapPool NFT Collection Address:",ee),console.log(" User Address:",W),console.log(" SwapPool Address:",t),console.log(" SwapPool Address:",t),p(ee),!ee){console.log(" Could not get NFT collection address from SwapPool"),l([]),D(!1);return}const X=new ue(ee,["function balanceOf(address) view returns (uint256)","function ownerOf(uint256) view returns (address)","function tokenOfOwnerByIndex(address,uint256) view returns (uint256)","function tokenURI(uint256) view returns (string)","function getApproved(uint256) view returns (address)","function isApprovedForAll(address,address) view returns (bool)","function totalSupply() view returns (uint256)"],K);if(W){const Z=await X.balanceOf(W);console.log(` Collection NFT Balance for ${W}:`,Z.toString());const le=Number(Z);console.log(` Collection NFT Balance for ${W}: ${Z.toString()}`),le===0&&console.log(" ERC404 token detected (balance=0), skipping enumerable approach and using fallback scan");const ve=[];let de=!1;try{de=await X.isApprovedForAll(W,t)}catch{}x(!!de);let re=[];const Re=le>0&&le<=1e4;if(Re&&le>0)try{console.log(` Trying enumerable approach for ${Z.toString()} collection tokens...`);const Ne=[];for(let nt=0;nt<le;nt++)Ne.push(X.tokenOfOwnerByIndex(W,nt));re=await Promise.all(Ne),console.log(" Enumerable approach successful, found tokens:",re.map(nt=>nt.toString()))}catch{console.log(" tokenOfOwnerByIndex not supported, will use fallback scan for Collection NFTs"),re=[]}else console.log(` Unrealistic balance (${Z.toString()}), skipping enumerable approach`),re=[];if(re.length===0)try{let Ne=1e4;try{const Jt=await X.totalSupply();Ne=Math.min(Number(Jt)+100,1e4),console.log(` Collection NFT Total supply: ${Jt.toString()}, scanning up to token ${Ne}`)}catch{console.log(` Total supply not available, scanning up to token ${Ne}`)}const nt=[],Au=50;for(let Jt=1;Jt<=Ne;Jt+=Au){const Go=Math.min(Jt+Au-1,Ne),ku=[];for(let Lt=Jt;Lt<=Go;Lt++)ku.push(X.ownerOf(Lt).then(Eu=>({tokenId:Lt,owner:Eu})).catch(()=>null));const Vr=(await Promise.all(ku)).filter(Lt=>Lt&&Lt.owner.toLowerCase()===W.toLowerCase()).map(Lt=>BigInt(Lt.tokenId));if(nt.push(...Vr),Jt%200===1&&console.log(` Scanned tokens ${Jt}-${Go}, found ${nt.length} owned tokens so far`),Re&&nt.length>=le){console.log(` Found all ${nt.length} tokens according to realistic balance, stopping scan early`);break}}re=nt,console.log(` Collection NFT fallback scan complete, found ${re.length} tokens:`,re.map(Jt=>Jt.toString())),le===0&&re.length>0?console.log(` ERC404 token detection successful: balance=0 but found ${re.length} actual tokens`):Re&&le>0&&re.length!==le?console.warn(` Collection NFT count mismatch: balance=${Z.toString()}, found=${re.length}`):le>1e4&&console.log(` Found ${re.length} Collection NFTs (balance was unrealistic: ${Z.toString()})`)}catch(Ne){console.error(" Fallback token scanning failed:",Ne),re=[]}if(console.log(" Token IDs found:",re.map(Ne=>Ne.toString())),re.length===0){console.log(" No tokens found for user"),l([]),c({}),D(!1);return}const Xe=re.map(Ne=>X.tokenURI(Ne).catch(nt=>(console.warn(`Failed to get URI for Collection token ${Ne}:`,nt),null))),An=await Promise.all(Xe);console.log(" Collection NFT URIs fetched:",An.length);const Mt=re.map(Ne=>de?Promise.resolve(!0):X.getApproved(Ne).then(nt=>nt&&t&&nt.toLowerCase()===t.toLowerCase()).catch(()=>!1)),_m=await Promise.all(Mt),kn=5,Ho=[],zm={};console.log(` Processing metadata for ${re.length} Collection NFTs in batches of ${kn}`);for(let Ne=0;Ne<re.length;Ne+=kn){const nt=re.slice(Ne,Ne+kn);console.log(` Processing batch ${Math.floor(Ne/kn)+1}: tokens ${Ne+1}-${Math.min(Ne+kn,re.length)}`);const Au=nt.map(async(Go,ku)=>{const Wd=Ne+ku;let Vr=null;const Lt=An[Wd];if(Lt)try{let Tu=Lt.startsWith("ipfs://")?Lt.replace("ipfs://","https://ipfs.io/ipfs/"):Lt;if(Tu.startsWith("http")){const Nu=await(await fetch(Tu)).json();Vr=Nu.image||Nu.image_url||Nu.properties&&Nu.properties.image||null,Vr&&Vr.startsWith("ipfs://")&&(Vr=Vr.replace("ipfs://","https://ipfs.io/ipfs/"))}}catch(Tu){console.warn(`Failed to fetch metadata for token ${Go}:`,Tu)}const Eu=Go.toString();return zm[Eu]=_m[Wd],{tokenId:Eu,image:Vr}}),Jt=await Promise.all(Au);Ho.push(...Jt),console.log(` Completed batch ${Math.floor(Ne/kn)+1}, total processed: ${Ho.length}`)}console.log(" Final Collection NFT tokens:",Ho.length,Ho),l(Ho),c(zm),D(!1)}}catch(X){console.error(" Error fetching wallet NFTs:",X),l([]),D(!1)}try{const X=new ue(t,Zr,K);if(W){const Z=await X.getUserStakes(W);g(Z.map(le=>le.toString()))}}catch{g([])}try{const X=new ue(e,["function balanceOf(address) view returns (uint256)","function tokenOfOwnerByIndex(address,uint256) view returns (uint256)","function tokenURI(uint256) view returns (string)","function receiptToOriginalToken(uint256) view returns (uint256)"],K);if(W){const Z=await X.balanceOf(W),le=[];for(let ve=0;ve<Number(Z);ve++){const de=await X.tokenOfOwnerByIndex(W,ve);let re=null;try{let Re=await X.tokenURI(de);if(console.log(`Receipt token ${de} URI:`,Re),Re&&Re.startsWith("ipfs://")&&(Re=Re.replace("ipfs://","https://ipfs.io/ipfs/")),Re&&Re.startsWith("http"))try{const An=await(await fetch(Re)).json();re=An.image||An.image_url||An.properties&&An.properties.image||null,re&&re.startsWith("ipfs://")&&(re=re.replace("ipfs://","https://ipfs.io/ipfs/"))}catch(Xe){console.warn("Failed to fetch receipt metadata:",Xe)}if(!re&&ee)try{const Xe=await X.receiptToOriginalToken(de);console.log(`Receipt ${de} maps to original token ${Xe}`);let Mt=await new ue(ee,["function tokenURI(uint256) view returns (string)"],K).tokenURI(Xe);if(Mt&&Mt.startsWith("ipfs://")&&(Mt=Mt.replace("ipfs://","https://ipfs.io/ipfs/")),Mt&&Mt.startsWith("http")){const kn=await(await fetch(Mt)).json();re=kn.image||kn.image_url||kn.properties&&kn.properties.image||null,re&&re.startsWith("ipfs://")&&(re=re.replace("ipfs://","https://ipfs.io/ipfs/"))}}catch(Xe){console.warn("Failed to fetch original NFT metadata for receipt:",Xe)}}catch(Re){console.warn("Failed to fetch receipt NFT metadata/image",de,Re)}le.push({tokenId:de.toString(),image:re})}E(le)}}catch(X){console.error("Failed to fetch receipt NFTs:",X),E([])}try{const Z=await new ue(t,Zr,K).getPoolTokens(),le=Array.from(Z).map(ve=>ve.toString());if(console.log(" Pool token IDs available for swap:",le),ee&&le.length>0){const ve=new ue(ee,["function tokenURI(uint256) view returns (string)"],K);console.log(` Fetching metadata for ${le.length} pool NFTs from collection ${ee}`);const de=[];for(const re of le){let Re=null;try{let Xe=await ve.tokenURI(re);if(Xe&&Xe.startsWith("ipfs://")&&(Xe=Xe.replace("ipfs://","https://ipfs.io/ipfs/")),Xe&&Xe.startsWith("http")){const An=await fetch(Xe);if(An.ok){const Mt=await An.json();Re=Mt.image||Mt.image_url||Mt.properties&&Mt.properties.image||null,Re&&Re.startsWith("ipfs://")&&(Re=Re.replace("ipfs://","https://ipfs.io/ipfs/"))}}}catch(Xe){console.warn("Failed to fetch pool NFT metadata for token",re,Xe)}de.push({tokenId:re.toString(),image:Re})}C(de),console.log(" Pool NFTs fetched:",de.length,de)}else console.log(" No pool NFTs available or collection address missing"),C([]);V(!1)}catch(X){console.error(" Failed to fetch pool NFTs:",X),C([]),V(!1)}})()},[t,e,q]),O.useEffect(()=>{if(window.ethereum){const F=W=>{console.log("Wallet accounts changed:",W),l([]),E([]),C([]),Fe(W[0]||null)},K=W=>{console.log("Chain changed:",W),window.location.reload()};return window.ethereum.on("accountsChanged",F),window.ethereum.on("chainChanged",K),()=>{window.ethereum.removeListener("accountsChanged",F),window.ethereum.removeListener("chainChanged",K)}}},[]);const Ze=async()=>{if(s(""),I.length===0){s("Select at least one NFT to stake.");return}if(I.length>10){s("You can only stake up to 10 NFTs at once.");return}if(new Set(I).size!==I.length){s("Duplicate NFTs selected. Please select each NFT only once.");return}if(!y&&!I.every(K=>u[K])){s("All selected NFTs must be approved before staking.");return}a(!0);try{const K=await Ee(),W=new ue(t,Zr,K);console.log("Attempting to stake:",I.length,"NFTs"),console.log("Token IDs:",I),console.log("Contract has stakeNFTBatch:",typeof W.stakeNFTBatch=="function");let ee;I.length>1?ee=await W.stakeNFTBatch(I):ee=await W.stakeNFT(I[0]),s("Staking..."),await ee.wait(),s("Stake successful!"),R([])}catch(K){s("Stake failed: "+(K.reason||K.message)),console.error("Detailed stake error:",K)}a(!1)},pe=async()=>{if(s(""),j.length===0){s("Select at least one NFT to unstake.");return}if(j.length>10){s("You can only unstake up to 10 NFTs at once.");return}a(!0);try{const F=await Ee(),K=new ue(t,Zr,F);let W;j.length>1&&K.unstakeNFTBatch?W=await K.unstakeNFTBatch(j):W=await K.unstakeNFT(j[0]),s("Unstaking..."),await W.wait(),s("Unstake successful!")}catch(F){s("Unstake failed: "+(F.reason||F.message))}a(!1)},me=async()=>{s(""),a(!0);try{const F=await Ee(),W=await new ue(t,Zr,F).claimRewards();s("Claiming rewards..."),await W.wait(),s("Rewards claimed!")}catch(F){s("Claim failed: "+(F.reason||F.message))}a(!1)},Ke=async()=>{if(L.length===0){s("Please select at least one NFT to swap");return}if(L.length>10){s("You can only swap up to 10 NFTs at once.");return}if(N.length<L.length){N.length===0?s(" Cannot swap: Pool is empty! You need to stake some NFTs first to create liquidity for swapping."):s(` Insufficient liquidity: Only ${N.length} NFT${N.length!==1?"s":""} available in pool, but you selected ${L.length}. Stake more NFTs or reduce your selection.`);return}if(!d){s("NFT collection address not available");return}s(""),a(!0);try{const F=await Ee(),K=new ue(t,Zr,F),W=new ue(d,["function approve(address,uint256)","function getApproved(uint256) view returns (address)","function ownerOf(uint256) view returns (address)","function setApprovalForAll(address,bool)","function isApprovedForAll(address,address) view returns (bool)"],F),ee=await F.getAddress();s("Verifying ownership...");for(const de of L)try{if((await W.ownerOf(de)).toLowerCase()!==ee.toLowerCase()){s(` You do not own NFT #${de}`),a(!1);return}}catch{s(` Error checking ownership of NFT #${de}`),a(!1);return}s("Checking approvals...");let X=!1;if(L.length>1)try{await W.isApprovedForAll(ee,t)||(s("Requesting approval for all NFTs..."),await(await W.setApprovalForAll(t,!0)).wait(),s(" All NFTs approved"))}catch(de){if(de.code==="ACTION_REJECTED"){s(" User cancelled approval transaction"),a(!1);return}console.warn("setApprovalForAll failed, using individual approvals:",de),X=!0}else X=!0;if(X)for(const de of L)try{(await W.getApproved(de)).toLowerCase()!==t.toLowerCase()&&(s(`Requesting approval for NFT #${de}...`),await(await W.approve(t,de)).wait())}catch(re){if(re.code==="ACTION_REJECTED"){s(" User cancelled approval transaction"),a(!1);return}s(` Failed to approve NFT #${de}: ${re.message}`),a(!1);return}const Z=await K.swapFeeInWei(),le=Z*BigInt(L.length);s(`Swapping ${L.length} NFT${L.length>1?"s":""}...`);let ve;L.length>1&&K.swapNFTBatch?ve=await K.swapNFTBatch(L,{value:le}):ve=await K.swapNFT(L[0],{value:Z}),await ve.wait(),s(` Successfully swapped ${L.length} NFT${L.length>1?"s":""}!`),fetchUserNFTs(),fetchPoolTokens(),ie([])}catch(F){if(console.error("Swap error:",F),F.code==="ACTION_REJECTED")s(" User cancelled transaction");else if(F.data==="0xa17e11d5"||F.message.includes("InsufficientLiquidity"))s(` Insufficient liquidity: Not enough NFTs in pool for ${L.length} swap${L.length>1?"s":""}`);else if(F.data==="0xa0712d68"||F.message.includes("SameTokenSwap"))s(" Cannot swap: One of your NFTs is already in the pool");else if(F.data==="0x82b42900"||F.message.includes("TokenNotApproved"))s(" NFT not approved for transfer");else if(F.data==="0x8baa579f"||F.message.includes("NotTokenOwner"))s(" You do not own one or more of the selected NFTs");else if(F.data==="0x025dbdd4"||F.message.includes("IncorrectFee"))s(" Incorrect swap fee sent");else if(F.data==="0xd05cb609"||F.message.includes("NotInitialized"))s(" Pool not initialized");else{const K=F.reason||F.message||"Unknown error";s(" Swap failed: "+K)}}a(!1)};return h.jsxs("div",{className:"mt-6 p-4 sm:p-6 bg-white/95 dark:bg-gray-800/95 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h4",{className:"font-bold text-lg text-blue-600 dark:text-blue-400 tracking-wide",children:"Pool Actions"}),h.jsxs("button",{onClick:be,className:"px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center gap-1.5",title:"Refresh all NFTs",children:[h.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),ne&&h.jsx("div",{className:"mb-4 p-3 bg-gray-100 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:h.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl mb-1",children:""}),h.jsx("div",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"Pool Size"}),h.jsx("div",{className:"text-lg font-bold",children:ne.poolSize}),h.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Available for swapping"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl mb-1",children:""}),h.jsx("div",{className:"font-semibold text-green-600 dark:text-green-400",children:"Staked Count"}),h.jsx("div",{className:"text-lg font-bold",children:ne.stakedCount}),h.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Earning rewards"})]})]})}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("div",{className:"font-semibold text-green-400",children:"Stake NFT(s)"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:`text-xs px-2 py-1 rounded ${I.length>8?"bg-yellow-900/30 text-yellow-300":I.length>0?"bg-green-900/30 text-green-300":"bg-gray-800/30 text-gray-400"}`,children:[" ",I.length,"/10 selected"]}),h.jsx("div",{className:"text-xs text-green-300 bg-green-900/30 px-2 py-1 rounded",children:" Max 10 NFTs per batch"})]})]}),h.jsx("div",{className:"flex gap-3 flex-wrap",children:S?h.jsx(w0,{count:6,size:56}):o.length===0?h.jsx("div",{className:"text-muted italic",children:"No NFTs in wallet"}):o.map(F=>h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsxs("button",{className:`border-2 rounded-xl p-1 bg-gradient-to-br from-green-900/20 to-card shadow-sm transition-all ${I.includes(F.tokenId)?"border-green-400 scale-105":"border-gray-700 hover:border-green-400"} text-text`,onClick:()=>R(K=>K.includes(F.tokenId)?K.filter(W=>W!==F.tokenId):[...K,F.tokenId]),disabled:i,children:[h.jsx(wa,{image:F.image,tokenId:F.tokenId,size:56}),h.jsxs("div",{className:"text-xs text-center text-text font-mono",children:["#",F.tokenId]})]}),t&&!y&&h.jsx(iP,{nftAddress:d,tokenId:F.tokenId,spender:t,provider:n,disabled:i||u[F.tokenId],onApproved:()=>c(K=>({...K,[F.tokenId]:!0}))})]},F.tokenId))}),h.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[h.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-green-500 to-teal-400 text-white rounded-lg shadow font-semibold tracking-wide disabled:opacity-50",onClick:Ze,disabled:i||I.length===0||!I.every(F=>u[F]||y),children:"Stake Selected"}),t&&!y&&h.jsx("button",{className:"px-3 py-2 bg-blue-600 text-white rounded shadow text-xs font-semibold disabled:opacity-50",disabled:v||i,onClick:async()=>{A(!0);try{if(!window.ethereum)throw new Error("Wallet not found");const F=await new Rt(window.ethereum).getSigner();await(await new ue(d,["function setApprovalForAll(address,bool) external"],F).setApprovalForAll(t,!0)).wait(),x(!0),c(ee=>{const X={...ee};return o.forEach(Z=>{X[Z.tokenId]=!0}),X})}catch(F){alert(F.reason||F.message)}A(!1)},children:v?"Approving All...":"Approve All"}),y&&h.jsx("span",{className:"text-green-400 font-semibold text-xs ml-2",children:"All Approved"})]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("div",{className:"font-semibold text-red-400",children:"Unstake NFT(s)"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:`text-xs px-2 py-1 rounded ${j.length>8?"bg-yellow-900/30 text-yellow-300":j.length>0?"bg-red-900/30 text-red-300":"bg-gray-800/30 text-gray-400"}`,children:[" ",j.length,"/10 selected"]}),h.jsx("div",{className:"text-xs text-red-300 bg-red-900/30 px-2 py-1 rounded",children:" Max 10 NFTs per batch"})]})]}),h.jsxs("div",{className:"flex gap-3 flex-wrap",children:[w.length===0&&h.jsx("div",{className:"text-muted italic",children:"No receipt tokens"}),w.map(F=>h.jsxs("button",{className:`border-2 rounded-xl p-1 bg-gradient-to-br from-red-900/20 to-card shadow-sm transition-all ${j.includes(F.tokenId)?"border-red-400 scale-105":"border-gray-700 hover:border-red-400"} text-text`,onClick:()=>_(K=>K.includes(F.tokenId)?K.filter(W=>W!==F.tokenId):[...K,F.tokenId]),disabled:i,children:[h.jsx(wa,{image:F.image,tokenId:F.tokenId,size:56}),h.jsxs("div",{className:"text-xs text-center text-text font-mono",children:["#",F.tokenId]})]},F.tokenId))]}),h.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-red-500 to-pink-400 text-white rounded-lg shadow mt-3 font-semibold tracking-wide disabled:opacity-50",onClick:pe,disabled:i||j.length===0,children:"Unstake Selected"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"font-semibold mb-2 text-yellow-400",children:"Claim Rewards"}),h.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-yellow-400 to-yellow-500 text-white rounded-lg shadow font-semibold tracking-wide disabled:opacity-50",onClick:me,disabled:i,children:"Claim"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"font-semibold mb-2 text-purple-400",children:"Pool NFTs Available for Swap"}),h.jsx("div",{className:"flex gap-3 flex-wrap",children:H?h.jsx(w0,{count:6,size:56}):N.length===0?h.jsxs("div",{className:"w-full p-4 bg-secondary/50 rounded-lg text-center",children:[h.jsx("div",{className:"text-2xl mb-2",children:""}),h.jsx("div",{className:"text-muted dark:text-muted mb-1",children:"No NFTs in pool"}),h.jsx("div",{className:"text-sm text-muted dark:text-muted",children:"This collection pool is empty. Stake collection NFTs to add them to the pool for swapping!"})]}):N.map(F=>h.jsx("div",{className:"flex flex-col items-center",children:h.jsxs("div",{className:"border-2 border-purple-600/50 rounded-xl p-1 bg-gradient-to-br from-purple-900/20 to-card shadow-sm",children:[h.jsx(wa,{image:F.image,tokenId:F.tokenId,size:56}),h.jsxs("div",{className:"text-xs text-center text-text font-mono",children:["#",F.tokenId]}),h.jsx("div",{className:"text-xs text-center text-purple-400 font-semibold",children:"AVAILABLE"})]})},F.tokenId))})]}),h.jsxs("div",{children:[N.length===0&&h.jsx("div",{className:"mb-4 p-3 bg-blue-900/20 border border-blue-500/20 rounded-lg",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("div",{className:"text-blue-400 text-lg",children:""}),h.jsxs("div",{children:[h.jsx("div",{className:"font-semibold text-blue-400 mb-1",children:"How to Enable Swapping:"}),h.jsxs("div",{className:"text-sm text-blue-300",children:["1. ",h.jsx("strong",{children:"Stake"})," your NFTs first (above) to add them to the pool",h.jsx("br",{}),"2. Other users can then ",h.jsx("strong",{children:"swap"})," their NFTs with yours",h.jsx("br",{}),"3. You receive a receipt token that you can later unstake"]})]})]})}),h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("div",{className:"font-semibold text-indigo-400",children:"Swap Your NFT(s)"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:`text-xs px-2 py-1 rounded ${L.length>8?"bg-yellow-900/30 text-yellow-300":L.length>0?"bg-indigo-900/30 text-indigo-300":"bg-gray-800/30 text-gray-400"}`,children:[" ",L.length,"/10 selected"]}),h.jsx("div",{className:"text-xs text-indigo-300 bg-indigo-900/30 px-2 py-1 rounded",children:" Max 10 NFTs per batch"})]})]}),h.jsxs("div",{className:"flex gap-3 flex-wrap",children:[o.length===0&&h.jsx("div",{className:"text-muted italic",children:"No NFTs in wallet"}),o.map(F=>h.jsxs("button",{className:`border-2 rounded-xl p-1 bg-gradient-to-br from-indigo-900/20 to-card shadow-sm transition-all ${L.includes(F.tokenId)?"border-indigo-400 scale-105 ring-2 ring-indigo-400/50":"border-gray-700 hover:border-indigo-400"} text-text ${L.length>=10&&!L.includes(F.tokenId)?"opacity-50 cursor-not-allowed":""}`,onClick:()=>{L.includes(F.tokenId)?ie(K=>K.filter(W=>W!==F.tokenId)):L.length<10&&ie(K=>[...K,F.tokenId])},disabled:i||L.length>=10&&!L.includes(F.tokenId),children:[h.jsx(wa,{image:F.image,tokenId:F.tokenId,size:56}),h.jsxs("div",{className:"text-xs text-center text-text font-mono",children:["#",F.tokenId]}),L.includes(F.tokenId)&&h.jsx("div",{className:"text-xs text-center text-indigo-400 font-semibold",children:" SELECTED"})]},F.tokenId))]}),h.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[h.jsxs("button",{className:`px-4 py-2 text-white rounded-lg shadow font-semibold tracking-wide disabled:opacity-50 flex items-center gap-2 ${N.length===0?"bg-gradient-to-r from-gray-500 to-gray-600 cursor-not-allowed":"bg-gradient-to-r from-indigo-500 to-blue-500"}`,onClick:Ke,disabled:i||L.length===0||N.length===0,title:N.length===0?"Pool is empty - stake NFTs first to enable swapping":"",children:[i&&h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),N.length===0?" Pool Empty - Stake NFTs First":i?"Swapping...":`Swap Selected (${L.length})`]}),L.length>0&&h.jsx("button",{className:"px-3 py-2 bg-gray-600 text-white rounded shadow text-sm hover:bg-gray-500 transition",onClick:()=>ie([]),disabled:i,children:"Clear Selection"})]})]}),r&&h.jsx("div",{className:"mt-4 text-base text-accent font-semibold animate-pulse",children:r})]})]})}const oP={"0xB6748d708B5Cda0eA8c53e7072566971FCCb6b49":"https://nftstorage.link/stoner.png","0xE3941DB58B9D35410A66636da07c9B28b878B89E":"https://nftstorage.link/boat.png"};function _b({address:t,size:e=48}){const[n,r]=xo.useState(!1),[s,i]=xo.useState(!0),a=oP[t==null?void 0:t.toLowerCase()];return!a||n?h.jsx("div",{style:{width:e,height:e},className:"bg-gradient-to-br from-accent/20 to-indigo-500/20 rounded flex items-center justify-center text-accent text-xs font-bold border-2 border-accent/20",children:"NFT"}):h.jsxs("div",{className:"relative",children:[s&&h.jsx("div",{style:{width:e,height:e},className:"absolute inset-0 bg-gray-300 rounded animate-pulse"}),h.jsx("img",{src:a,alt:"NFT Collection",style:{width:e,height:e,borderRadius:8},onError:()=>r(!0),onLoad:()=>i(!1),className:s?"opacity-0":"opacity-100"})]})}function lP({pool:t,onClose:e,provider:n}){return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-4xl max-h-[90vh] overflow-y-auto p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700",children:[h.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-800 pb-4 mb-4 border-b border-gray-200 dark:border-gray-700",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h3",{className:"text-xl font-semibold text-blue-600 dark:text-blue-400",children:"Pool Details"}),h.jsx("button",{className:"text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 px-3 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition flex-shrink-0",onClick:e,children:" Close"})]})}),"        ",h.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 mb-4",children:[h.jsx(_b,{address:t.nftCollection,size:64}),h.jsxs("div",{className:"w-full",children:[h.jsxs("div",{className:"font-semibold text-base sm:text-lg text-blue-600 dark:text-blue-400 mb-1",children:["Collection: ",h.jsxs("span",{className:"font-mono text-gray-600 dark:text-gray-400",children:[t.nftCollection.slice(0,6),"...",t.nftCollection.slice(-4)]})]}),h.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["SwapPool: ",h.jsxs("span",{className:"font-mono",children:[t.swapPool.slice(0,6),"...",t.swapPool.slice(-4)]})]}),h.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Receipt: ",h.jsxs("span",{className:"font-mono",children:[t.stakeReceipt.slice(0,6),"...",t.stakeReceipt.slice(-4)]})]}),h.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Creator: ",t.creator]}),h.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Created: ",t.createdAt]}),h.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Active: ",t.active?"Yes":"No"]})]})]}),h.jsxs("div",{className:"mt-6 flex gap-2",children:[h.jsx("a",{className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded shadow transition",href:`https://explorer.sonic.org/address/${t.swapPool}`,target:"_blank",rel:"noreferrer",children:"Explorer"}),h.jsx("button",{className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600 rounded transition",onClick:()=>navigator.clipboard.writeText(t.swapPool),children:"Copy Address"})]}),h.jsx(aP,{swapPool:t.swapPool,stakeReceipt:t.stakeReceipt,provider:n})]})})}async function uP(t,e){try{return await new ue(t,["function name() view returns (string)"],e).name()}catch{return"Unknown Collection"}}function cP(){const[t,e]=O.useState(null),[n,r]=O.useState(null),[s,i]=O.useState(null),[a,o]=O.useState([]),[l,u]=O.useState({}),[c,d]=O.useState(!1),[p,y]=O.useState(null),[x,v]=O.useState(""),[A,m]=O.useState(!0),[g,w]=O.useState(""),E="0x1Db92C2F11b7716f3fa6E94969a8649a32adB1De",[N,C]=O.useState(E);O.useEffect(()=>{(async()=>{m(!0);try{if(window.ethereum){const _=new Rt(window.ethereum);e(_),v(""),console.log("Provider set: window.ethereum");try{const L=await window.ethereum.request({method:"eth_chainId"}),ie=parseInt(L,16);ie!==146&&console.warn("Connected chainId",ie,"expected 146 (Sonic)")}catch(L){console.warn("Could not read chainId from injected provider",L)}}else{const _=["https://sonic-mainnet.alt.technology","https://rpc.soniclabs.com","https://sonic.drpc.org","https://sonic-mainnet.alt.technology"].filter(Boolean);let L=null;for(const ie of _)try{const q=new tP(ie);await q.getBlockNumber(),L=q,console.log("Provider set: "+ie);break}catch(q){console.warn("RPC failed",ie,q)}L?(e(L),v("")):v("No Sonic RPC endpoint available. Please check your connection or try again later.")}}catch(_){v("Provider init failed: "+(_.message||_.toString())),console.warn("Provider init failed",_)}m(!1)})()},[]);const I=async()=>{if(!window.ethereum){w("Please install MetaMask or another wallet");return}w("");try{await window.ethereum.request({method:"eth_requestAccounts"});const j=new Rt(window.ethereum),_=await j.getSigner(),L=await _.getAddress();e(j),r(_),i(L)}catch(j){w("Failed to connect wallet: "+(j.message||j.toString())),console.error(j)}},R=async()=>{if(!N){w("Factory address not set. Provide VITE_FACTORY_ADDRESS or public/contracts.json");return}if(!t){console.warn("fetchPools called without provider");return}d(!0),w("");try{try{const q=await t.getNetwork();if(q&&q.chainId&&Number(q.chainId)!==146){d(!1),w(`Connected to chain ${q.chainId}. Please switch your wallet/RPC to Sonic (chainId 146) and retry.`);return}const Fe=await t.send("eth_getCode",[N,"latest"]);if(!Fe||Fe==="0x"||Fe==="0x0"){d(!1),w(`No contract deployed at ${N} on the current network. Make sure the address is correct and you're connected to Sonic (chainId 146).`);return}}catch(q){console.warn("Network/code check failed",q)}const j=new ue(N,rP,t);let _=[];try{_=await j.getAllPools(),_=_.filter(q=>q.active)}catch(q){console.error("Failed to get pools from factory:",q),_=[]}console.log("All active pools from contract:",_);const L=_.map(q=>({nftCollection:q.nftCollection,swapPool:q.swapPool,stakeReceipt:q.stakeReceipt,createdAt:new Date(Number(q.createdAt)*1e3).toLocaleString(),creator:q.creator,active:q.active,poolAddress:q.swapPool}));console.log("All pools (no deduplication applied):",L),o(L);const ie={};for(const q of L)ie[q.nftCollection]=await uP(q.nftCollection,t);u(ie)}catch(j){console.error("Failed to fetch pools",j),j.code==="BAD_DATA"?w("Failed to decode on-chain result. This often means the contract ABI does not match or you are connected to the wrong RPC/network."):w("Failed to fetch pools: "+(j.message||String(j)))}d(!1)};return O.useEffect(()=>{t&&N&&R()},[t,N]),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-4 bg-card/50 rounded-xl border border-accent/10",children:[h.jsx("div",{className:"flex items-center gap-3",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`w-3 h-3 rounded-full ${s?"bg-green-400":t?"bg-yellow-400":"bg-red-400"}`}),h.jsx("span",{className:"text-sm font-medium",children:s?`Connected: ${s.slice(0,6)}...${s.slice(-4)}`:t?"Provider Ready":"Not Connected"})]})}),h.jsx("button",{className:"px-4 py-2 bg-accent text-white rounded-lg shadow hover:bg-accent/80 transition-colors font-medium",onClick:I,children:s?"Connected":"Connect Wallet"})]}),g&&h.jsxs("div",{className:"p-4 bg-red-900/20 border border-red-500/20 text-red-400 rounded-xl",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{children:""}),h.jsx("span",{className:"font-semibold",children:"Error"})]}),h.jsx("p",{className:"text-sm",children:g})]}),A&&h.jsxs("div",{className:"p-6 bg-card/30 rounded-xl text-center",children:[h.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[h.jsx("div",{className:"w-5 h-5 border-2 border-accent border-t-transparent rounded-full animate-spin"}),h.jsx("span",{className:"font-semibold",children:"Connecting to Sonic Network..."})]}),h.jsx("p",{className:"text-sm text-muted",children:"Please wait while we establish connection"})]}),!A&&x&&h.jsxs("div",{className:"p-4 bg-red-900/20 border border-red-500/20 text-red-400 rounded-xl",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{children:""}),h.jsx("span",{className:"font-semibold",children:"Connection Error"})]}),h.jsx("p",{className:"text-sm",children:x})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("h2",{className:"text-xl font-bold text-accent",children:"Swap Pools"}),h.jsxs("div",{className:"px-3 py-1 bg-accent/10 text-accent rounded-full text-sm font-medium",children:[a.length," active"]})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"text-xs text-muted",children:["Factory: ",h.jsxs("span",{className:"font-mono text-accent",children:[N==null?void 0:N.slice(0,6),"...",(N==null?void 0:N.slice(-4))||"Not set"]})]}),h.jsxs("button",{onClick:R,disabled:c,className:"px-4 py-2 bg-accent text-white rounded-lg shadow hover:bg-accent/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 font-medium",children:[c&&h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),c?"Loading...":"Refresh Pools"]})]})]}),c&&a.length===0?h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(j=>h.jsx("div",{className:"p-4 sm:p-5 bg-card rounded-2xl shadow-lg animate-pulse",children:h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-14 h-14 bg-gray-600 rounded-lg"}),h.jsxs("div",{className:"flex-1 space-y-2",children:[h.jsx("div",{className:"h-4 bg-gray-600 rounded w-3/4"}),h.jsx("div",{className:"h-3 bg-gray-600 rounded w-1/2"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"h-3 bg-gray-600 rounded w-2/3"}),h.jsx("div",{className:"h-3 bg-gray-600 rounded w-1/2"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("div",{className:"h-6 bg-gray-600 rounded w-16"}),h.jsx("div",{className:"h-6 bg-gray-600 rounded w-20"})]})]})},j))}):a.length===0?h.jsxs("div",{className:"p-8 bg-white/90 dark:bg-gray-800/90 rounded-2xl text-center border border-gray-200 dark:border-gray-700",children:[h.jsx("div",{className:"text-6xl mb-4",children:""}),h.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Swap Pools Found"}),h.jsx("p",{className:"text-muted mb-4",children:N?"No pools are currently registered with this factory.":"Please set a factory address first."}),N&&h.jsx("button",{onClick:R,className:"px-4 py-2 bg-accent text-white rounded-lg hover:bg-accent/80 transition-colors",children:"Refresh Pools"})]}):h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((j,_)=>h.jsxs("div",{className:"group p-4 sm:p-5 bg-white/95 dark:bg-gray-800/95 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-200 dark:border-gray-700 hover:border-blue-400/50 cursor-pointer",onClick:()=>y(j),children:[h.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[h.jsx(_b,{address:j.nftCollection,size:56}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"font-semibold text-lg text-blue-600 dark:text-blue-400 mb-1 truncate",children:l[j.nftCollection]||"Loading..."}),h.jsxs("p",{className:"text-xs text-muted font-mono truncate",children:[j.nftCollection.slice(0,8),"...",j.nftCollection.slice(-6)]})]})]}),h.jsxs("div",{className:"space-y-2 text-xs text-muted mb-4",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Pool:"}),h.jsxs("span",{className:"font-mono",children:[j.swapPool.slice(0,8),"...",j.swapPool.slice(-6)]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Receipt:"}),h.jsxs("span",{className:"font-mono",children:[j.stakeReceipt.slice(0,8),"...",j.stakeReceipt.slice(-6)]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Created:"}),h.jsx("span",{children:new Date(Number(j.createdAt)).toLocaleDateString()})]})]}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx("button",{className:"flex-1 px-3 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white rounded-lg transition-colors text-sm font-medium shadow-sm",onClick:L=>{L.stopPropagation(),y(j)},children:"View Details"}),h.jsx("button",{className:"px-3 py-2 bg-secondary/50 hover:bg-secondary text-text rounded-lg transition-colors text-xs",onClick:L=>{L.stopPropagation(),navigator.clipboard.writeText(j.swapPool)},title:"Copy pool address",children:""})]})]},`${j.swapPool}-${_}`))})]}),p&&h.jsx(lP,{pool:p,onClose:()=>y(null),provider:t})]})}const zf="0x2ce24bc81E4Baf1e49Fb61Ec4ED1e58395EC3119",Xi="0x5777fc6ca7f6BDc02dF3323A0C05970bB9D05b74",dP=["function balanceOf(address) view returns (uint256)","function symbol() view returns (string)","function decimals() view returns (uint8)","function name() view returns (string)","function totalSupply() view returns (uint256)"],fP=["function getPoolInfo() view returns (address nftCollection, address receiptContract, address stonerPool, uint256 swapFeeInWei, uint256 stonerShare, uint256 poolSize, uint256 totalStaked)","function stonerShare() view returns (uint256)","function stonerPool() view returns (address)","function swapFeeInWei() view returns (uint256)"],Hf=["function totalStaked() view returns (uint256)","function paused() view returns (bool)","function owner() view returns (address)","function getPoolInfo() view returns (address nftAddress, uint256 totalStakedTokens, uint256 totalRewards, uint256 contractBalance)","function notifyNativeReward() payable"];function pP(){var o;const[t,e]=O.useState(null),[n,r]=O.useState(!1),s=async()=>{r(!0),e(null);try{if(!window.ethereum){e(" No wallet detected");return}await window.ethereum.request({method:"eth_requestAccounts"});const l=new Rt(window.ethereum),d={userAddress:await(await l.getSigner()).getAddress(),swapPool:{},stonerFeePool:{},transferTest:{},gasEstimates:{}},y=await new ue(zf,fP,l).getPoolInfo();d.swapPool={address:zf,nftCollection:y[0],receiptContract:y[1],configuredStonerPool:y[2],swapFeeInWei:ga(y[3]),stonerShare:Number(y[4]),poolSize:Number(y[5]),totalStaked:Number(y[6]),stonerPoolMatches:y[2].toLowerCase()===Xi.toLowerCase()};const x=new ue(Xi,Hf,l),v=await x.getPoolInfo(),A=await x.totalStaked(),m=await x.paused(),g=await x.owner();d.stonerFeePool={address:Xi,totalStaked:Number(A),isPaused:m,owner:g,contractBalance:ga(v[3]),canReceiveRewards:Number(A)>0&&!m};try{const w=Ef("0.001"),E=await x.notifyNativeReward.estimateGas({value:w});d.transferTest={success:!0,gasEstimate:Number(E),testAmount:"0.001 S"}}catch(w){d.transferTest={success:!1,error:w.message,reason:w.reason||"Unknown"}}if(d.swapPool.stonerShare>0){const w=Ef(d.swapPool.swapFeeInWei),E=w*BigInt(d.swapPool.stonerShare)/BigInt(100);d.gasEstimates={swapFee:d.swapPool.swapFeeInWei,stonerAmount:ga(E),rewardsAmount:ga(w-E)}}e(d)}catch(l){e(` Error during diagnostics: ${l.message}`)}finally{r(!1)}},i=async()=>{try{const u=await new Rt(window.ethereum).getSigner(),c=new ue(Xi,Hf,u);console.log("Testing direct transfer to StonerFeePool..."),await(await c.notifyNativeReward({value:Ef("0.001")})).wait(),console.log(" Direct transfer successful!"),alert(" Direct transfer to StonerFeePool successful! The issue might be elsewhere.")}catch(l){console.error(" Direct transfer failed:",l),alert(` Direct transfer failed: ${l.reason||l.message}`)}},a=async()=>{try{const l=new Rt(window.ethereum),c=await(await l.getSigner()).getAddress(),d=new ue(Xi,Hf,l),p=await d.getWhitelistedTokens();console.log(" Whitelisted tokens in StonerFeePool:",p);for(const y of p)try{const x=new ue(y,dP,l),[v,A,m,g]=await Promise.all([x.symbol(),x.name(),x.decimals(),x.totalSupply()]),[w,E,N,C]=await Promise.all([x.balanceOf(zf),x.balanceOf(Xi),x.balanceOf(c),d.calculatePendingERC20Rewards(c,y)]);console.log(`
 ${v} (${A}) Analysis:`),console.log(`  Contract: ${y}`),console.log(`  Decimals: ${m}`),console.log(`  Total Supply: ${pr(g,m)}`),console.log(`  SwapPool Balance: ${pr(w,m)}`),console.log(`  StonerFeePool Balance: ${pr(E,m)}`),console.log(`  Your Balance: ${pr(N,m)}`),console.log(`  Your Pending Rewards: ${pr(C,m)}`),(pr(w,m)==="1100.0"||pr(E,m)==="1100.0")&&(console.log(" Found boat token with 1100 balance!"),alert(` Found ${v}: 1100 tokens found! Check console for details.`))}catch(x){console.error(`Failed to analyze token ${y}:`,x)}alert(` ERC20 analysis complete. Found ${p.length} whitelisted tokens. Check console for details.`)}catch(l){console.error(" ERC20 analysis failed:",l),alert(` ERC20 analysis failed: ${l.message}`)}};return h.jsxs("div",{className:"p-6 bg-red-100 dark:bg-red-900/20 rounded-xl border border-red-300 dark:border-red-700 space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"font-bold text-red-700 dark:text-red-300 text-lg",children:" Swap Diagnostics"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:s,disabled:n,className:"px-4 py-2 bg-red-600 text-white rounded disabled:opacity-50 hover:bg-red-700 transition-colors",children:n?"Checking...":"Run Diagnostics"}),h.jsx("button",{onClick:a,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:"Analyze ERC20 Rewards"}),t&&typeof t=="object"&&((o=t.stonerFeePool)==null?void 0:o.canReceiveRewards)&&h.jsx("button",{onClick:i,className:"px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors",children:"Test Direct Transfer"})]})]}),t&&h.jsx("div",{className:"space-y-4 text-sm",children:typeof t=="string"?h.jsx("p",{className:"text-red-600 dark:text-red-400",children:t}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded border",children:[h.jsx("h4",{className:"font-semibold mb-2",children:"SwapPool Configuration:"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[h.jsx("span",{children:"Configured Stoner Pool:"}),h.jsxs("span",{className:t.swapPool.stonerPoolMatches?"text-green-600":"text-red-600",children:[t.swapPool.configuredStonerPool," ",t.swapPool.stonerPoolMatches?"":""]}),h.jsx("span",{children:"Stoner Share:"}),h.jsxs("span",{children:[t.swapPool.stonerShare,"%"]}),h.jsx("span",{children:"Swap Fee:"}),h.jsxs("span",{children:[t.swapPool.swapFeeInWei," S"]}),h.jsx("span",{children:"Pool Size:"}),h.jsxs("span",{children:[t.swapPool.poolSize," NFTs"]})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded border",children:[h.jsx("h4",{className:"font-semibold mb-2",children:"StonerFeePool Status:"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[h.jsx("span",{children:"Total Staked:"}),h.jsxs("span",{className:t.stonerFeePool.totalStaked>0?"text-green-600":"text-red-600",children:[t.stonerFeePool.totalStaked," NFTs ",t.stonerFeePool.totalStaked>0?"":""]}),h.jsx("span",{children:"Is Paused:"}),h.jsx("span",{className:t.stonerFeePool.isPaused?"text-red-600":"text-green-600",children:t.stonerFeePool.isPaused?"YES ":"NO "}),h.jsx("span",{children:"Can Receive:"}),h.jsx("span",{className:t.stonerFeePool.canReceiveRewards?"text-green-600":"text-red-600",children:t.stonerFeePool.canReceiveRewards?"YES ":"NO "}),h.jsx("span",{children:"Balance:"}),h.jsxs("span",{children:[t.stonerFeePool.contractBalance," S"]})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded border",children:[h.jsx("h4",{className:"font-semibold mb-2",children:"Transfer Test:"}),h.jsx("div",{className:"text-xs",children:t.transferTest.success?h.jsxs("p",{className:"text-green-600",children:[" Can send S to StonerFeePool (Gas: ",t.transferTest.gasEstimate,")"]}):h.jsxs("div",{children:[h.jsx("p",{className:"text-red-600",children:" Cannot send S to StonerFeePool"}),h.jsxs("p",{className:"text-red-600 mt-1",children:["Error: ",t.transferTest.reason]}),h.jsx("p",{className:"text-gray-600 mt-1 text-xs",children:t.transferTest.error})]})})]}),t.gasEstimates.swapFee&&h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded border",children:[h.jsx("h4",{className:"font-semibold mb-2",children:"Expected Fee Split:"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[h.jsx("span",{children:"Total Swap Fee:"}),h.jsxs("span",{children:[t.gasEstimates.swapFee," S"]}),h.jsx("span",{children:"To Stoner Pool:"}),h.jsxs("span",{children:[t.gasEstimates.stonerAmount," S"]}),h.jsx("span",{children:"To Rewards:"}),h.jsxs("span",{children:[t.gasEstimates.rewardsAmount," S"]})]})]}),h.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/20 p-4 rounded border border-yellow-400",children:[h.jsx("h4",{className:"font-semibold text-yellow-700 dark:text-yellow-300 mb-2",children:"Recommendations:"}),h.jsxs("div",{className:"text-xs space-y-1",children:[!t.swapPool.stonerPoolMatches&&h.jsx("p",{className:"text-red-600",children:" SwapPool is configured with wrong StonerPool address!"}),t.stonerFeePool.isPaused&&h.jsx("p",{className:"text-red-600",children:" StonerFeePool is paused - needs to be unpaused by owner"}),t.stonerFeePool.totalStaked===0&&h.jsx("p",{className:"text-orange-600",children:" No NFTs staked in StonerFeePool - stake at least 1 NFT"}),!t.transferTest.success&&h.jsxs("p",{className:"text-red-600",children:[" Direct S transfer to StonerFeePool fails: ",t.transferTest.reason]})]})]})]})})]})}const hP="modulepreload",mP=function(t){return"/"+t},v0={},yP=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=mP(l),l in v0)return;v0[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":hP,u||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((p,y)=>{d.addEventListener("load",p),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},Vs=[{inputs:[{internalType:"address",name:"_stonerNFT",type:"address"},{internalType:"address",name:"_receiptToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AlreadyStaked",type:"error"},{inputs:[],name:"DuplicateTokenId",type:"error"},{inputs:[],name:"EmptyArray",type:"error"},{inputs:[],name:"NoERC20Rewards",type:"error"},{inputs:[],name:"NoRewards",type:"error"},{inputs:[],name:"NoStakers",type:"error"},{inputs:[],name:"NotStaked",type:"error"},{inputs:[],name:"NotYourToken",type:"error"},{inputs:[],name:"TokenAlreadyWhitelisted",type:"error"},{inputs:[],name:"TokenNotWhitelisted",type:"error"},{inputs:[],name:"TooManyTokens",type:"error"},{inputs:[],name:"TransferFailed",type:"error"},{inputs:[],name:"ZeroAddress",type:"error"},{inputs:[],name:"ZeroETH",type:"error"},{inputs:[],name:"ZeroTokenAmount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ERC20RewardClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ERC20RewardReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EmergencyERC20Withdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EmergencyETHWithdrawal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"EmergencyUnstake",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RewardClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RewardReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Staked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"}],name:"TokenRemovedFromWhitelist",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"}],name:"TokenWhitelisted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Unstaked",type:"event"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"addWhitelistedToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"token",type:"address"}],name:"calculatePendingERC20Rewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"calculatePendingRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"claimAllERC20Rewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimAllRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"claimERC20Rewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimRewardsOnly",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"earned",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"token",type:"address"}],name:"earnedERC20",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"emergencyUnstake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"emergencyUnstakeWithClaim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"emergencyWithdrawERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"emergencyWithdrawETH",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"erc20RewardCarry",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"erc20RewardPerTokenStored",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"erc20Rewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"erc20TotalRewardsClaimed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"erc20UserRewardPerTokenPaid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"exit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getAllPendingERC20Rewards",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rewardAmounts",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"getERC20PoolInfo",outputs:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"uint256",name:"totalClaimedAmount",type:"uint256"},{internalType:"uint256",name:"contractBalance",type:"uint256"},{internalType:"bool",name:"isWhitelisted",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolInfo",outputs:[{internalType:"address",name:"nftAddress",type:"address"},{internalType:"uint256",name:"totalStakedTokens",type:"uint256"},{internalType:"uint256",name:"totalRewards",type:"uint256"},{internalType:"uint256",name:"contractBalance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getStakeInfo",outputs:[{internalType:"address",name:"staker",type:"address"},{internalType:"uint256",name:"stakedAt",type:"uint256"},{internalType:"uint256",name:"stakingDuration",type:"uint256"},{internalType:"bool",name:"active",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getStakedTokens",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getWhitelistedTokens",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"isStaked",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"notifyERC20Reward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"notifyNativeReward",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"receiptIdByOriginal",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"receiptToken",outputs:[{internalType:"contract IStakeReceipt",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"registerMe",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"removeWhitelistedToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardCarry",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardPerTokenStored",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"rewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"}],name:"stakeMultiple",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"stakedTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"stakerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"stonerNFT",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalRewardsClaimed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalStaked",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"unstake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"}],name:"unstakeMultiple",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userRewardPerTokenPaid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whitelistedTokens",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"whitelistedTokensList",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],x0=[{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_startTime",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AlreadyExists",type:"error"},{inputs:[],name:"InvalidOwner",type:"error"},{inputs:[],name:"InvalidRecipient",type:"error"},{inputs:[],name:"InvalidSender",type:"error"},{inputs:[],name:"NotFound",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{inputs:[],name:"UnsafeRecipient",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ERC20Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"ERC721Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"activePhase",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amountOrId",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"availableIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseTokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"phase",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"}],name:"canMintAmountInPhase",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_contract",type:"address"}],name:"contractNFTBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_contract",type:"address"}],name:"contractTokenBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_contract",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"enoughTokenBalance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"phase",type:"uint256"},{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256",name:"quantity",type:"uint256"}],name:"grantPhaseAccess",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"phase",type:"uint256"},{internalType:"address",name:"account",type:"address"}],name:"hasPhaseAccess",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxMintPerTx",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxMintable",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"mintActive",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"mintHasStarted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"minted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"}],name:"ownerMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"phaseDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"phaseMintsRemaining",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"phases",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"revokeOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"royaltyAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyReceiver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsUntilStart",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_baseURI",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxMintPerTx",type:"uint256"}],name:"setMaxPerTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"mintActive_",type:"bool"}],name:"setMintActive",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_paused",type:"bool"}],name:"setPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_price",type:"uint256"}],name:"setPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_royaltyAmount",type:"uint256"}],name:"setRoyaltyAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_receiver",type:"address"}],name:"setRoyaltyReceiver",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_startTime",type:"uint256"}],name:"setStartTime",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"},{internalType:"bool",name:"state",type:"bool"}],name:"setWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"startTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalAvailableIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"totalNFTsOwned",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalNativeSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whitelist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],gP="0xB6748d708B5Cda0eA8c53e7072566971FCCb6b49",wP="0x5777fc6ca7f6BDc02dF3323A0C05970bB9D05b74",zb={stonerStakeReceipt:gP,stonerFeePool:wP},cr=zb.stonerFeePool,vP=zb.stonerStakeReceipt,Gf="0x9b567e03d891F537b2B7874aA4A3308Cfe2F4FBb";function xP(){console.log(" StonerFeePoolActions component loaded!");const[t,e]=O.useState(""),[n,r]=O.useState(!1),[s,i]=O.useState([]),[a,o]=O.useState([]),[l,u]=O.useState([]),[c,d]=O.useState([]),[p,y]=O.useState(!1),[x,v]=O.useState("0"),[A,m]=O.useState([]),[g,w]=O.useState([]),[E,N]=O.useState(!1),C=async()=>{if(!window.ethereum)throw new Error("Wallet not found");return new Rt(window.ethereum).getSigner()},I=async()=>{if(console.log(" fetchNFTs called in StonerFeePoolActions"),!!window.ethereum)try{const S=new Rt(window.ethereum),G=await(await S.getSigner()).getAddress(),B=new ue(Gf,x0,S),H=new ue(cr,Vs,S),V=await B.isApprovedForAll(G,cr);y(V);const ne=await B.totalNFTsOwned(G);console.log(" Stoner NFT balance:",ne.toString());const se=Number(ne),Ee=1e3;if(se>Ee){console.log(` Balance seems unusually large (${se}), limiting to ${Ee}`),i([]),o([]),e(`Warning: NFT balance appears corrupted (${se}). Please check the contract.`);return}const be=[];let Ze=!1;try{await B.tokenOfOwnerByIndex(G,0),Ze=!0,console.log(" Using tokenOfOwnerByIndex approach");for(let pe=0;pe<Math.min(Number(ne),50);pe++)try{const me=await B.tokenOfOwnerByIndex(G,pe);console.log(` Found wallet token ${pe+1}/${ne}: #${me.toString()}`);let Ke=null;try{let F=await B.tokenURI(me);if(F.startsWith("ipfs://")&&(F=F.replace("ipfs://","https://ipfs.io/ipfs/")),F.startsWith("http")){const W=await(await fetch(F)).json();Ke=W.image||W.image_url,Ke&&Ke.startsWith("ipfs://")&&(Ke=Ke.replace("ipfs://","https://ipfs.io/ipfs/"))}}catch{console.warn("Failed to fetch metadata for token",me.toString())}be.push({tokenId:me.toString(),image:Ke})}catch(me){console.warn(`Failed to get token at index ${pe}:`,me.message);continue}}catch{console.log(" tokenOfOwnerByIndex not supported, trying alternative approach"),Ze=!1}if(!Ze||be.length<Number(ne)){console.log(" Trying multicall brute force token discovery...");const{Multicall:pe}=await yP(async()=>{const{Multicall:Z}=await import("./index-DcJZz5h0.js");return{Multicall:Z}},[]),me=new pe({ethersProvider:S,tryAggregate:!0}),Ke=1e3,F=[];for(let Z=0;Z<=Ke;Z++)F.push({reference:`ownerOf_${Z}`,contractAddress:Gf,abi:x0,calls:[{methodName:"ownerOf",methodParameters:[Z]}]});const K=await me.call(F),ee=Object.entries(K.results).filter(([Z,le])=>le.callsReturnContext&&le.callsReturnContext[0].returnValues&&le.callsReturnContext[0].returnValues[0]&&le.callsReturnContext[0].returnValues[0].toLowerCase()===G.toLowerCase()).map(([Z])=>parseInt(Z.replace("ownerOf_",""))).map(async Z=>{if(be.some(de=>de.tokenId===Z.toString()))return null;let ve=null;try{let de=await B.tokenURI(Z);if(de.startsWith("ipfs://")&&(de=de.replace("ipfs://","https://ipfs.io/ipfs/")),de.startsWith("http")){const Re=await(await fetch(de)).json();ve=Re.image||Re.image_url,ve&&ve.startsWith("ipfs://")&&(ve=ve.replace("ipfs://","https://ipfs.io/ipfs/"))}}catch{console.warn("Failed to fetch metadata for token",Z.toString())}return{tokenId:Z.toString(),image:ve}});(await Promise.all(ee)).forEach(Z=>{Z&&be.push(Z)})}console.log(` Loaded ${be.length}/${ne} wallet Stoner NFTs`),i(be);try{console.log(" Fetching staked NFTs from StakeReceipt contract...");const pe=new ue(vP,sP,S);let me=[];try{const[Ke,F]=await pe.getUserReceipts(G);console.log(" Raw receipts and original tokens from getUserReceipts:",Ke,F);const K=Array.from(Ke).map(ee=>ee.toString()),W=Array.from(F).map(ee=>ee.toString());console.log(" Staked Stoner NFT token IDs from receipts:",W);for(let ee=0;ee<W.length;ee++){const X=W[ee],Z=K[ee];let le=null;try{let ve=await B.tokenURI(X);if(ve.startsWith("ipfs://")&&(ve=ve.replace("ipfs://","https://ipfs.io/ipfs/")),ve.startsWith("http")){const re=await(await fetch(ve)).json();le=re.image||re.image_url,le&&le.startsWith("ipfs://")&&(le=le.replace("ipfs://","https://ipfs.io/ipfs/"))}}catch{console.warn("Failed to fetch metadata for staked token",X)}me.push({tokenId:X,receiptId:Z,image:le})}}catch{console.log(" getUserReceipts() not available, trying fallback method...");try{const F=await pe.balanceOf(G);if(console.log(" StakeReceipt balance:",F.toString()),F>0){const K=[];try{for(let W=0;W<Number(F);W++){const ee=await pe.tokenOfOwnerByIndex(G,W);K.push(ee.toString())}console.log(" Receipt token IDs:",K)}catch{console.log(" tokenOfOwnerByIndex not available, using brute force for receipts...");for(let ee=1;ee<=1e3;ee++)try{(await pe.ownerOf(ee)).toLowerCase()===G.toLowerCase()&&K.push(ee.toString())}catch{}}for(const W of K){let ee=null;try{ee=await pe.receiptToOriginalToken(W)}catch{try{ee=await pe.getOriginalTokenId(W)}catch{ee=W}}if(ee){let X=null;try{let Z=await B.tokenURI(ee);if(Z.startsWith("ipfs://")&&(Z=Z.replace("ipfs://","https://ipfs.io/ipfs/")),Z.startsWith("http")){const ve=await(await fetch(Z)).json();X=ve.image||ve.image_url,X&&X.startsWith("ipfs://")&&(X=X.replace("ipfs://","https://ipfs.io/ipfs/"))}}catch{console.warn("Failed to fetch metadata for staked token",ee.toString())}me.push({tokenId:ee.toString(),receiptId:W,image:X})}}}}catch(F){console.log(" Fallback method also failed:",F)}}console.log(` Loaded ${me.length} staked Stoner NFTs:`,me.map(Ke=>Ke.tokenId)),o(me)}catch(pe){console.warn("Failed to fetch staked NFTs:",pe)}}catch(S){console.error("Failed to fetch NFTs:",S)}},R=async()=>{if(console.log(" fetchRewards called in StonerFeePoolActions"),!!window.ethereum)try{N(!0);const S=new Rt(window.ethereum),G=await(await S.getSigner()).getAddress(),B=new ue(cr,Vs,S),H=await B.calculatePendingRewards(G);v(ga(H)),console.log(" Native S rewards:",ga(H));const V=await B.getWhitelistedTokens();w(V),console.log(" Whitelisted tokens:",V);const ne=V.map(async Ee=>{try{const be=await B.calculatePendingERC20Rewards(G,Ee);let Ze="Unknown",pe=18;try{const me=new ue(Ee,["function symbol() view returns (string)","function decimals() view returns (uint8)"],S);Ze=await me.symbol(),pe=await me.decimals()}catch(me){console.warn(`Failed to get token info for ${Ee}:`,me.message)}return{address:Ee,symbol:Ze,decimals:pe,earned:pr(be,pe),rawEarned:be.toString()}}catch(be){return console.warn(`Failed to get rewards for token ${Ee}:`,be.message),null}}),se=(await Promise.all(ne)).filter(Ee=>Ee!==null);m(se),console.log(" ERC20 rewards:",se)}catch(S){console.error("Failed to fetch rewards:",S)}finally{N(!1)}};O.useEffect(()=>{I(),R()},[]);const j=async()=>{if(l.length===0){e("Select NFTs to stake first");return}r(!0),e("");try{const S=await C(),D=new ue(cr,Vs,S);let G;l.length===1?G=await D.stake(l[0]):G=await D.stakeMultiple(l),e("Staking..."),await G.wait(),e("Staking successful!"),u([]),await I()}catch(S){e("Staking failed: "+(S.reason||S.message))}r(!1)},_=async()=>{if(c.length===0){e("Select staked NFTs to unstake first");return}r(!0),e("");try{const S=await C(),D=new ue(cr,Vs,S),G=c.map(H=>{const V=a.find(ne=>ne.tokenId===H);return V?V.receiptId:H});console.log(" Unstaking with receipt IDs:",G);let B;G.length===1?B=await D.unstake(G[0]):B=await D.unstakeMultiple(G),e("Unstaking..."),await B.wait(),e("Unstaking successful!"),d([]),await I()}catch(S){console.error("Unstaking failed:",S),e("Unstaking failed: "+(S.reason||S.message))}r(!1)},L=async()=>{r(!0),e("");try{const S=await C(),G=await new ue(cr,Vs,S).claimAllRewards();e("Claiming rewards..."),await G.wait(),e("Rewards claimed successfully!"),await R()}catch(S){e("Claim failed: "+(S.reason||S.message))}r(!1)},ie=async()=>{r(!0),e("");try{const S=await C(),G=await new ue(cr,Vs,S).claimRewardsOnly();e("Claiming native rewards..."),await G.wait(),e("Native rewards claimed successfully!"),await R()}catch(S){e("Native claim failed: "+(S.reason||S.message))}r(!1)},q=async S=>{r(!0),e("");try{const D=await C(),B=await new ue(cr,Vs,D).claimERC20Rewards(S);e("Claiming ERC20 rewards..."),await B.wait(),e("ERC20 rewards claimed successfully!"),await R()}catch(D){e("ERC20 claim failed: "+(D.reason||D.message))}r(!1)},Fe=async()=>{r(!0);try{const S=await C();await(await new ue(Gf,["function setApprovalForAll(address,bool) external"],S).setApprovalForAll(cr,!0)).wait(),y(!0),e("Approval successful!")}catch(S){e("Approval failed: "+(S.reason||S.message))}r(!1)};return h.jsxs("div",{className:"p-6 bg-white/95 dark:bg-gray-800/95 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 backdrop-blur-sm space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg flex items-center justify-center",children:h.jsx("span",{className:"text-white font-bold text-lg",children:""})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-xl text-green-400",children:"Stoner NFT Staking"}),h.jsx("p",{className:"text-sm text-muted",children:"Stake your Stoner NFTs to earn rewards"})]})]}),h.jsx("button",{onClick:L,disabled:n,className:"px-4 py-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-lg hover:from-yellow-600 hover:to-orange-600 transition-all disabled:opacity-50 font-medium",children:"Claim Rewards"})]}),t&&h.jsx("div",{className:`p-3 rounded-lg ${t.includes("successful")||t.includes("claimed")?"bg-green-900/20 border border-green-500/20 text-green-400":t.includes("failed")||t.includes("error")?"bg-red-900/20 border border-red-500/20 text-red-400":"bg-blue-900/20 border border-blue-500/20 text-blue-400"}`,children:t}),h.jsxs("div",{className:"bg-gradient-to-br from-yellow-500/10 to-orange-500/10 rounded-xl border border-yellow-500/20 p-6 space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-lg flex items-center justify-center",children:h.jsx("span",{className:"text-white text-lg",children:""})}),h.jsx("h4",{className:"font-semibold text-yellow-400",children:"Claimable Rewards"})]}),h.jsx("button",{onClick:R,disabled:E,className:"px-3 py-1 bg-yellow-600 text-white rounded text-sm disabled:opacity-50 hover:bg-yellow-700 transition-colors",children:E?"Loading...":"Refresh"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"bg-black/20 rounded-lg p-4 border border-gray-600",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-blue-400 text-lg",children:""}),h.jsx("span",{className:"font-medium text-blue-400",children:"S Rewards"})]}),h.jsx("button",{onClick:ie,disabled:n||parseFloat(x)===0,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm disabled:opacity-50 hover:bg-blue-700 transition-colors",children:"Claim S"})]}),h.jsxs("div",{className:"text-2xl font-bold text-white",children:[parseFloat(x).toFixed(6)," S"]})]}),A.length>0?h.jsxs("div",{className:"bg-black/20 rounded-lg p-4 border border-gray-600",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-green-400 text-lg",children:""}),h.jsx("span",{className:"font-medium text-green-400",children:"Token Rewards"})]}),h.jsx("button",{onClick:L,disabled:n||A.every(S=>parseFloat(S.earned)===0),className:"px-3 py-1 bg-green-600 text-white rounded text-sm disabled:opacity-50 hover:bg-green-700 transition-colors",children:"Claim All"})]}),h.jsx("div",{className:"space-y-2 max-h-24 overflow-y-auto",children:A.map((S,D)=>h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"text-gray-400",children:[S.symbol,":"]}),h.jsx("span",{className:"text-white font-medium",children:parseFloat(S.earned).toFixed(4)})]}),h.jsx("button",{onClick:()=>q(S.address),disabled:n||parseFloat(S.earned)===0,className:"px-2 py-1 bg-green-600/80 text-white rounded text-xs disabled:opacity-50 hover:bg-green-600 transition-colors",children:"Claim"})]},S.address))})]}):h.jsxs("div",{className:"bg-black/20 rounded-lg p-4 border border-gray-600",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:"text-gray-400 text-lg",children:""}),h.jsx("span",{className:"font-medium text-gray-400",children:"Token Rewards"})]}),h.jsx("div",{className:"text-sm text-gray-500",children:"No whitelisted tokens or rewards available"})]})]}),(parseFloat(x)>0||A.some(S=>parseFloat(S.earned)>0))&&h.jsx("div",{className:"text-center",children:h.jsx("button",{onClick:L,disabled:n,className:"px-6 py-2 bg-gradient-to-r from-yellow-500 to-orange-600 text-white rounded-lg disabled:opacity-50 hover:from-yellow-600 hover:to-orange-700 transition-all font-semibold",children:n?"Claiming...":"Claim All Rewards"})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("h4",{className:"font-semibold text-green-400",children:["Stake NFTs (",l.length," selected)"]}),!p&&h.jsx("button",{onClick:Fe,disabled:n,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm disabled:opacity-50",children:"Approve All"})]}),s.length===0?h.jsxs("div",{className:"p-6 bg-card/30 rounded-xl text-center",children:[h.jsx("div",{className:"text-4xl mb-3",children:""}),h.jsx("p",{className:"text-muted",children:"No Stoner NFTs found in wallet"})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"grid grid-cols-4 gap-3",children:s.slice(0,12).map(S=>h.jsxs("div",{className:`relative cursor-pointer rounded-lg border-2 transition-all ${l.includes(S.tokenId)?"border-green-400 bg-green-400/10":"border-transparent hover:border-accent/30"}`,onClick:()=>{l.includes(S.tokenId)?u(D=>D.filter(G=>G!==S.tokenId)):u(D=>[...D,S.tokenId])},children:[h.jsx("div",{className:"aspect-square p-2",children:h.jsx(wa,{image:S.image,tokenId:S.tokenId,size:"100%"})}),h.jsxs("div",{className:"text-xs text-center p-1",children:["#",S.tokenId]})]},S.tokenId))}),h.jsx("button",{onClick:j,disabled:n||l.length===0||!p,className:"w-full px-4 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg disabled:opacity-50",children:n?"Staking...":`Stake ${l.length} NFT${l.length!==1?"s":""}`})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h4",{className:"font-semibold text-blue-400",children:["Unstake NFTs (",c.length," selected)"]}),a.length===0?h.jsxs("div",{className:"p-6 bg-card/30 rounded-xl text-center",children:[h.jsx("div",{className:"text-4xl mb-3",children:""}),h.jsx("p",{className:"text-muted",children:"No staked NFTs"})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"grid grid-cols-4 gap-3",children:a.slice(0,12).map(S=>h.jsxs("div",{className:`relative cursor-pointer rounded-lg border-2 transition-all ${c.includes(S.tokenId)?"border-blue-400 bg-blue-400/10":"border-transparent hover:border-accent/30"}`,onClick:()=>{c.includes(S.tokenId)?d(D=>D.filter(G=>G!==S.tokenId)):d(D=>[...D,S.tokenId])},children:[h.jsx("div",{className:"aspect-square p-2",children:h.jsx(wa,{image:S.image,tokenId:S.tokenId,size:"100%"})}),h.jsxs("div",{className:"text-xs text-center p-1",children:["#",S.tokenId]})]},S.tokenId))}),h.jsx("button",{onClick:_,disabled:n||c.length===0,className:"w-full px-4 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg disabled:opacity-50",children:n?"Unstaking...":`Unstake ${c.length} NFT${c.length!==1?"s":""}`})]})]})]})]})}function bP(){return h.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[h.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Stoner NFT Staking"}),h.jsx(xP,{})]})}function AP(){const[t,e]=O.useState(()=>typeof window<"u"?localStorage.getItem("theme")!=="light":!0);return xo.useEffect(()=>{document.documentElement.classList.toggle("dark",t),localStorage.setItem("theme",t?"dark":"light")},[t]),h.jsx("div",{className:"min-h-screen p-0 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:bg-gradient-to-br dark:from-zinc-900 dark:via-gray-900 dark:to-slate-900 text-gray-900 dark:text-gray-100",children:h.jsxs("div",{className:"max-w-6xl mx-auto p-2 sm:p-4 md:p-6 w-full",children:[h.jsxs("header",{className:"flex flex-col sm:flex-row items-center justify-between mb-6 py-4 px-2 sm:px-4 rounded-lg shadow-lg bg-white/90 dark:bg-gray-800/90 backdrop-blur-md gap-4 border border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-full shadow flex items-center justify-center",children:h.jsx("span",{className:"text-white font-bold text-lg",children:""})}),h.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold bg-gradient-to-r from-indigo-600 via-blue-500 to-teal-400 bg-clip-text text-transparent drop-shadow",children:"NFT Swap Dashboard"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(wk,{to:"/staking",className:"px-4 py-2 rounded-lg bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 font-semibold text-sm shadow hover:bg-indigo-200 dark:hover:bg-indigo-800 transition-colors",children:"Stoner Staking"}),h.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 transition-colors",title:"Toggle theme",children:t?"":""}),h.jsx("span",{className:"inline-block px-3 py-1 bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 rounded-full font-semibold text-xs sm:text-sm shadow",children:"Sonic Network"})]})]}),h.jsx("main",{children:h.jsxs(lk,{children:[h.jsx(Up,{path:"/",element:h.jsxs(h.Fragment,{children:[h.jsx(pP,{}),h.jsx("div",{className:"mt-6",children:h.jsx(cP,{})})]})}),h.jsx(Up,{path:"/staking",element:h.jsx(bP,{})})]})})]})})}Fv(document.getElementById("root")).render(h.jsx(xo.StrictMode,{children:h.jsx(mk,{children:h.jsx(AP,{})})}));export{Vb as a,TP as c,NP as g};
